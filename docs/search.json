[
  {
    "objectID": "getDataElectroDataRelease.html",
    "href": "getDataElectroDataRelease.html",
    "title": "8  Electrofishing data for data release",
    "section": "",
    "text": "8.1 Get electrofishing data target\nSelect variables for data release\nCode\nlibrary(targets)\ncdWB_electro &lt;- tar_read(cdWB_electro_target)\n\nstr(cdWB_electro)\n\n\ntibble [91,103 × 88] (S3: tbl_df/tbl/data.frame)\n $ tag                                      : chr [1:91103] \"00088cbed0\" \"00088cbed3\" \"00088cbed4\" \"00088cbed4\" ...\n $ detectionDate                            : POSIXct[1:91103], format: \"2013-03-25 04:00:00\" \"2012-06-07 13:03:00\" ...\n $ sampleName                               : chr [1:91103] \"84\" \"81\" \"84\" \"85\" ...\n $ sampleNumber                             : num [1:91103] 73 70 73 74 70 71 73 79 80 71 ...\n $ river                                    : chr [1:91103] \"wb obear\" \"west brook\" \"west brook\" \"west brook\" ...\n $ section                                  : num [1:91103] 7 1 40 44 25 32 32 3 3 23 ...\n $ area                                     : chr [1:91103] \"trib\" \"inside\" \"inside\" \"inside\" ...\n $ observedLength                           : num [1:91103] 62 62 109 154 113 120 147 70 74 86 ...\n $ survey                                   : chr [1:91103] \"shock\" \"shock\" \"shock\" \"shock\" ...\n $ pass                                     : num [1:91103] 1 1 1 1 1 1 1 1 1 1 ...\n $ observedWeight                           : num [1:91103] 1.9 2.7 12.6 41.3 15.5 18.3 30.4 3.5 4.8 6.7 ...\n $ comments                                 : chr [1:91103] \"additional genetic sample\" NA NA NA ...\n $ cohort                                   : num [1:91103] 2012 2012 2012 2012 2011 ...\n $ species                                  : chr [1:91103] \"bkt\" \"bkt\" \"bkt\" \"bkt\" ...\n $ dateEmigrated                            : Date[1:91103], format: NA NA ...\n $ sex                                      : chr [1:91103] NA NA NA NA ...\n $ year                                     : int [1:91103] 2013 2012 2013 2013 2012 2012 2013 2014 2014 2012 ...\n $ season                                   : num [1:91103] 1 2 1 2 2 3 1 3 4 3 ...\n $ proportionSampled                        : num [1:91103] 1 1 1 1 1 1 1 1 1 1 ...\n $ lagDetectionDate                         : POSIXct[1:91103], format: NA NA ...\n $ meanTemperature                          : num [1:91103] NaN NaN 10.7 NaN 16.5 ...\n $ meanFlow                                 : num [1:91103] NaN NaN 0.5247 NaN 0.0338 ...\n $ meanFlowByRiver                          : num [1:91103] NaN NaN 0.598 NaN 0.135 ...\n $ meanFlowByArea_flowExt                   : num [1:91103] NaN NaN 0.5247 NaN 0.0338 ...\n $ meanFlowByArea_ByRiver                   : num [1:91103] NaN NaN 0.598 NaN 0.135 ...\n $ sdFlow                                   : num [1:91103] NA NA 0.58 NA 0.181 ...\n $ sdFlowByRiver                            : num [1:91103] NA NA 0.4467 NA 0.0767 ...\n $ sdFlowByArea_flowExt                     : num [1:91103] NA NA 0.58 NA 0.181 ...\n $ sdFlowByArea_ByRiver                     : num [1:91103] NA NA 0.4467 NA 0.0767 ...\n $ propBelowLoFlowThreshByRiver             : num [1:91103] NaN NaN 0 NaN 0 ...\n $ propAboveHiFlowThreshByRiver             : num [1:91103] NaN NaN 0.182 NaN 0 ...\n $ propBelowLoFlowThreshByArea_flowExt      : num [1:91103] NaN NaN 0.0682 NaN 0.0901 ...\n $ propAboveHiFlowThreshByArea_flowExt      : num [1:91103] NaN NaN 0.148 NaN 0.018 ...\n $ riverOrdered                             : Ord.factor w/ 4 levels \"west brook\"&lt;\"wb jimmy\"&lt;..: 4 1 1 1 1 1 1 4 4 1 ...\n $ readerId                                 : logi [1:91103] NA NA NA NA NA NA ...\n $ sectionN                                 : num [1:91103] 7 1 40 44 25 32 32 3 3 23 ...\n $ aliveOrDead                              : chr [1:91103] \"alive\" \"alive\" \"alive\" \"alive\" ...\n $ instance                                 : logi [1:91103] NA NA NA NA NA NA ...\n $ quarter                                  : logi [1:91103] NA NA NA NA NA NA ...\n $ leftOrRight                              : logi [1:91103] NA NA NA NA NA NA ...\n $ habitat                                  : logi [1:91103] NA NA NA NA NA NA ...\n $ cover                                    : logi [1:91103] NA NA NA NA NA NA ...\n $ justification                            : logi [1:91103] NA NA NA NA NA NA ...\n $ sectionWQuarter                          : logi [1:91103] NA NA NA NA NA NA ...\n $ j                                        : logi [1:91103] NA NA NA NA NA NA ...\n $ date                                     : Date[1:91103], format: \"2013-03-25\" \"2012-06-07\" ...\n $ dummy                                    : num [1:91103] 1 1 1 1 1 1 1 1 1 1 ...\n $ sectionOriginal                          : chr [1:91103] \"7\" \"1\" \"40\" \"44\" ...\n $ inside                                   : logi [1:91103] TRUE TRUE TRUE TRUE TRUE TRUE ...\n $ yday                                     : int [1:91103] 84 159 88 176 160 271 87 260 335 270 ...\n $ ageInSamples                             : num [1:91103] 3 0 3 4 4 5 7 1 2 1 ...\n $ isYOY                                    : logi [1:91103] TRUE TRUE TRUE FALSE FALSE FALSE ...\n $ lagSection                               : num [1:91103] NA NA 44 NA 32 32 NA 3 NA 24 ...\n $ distMoved                                : num [1:91103] NA NA -4 NA -7 0 NA 0 NA -1 ...\n $ lagObservedWeight                        : num [1:91103] NA NA 41.3 NA 18.3 30.4 NA 4.8 NA 12.7 ...\n $ lagObservedLength                        : num [1:91103] NA NA 154 NA 120 147 NA 74 NA 108 ...\n $ lagSampleNumber                          : num [1:91103] NA NA 74 NA 71 73 NA 80 NA 73 ...\n $ sampleNumberDiff                         : num [1:91103] NA NA 1 NA 1 2 NA 1 NA 2 ...\n $ grWeight                                 : num [1:91103] NA NA 0.0135 NA 0.0015 ...\n $ grLength                                 : num [1:91103] NA NA 0.5102 NA 0.0631 ...\n $ minSample                                : num [1:91103] 73 70 73 73 70 70 70 79 79 71 ...\n $ maxSample                                : num [1:91103] 73 70 74 74 73 73 73 80 80 74 ...\n $ minYear                                  : num [1:91103] 1997 1997 1997 1997 1997 ...\n $ moveDir                                  : num [1:91103] NA NA -1 NA -1 0 NA 0 NA -1 ...\n $ sampleInterval                           : num [1:91103] NA NA 88.2 NA 110.9 ...\n $ drainage                                 : chr [1:91103] \"west\" \"west\" \"west\" \"west\" ...\n $ quarter_length                           : num [1:91103] 5 5.2 5.03 4.83 4.75 ...\n $ river_meter                              : num [1:91103] 5252 4394 5208 5292 4903 ...\n $ confluence_river_meter                   : num [1:91103] 5114 0 0 0 0 ...\n $ riverMeter                               : num [1:91103] 5252 4394 5208 5292 4903 ...\n $ nPasses                                  : num [1:91103] 1 2 1 2 2 2 1 1 1 2 ...\n $ wGR_Slope                                : num [1:91103] -0.397 -0.535 -0.367 -0.535 -0.278 ...\n $ grWeightS                                : num [1:91103] NA NA 4.98e-08 NA 7.90e-09 ...\n $ lw_intercept                             : num [1:91103] -5.02 -5.02 -5.02 -5.02 -4.98 ...\n $ lw_slope                                 : num [1:91103] 3.02 3.02 3.02 3.02 3.01 ...\n $ cf                                       : num [1:91103] 0.0797 0.1133 0.0973 0.1131 0.1074 ...\n $ relCF                                    : num [1:91103] 0.0734 0.1043 0.0886 0.1022 0.102 ...\n $ nPerInd                                  : int [1:91103] 1 1 2 2 3 3 3 2 2 3 ...\n $ meanTemperatureScaledBySeason            : num [1:91103] NaN NaN 0.393 NaN 0.819 ...\n $ meanFlowScaledBySeason                   : num [1:91103] NaN NaN 0.526 NaN -0.736 ...\n $ meanFlowByRiverScaledBySeason            : num [1:91103] NaN NaN 0.881 NaN -0.225 ...\n $ meanFlowByArea_flowExtScaledBySeason     : num [1:91103] NaN NaN 0.822 NaN -0.608 ...\n $ meanFlowByArea_ByRiverScaledBySeason     : num [1:91103] NaN NaN 0.881 NaN -0.225 ...\n $ meanTemperatureScaledBySeasonRiver       : num [1:91103] NaN NaN 0.429 NaN 0.771 ...\n $ meanFlowScaledBySeasonRiver              : num [1:91103] NaN NaN 0.609 NaN -0.832 ...\n $ meanFlowByRiverScaledBySeasonRiver       : num [1:91103] NaN NaN 0.667 NaN -0.713 ...\n $ meanFlowByArea_flowExtScaledBySeasonRiver: num [1:91103] NaN NaN 0.609 NaN -0.832 ...\n $ meanFlowByArea_ByRiverScaledBySeasonRiver: num [1:91103] NaN NaN 0.667 NaN -0.713 ...\n\n\nCode\n   #                                 &lt;dbl&gt;,  &lt;dbl&gt;,  &lt;dbl&gt;, sdFlow &lt;dbl&gt;, sdFlowByRiver &lt;dbl&gt;, sdFlowByArea_flowExt &lt;dbl&gt;, sdFlowByArea_ByRiver &lt;dbl&gt;, propBelowLoFlowThreshByRiver &lt;dbl&gt;,\n   # propAboveHiFlowThreshByRiver &lt;dbl&gt;, propBelowLoFlowThreshByArea_flowExt &lt;dbl&gt;, propAboveHiFlowThreshByArea_flowExt &lt;dbl&gt;,  &lt;ord&gt;, readerId &lt;lgl&gt;,  &lt;dbl&gt;,  &lt;chr&gt;, instance &lt;lgl&gt;,  &lt;lgl&gt;,\n   # leftOrRight &lt;lgl&gt;, habitat &lt;lgl&gt;, cover &lt;lgl&gt;, justification &lt;lgl&gt;,  &lt;lgl&gt;, &lt;lgl&gt;,  &lt;date&gt;,  &lt;dbl&gt;,  &lt;chr&gt;,  &lt;lgl&gt;,    &lt;dbl&gt;,  &lt;lgl&gt;,  &lt;dbl&gt;,\n   #   &lt;dbl&gt;,  &lt;dbl&gt;, minYear &lt;dbl&gt;,  &lt;dbl&gt;,  &lt;dbl&gt;,\n   # \n   # \n\n\n# select vars and order for data release\ncdWB_electro_DR &lt;- cdWB_electro |&gt;\n  dplyr::select(\n    drainage, species, cohort, river, riverOrdered, \n    tag, nPerInd, survey, pass, nPasses, proportionSampled, aliveOrDead,\n    section, sectionN, lagSection, riverMeter, sectionOriginal, quarter, area, distMoved, moveDir,\n    detectionDate, lagDetectionDate, year, season, yday, sampleName, sampleNumber, observedLength, observedWeight, \n    lagObservedWeight, lagObservedLength, lagSampleNumber, sampleNumberDiff, sampleInterval, grWeight, grLength, minSample, maxSample,\n    ageInSamples, isYOY, sex,\n    cf, relCF, \n    dateEmigrated,\n    meanTemperature, meanFlow, meanFlowByRiver, meanFlowByArea_flowExt, meanFlowByArea_ByRiver,\n    meanTemperatureScaledBySeason, meanFlowScaledBySeason, meanFlowByRiverScaledBySeason, meanFlowByArea_flowExtScaledBySeason, meanFlowByArea_ByRiverScaledBySeason,\n    comments\n  )\n\nstr(cdWB_electro_DR)\n\n\ntibble [91,103 × 56] (S3: tbl_df/tbl/data.frame)\n $ drainage                            : chr [1:91103] \"west\" \"west\" \"west\" \"west\" ...\n $ species                             : chr [1:91103] \"bkt\" \"bkt\" \"bkt\" \"bkt\" ...\n $ cohort                              : num [1:91103] 2012 2012 2012 2012 2011 ...\n $ river                               : chr [1:91103] \"wb obear\" \"west brook\" \"west brook\" \"west brook\" ...\n $ riverOrdered                        : Ord.factor w/ 4 levels \"west brook\"&lt;\"wb jimmy\"&lt;..: 4 1 1 1 1 1 1 4 4 1 ...\n $ tag                                 : chr [1:91103] \"00088cbed0\" \"00088cbed3\" \"00088cbed4\" \"00088cbed4\" ...\n $ nPerInd                             : int [1:91103] 1 1 2 2 3 3 3 2 2 3 ...\n $ survey                              : chr [1:91103] \"shock\" \"shock\" \"shock\" \"shock\" ...\n $ pass                                : num [1:91103] 1 1 1 1 1 1 1 1 1 1 ...\n $ nPasses                             : num [1:91103] 1 2 1 2 2 2 1 1 1 2 ...\n $ proportionSampled                   : num [1:91103] 1 1 1 1 1 1 1 1 1 1 ...\n $ aliveOrDead                         : chr [1:91103] \"alive\" \"alive\" \"alive\" \"alive\" ...\n $ section                             : num [1:91103] 7 1 40 44 25 32 32 3 3 23 ...\n $ sectionN                            : num [1:91103] 7 1 40 44 25 32 32 3 3 23 ...\n $ lagSection                          : num [1:91103] NA NA 44 NA 32 32 NA 3 NA 24 ...\n $ riverMeter                          : num [1:91103] 5252 4394 5208 5292 4903 ...\n $ sectionOriginal                     : chr [1:91103] \"7\" \"1\" \"40\" \"44\" ...\n $ quarter                             : logi [1:91103] NA NA NA NA NA NA ...\n $ area                                : chr [1:91103] \"trib\" \"inside\" \"inside\" \"inside\" ...\n $ distMoved                           : num [1:91103] NA NA -4 NA -7 0 NA 0 NA -1 ...\n $ moveDir                             : num [1:91103] NA NA -1 NA -1 0 NA 0 NA -1 ...\n $ detectionDate                       : POSIXct[1:91103], format: \"2013-03-25 04:00:00\" \"2012-06-07 13:03:00\" ...\n $ lagDetectionDate                    : POSIXct[1:91103], format: NA NA ...\n $ year                                : int [1:91103] 2013 2012 2013 2013 2012 2012 2013 2014 2014 2012 ...\n $ season                              : num [1:91103] 1 2 1 2 2 3 1 3 4 3 ...\n $ yday                                : int [1:91103] 84 159 88 176 160 271 87 260 335 270 ...\n $ sampleName                          : chr [1:91103] \"84\" \"81\" \"84\" \"85\" ...\n $ sampleNumber                        : num [1:91103] 73 70 73 74 70 71 73 79 80 71 ...\n $ observedLength                      : num [1:91103] 62 62 109 154 113 120 147 70 74 86 ...\n $ observedWeight                      : num [1:91103] 1.9 2.7 12.6 41.3 15.5 18.3 30.4 3.5 4.8 6.7 ...\n $ lagObservedWeight                   : num [1:91103] NA NA 41.3 NA 18.3 30.4 NA 4.8 NA 12.7 ...\n $ lagObservedLength                   : num [1:91103] NA NA 154 NA 120 147 NA 74 NA 108 ...\n $ lagSampleNumber                     : num [1:91103] NA NA 74 NA 71 73 NA 80 NA 73 ...\n $ sampleNumberDiff                    : num [1:91103] NA NA 1 NA 1 2 NA 1 NA 2 ...\n $ sampleInterval                      : num [1:91103] NA NA 88.2 NA 110.9 ...\n $ grWeight                            : num [1:91103] NA NA 0.0135 NA 0.0015 ...\n $ grLength                            : num [1:91103] NA NA 0.5102 NA 0.0631 ...\n $ minSample                           : num [1:91103] 73 70 73 73 70 70 70 79 79 71 ...\n $ maxSample                           : num [1:91103] 73 70 74 74 73 73 73 80 80 74 ...\n $ ageInSamples                        : num [1:91103] 3 0 3 4 4 5 7 1 2 1 ...\n $ isYOY                               : logi [1:91103] TRUE TRUE TRUE FALSE FALSE FALSE ...\n $ sex                                 : chr [1:91103] NA NA NA NA ...\n $ cf                                  : num [1:91103] 0.0797 0.1133 0.0973 0.1131 0.1074 ...\n $ relCF                               : num [1:91103] 0.0734 0.1043 0.0886 0.1022 0.102 ...\n $ dateEmigrated                       : Date[1:91103], format: NA NA ...\n $ meanTemperature                     : num [1:91103] NaN NaN 10.7 NaN 16.5 ...\n $ meanFlow                            : num [1:91103] NaN NaN 0.5247 NaN 0.0338 ...\n $ meanFlowByRiver                     : num [1:91103] NaN NaN 0.598 NaN 0.135 ...\n $ meanFlowByArea_flowExt              : num [1:91103] NaN NaN 0.5247 NaN 0.0338 ...\n $ meanFlowByArea_ByRiver              : num [1:91103] NaN NaN 0.598 NaN 0.135 ...\n $ meanTemperatureScaledBySeason       : num [1:91103] NaN NaN 0.393 NaN 0.819 ...\n $ meanFlowScaledBySeason              : num [1:91103] NaN NaN 0.526 NaN -0.736 ...\n $ meanFlowByRiverScaledBySeason       : num [1:91103] NaN NaN 0.881 NaN -0.225 ...\n $ meanFlowByArea_flowExtScaledBySeason: num [1:91103] NaN NaN 0.822 NaN -0.608 ...\n $ meanFlowByArea_ByRiverScaledBySeason: num [1:91103] NaN NaN 0.881 NaN -0.225 ...\n $ comments                            : chr [1:91103] \"additional genetic sample\" NA NA NA ...\n\n\nCode\n# Save csv for downloading\n#write.csv(cdWB_electro_DR, file = \"C:/Users/bletcher/OneDrive - DOI/projects/wbBook_quarto_targets/data/out/dataRelease/cdWB_electro_DR.csv\")\n\n# Save rData file for downloading\n# save(cdWB_electro, file = \"C:/Users/bletcher/OneDrive - DOI/projects/wbBook_quarto_targets/data/outForDownload/cdWB_electro.RData\")",
    "crumbs": [
      "Data releases",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Electrofishing data for data release</span>"
    ]
  },
  {
    "objectID": "getDataElectroDataRelease.html#electrofishing-data-metadata",
    "href": "getDataElectroDataRelease.html#electrofishing-data-metadata",
    "title": "8  Electrofishing data for data release",
    "section": "8.2 Electrofishing data metadata",
    "text": "8.2 Electrofishing data metadata\n\n8.2.1 adapted from https://github.com/Conte-Ecology/westBrookData/blob/master/getWBData/vignettes/westBrookDataIntro.Rmd\n\n8.2.1.1 Column explanations\ndrainage “west” = West Brook drainage.\nspecies\n“bkt” = brook trout (Salvelinus fontinalis, native, self-sustaining population)\n“bnt” = brown trout (Salmo trutta, non-native, self-sustaining population)\n“ats” = Atlantic salmon (Salmo salar, stocked as fry through 2005, no reproduction)\ncohort Year the fish emerged from gravel in the spring (spawning occurred previous autumn), assigned based on size at initial capture and size distributions of fish of known age.\nriver River the fish was observed in. NA if the fish was not observed.\n“west brook” The mainstem (“West Brook” from Letcher et al 2015).\n“wb jimmy” Larger tributary that fish can move back and forth into from WB section 31 (“Open Large” from Letcher et al 2015).\n“wb mitchell” Smaller tributary that fish can move back and forth into from WB section 35 (“Open Small” from Letcher et al 2015).\n“wb obear” Smaller tributary that has a waterfall at its mouth, so fish can only move downstream into WB section 20 (“Isolated Small” from Letcher et al 2015).\nriverOrdered River the fish was observed in, ordered as a factor and renamed. NA if the fish was not observed.\n“West Brook” The mainstem (“West Brook” from Letcher et al 2015).\n“Open Large” Larger tributary that fish can move back and forth into from WB section 31 (“Open Large” from Letcher et al 2015).\n“Open Small” Smaller tributary that fish can move back and forth into from WB section 35 (“Open Small” from Letcher et al 2015).\n“Isolated Small” Smaller tributary that has a waterfall at its mouth, so fish can only move downstream into WB section 20 (“Isolated Small” from Letcher et al 2015).\ntag PIT tag number, unique identifier, character. Tags are 12-mm, full duplex. Biomark tags were used until 2002 (check this), and then replaced with Destron-fearing tags.\nnPerInd Number of electrofishing occasion observations per individual.\nsurvey “shock” = electroshocking survey.\ndetectionDate mostly self explanatory, but filled in for unobserved fish as the median capture date for all observed fish.\nsampleName An ordered identifier for sampling mostly for recognition by people who did the sampling. This is not very clean because early in the study samples were not taken at strictly seasonal intervals. sampleNumber is probably more useful and intuitive.\nsampleNumber A tidier identifier for samples that strictly increases by one for each season (4/yr)\nsection Identifier for the 20m section that the fish was captured in. This is ordered from downstream to upstream starting at 1 within each river.\narea inside = section 1:47 in the west brook, trib = tributary (not west brook), below = sections below inside sections, above = sections above the inside sections\nobservedLength in mm\npass electrofishing pass. 1 or 2 in the west brook (inside), 1 in tribs\nobservedWeight in g wet weight\ndateEmigrated date of emigration from inside/tribs if observed to emigrate. Coded as emigrated if last observation was on PIT antenna or captured below or above\nsex NA = unknown, f = female, m = male, p = precocious male (salmon only)\nenc\nLogical, was the fish observed? (1 = yes, 0 = no)\nageInSamples number of seasons since summer of the year of birth (1st summer = 0)\nsampleIndex sampleNumber rescaled to start at 1 and end at length(unique(sampleNumber)) for ease of looping in JAGS\ntagIndex ordered, unique individual identifier 1:N\nyear of sample\nseason 1 = spring, 2 = summer, 3 = fall, 4 = winter\nproportionSampled Occasionally the sample was not complete (e.g., skipped west brook but did the tributaries). This is the proportion of sections in the river of capture that were sampled.\nlagDetectionDate detection date lagged back one observation\nmeanTemperature mean temperature between observation dates. If individual was not observed, median observation date for the sampling occasion was used.\nmeanFlow mean flow between observation dates. If individual was not observed, median observation date for the sampling occasion was used.\nknownZ z is alive state, so this is ‘1’ between first and last capture, and NA otherwise, unless the fish was known to be dead (e.g. tagging mortality or observed dead) in which case the value is set to ‘2’. There is also an option in the addKnownZ() function to useAntenna. This is useAntenna = FALSE by default, but could be set to TRUE to set knownZ to 1 up to the last antenna observation.",
    "crumbs": [
      "Data releases",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Electrofishing data for data release</span>"
    ]
  }
]