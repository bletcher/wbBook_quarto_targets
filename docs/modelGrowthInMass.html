<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>West Brook story - 16&nbsp; Growth in mass</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./modelsCMR_NN_OB.html" rel="next">
<link href="./modelConditionFactor.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./modelYOY.html">General models</a></li><li class="breadcrumb-item"><a href="./modelGrowthInMass.html"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Growth in mass</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">West Brook story</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Targets</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vizTargets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Visualize targets</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Get data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Get data info</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getDataEnv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Get environmental data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getDataElectro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Get electrofishing data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getDataCMR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Create Capture-Recapture data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getDataWanding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Get wanding data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getDataAntenna.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Get antenna data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dataAll.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">All fish data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dataFlow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Flow data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Flow by Area/River models</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelGrowthFlowByRiver.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Growth in mass byRiver/byArea</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelsCMR_ft_cohort_Flow_OB.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Flow/survival models - O’Bear (IS) only</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelsCMR_ft_cohort_Flow_WB.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Survival by river/area</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">General models</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelYOY.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Young-of-year size model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelFlow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Flow model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelConditionFactor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Condition factor</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelGrowthInMass.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Growth in mass</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Neural network/CMR model comparison - river 4 (IS) only</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelsCMR_NN_OB.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">CJS [t,t] model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelsCMR_Growth_NN_OB.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">CJS [t,t] - growth model</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#get-data" id="toc-get-data" class="nav-link active" data-scroll-target="#get-data"><span class="header-section-number">16.1</span> Get data</a>
  <ul class="collapse">
  <li><a href="#get-electrofishing-data" id="toc-get-electrofishing-data" class="nav-link" data-scroll-target="#get-electrofishing-data"><span class="header-section-number">16.1.1</span> Get electrofishing data</a></li>
  <li><a href="#get-environmental-data" id="toc-get-environmental-data" class="nav-link" data-scroll-target="#get-environmental-data"><span class="header-section-number">16.1.2</span> Get environmental data</a></li>
  </ul></li>
  <li><a href="#examine-raw-data" id="toc-examine-raw-data" class="nav-link" data-scroll-target="#examine-raw-data"><span class="header-section-number">16.2</span> Examine raw data</a>
  <ul class="collapse">
  <li><a href="#limit-data-to-consecutive-sample-captures-cd1" id="toc-limit-data-to-consecutive-sample-captures-cd1" class="nav-link" data-scroll-target="#limit-data-to-consecutive-sample-captures-cd1"><span class="header-section-number">16.2.1</span> Limit data to consecutive sample captures (cd1)</a></li>
  <li><a href="#find-outlier-growth-rates" id="toc-find-outlier-growth-rates" class="nav-link" data-scroll-target="#find-outlier-growth-rates"><span class="header-section-number">16.2.2</span> Find outlier growth rates</a></li>
  <li><a href="#numbers-of-observations-for-analysis" id="toc-numbers-of-observations-for-analysis" class="nav-link" data-scroll-target="#numbers-of-observations-for-analysis"><span class="header-section-number">16.2.3</span> Numbers of observations for analysis</a></li>
  <li><a href="#raw-length-weight-data-graphs" id="toc-raw-length-weight-data-graphs" class="nav-link" data-scroll-target="#raw-length-weight-data-graphs"><span class="header-section-number">16.2.4</span> Raw length, weight data graphs</a></li>
  <li><a href="#length-vs-weight-by-species" id="toc-length-vs-weight-by-species" class="nav-link" data-scroll-target="#length-vs-weight-by-species"><span class="header-section-number">16.2.5</span> Length vs weight by species</a></li>
  <li><a href="#weight-vs-weight-at-next-sample" id="toc-weight-vs-weight-at-next-sample" class="nav-link" data-scroll-target="#weight-vs-weight-at-next-sample"><span class="header-section-number">16.2.6</span> Weight vs weight at next sample</a></li>
  <li><a href="#growth-rate-pairs-plots" id="toc-growth-rate-pairs-plots" class="nav-link" data-scroll-target="#growth-rate-pairs-plots"><span class="header-section-number">16.2.7</span> Growth rate pairs plots</a></li>
  <li><a href="#growth-rate-in-length-vs-growth-rate-in-mass" id="toc-growth-rate-in-length-vs-growth-rate-in-mass" class="nav-link" data-scroll-target="#growth-rate-in-length-vs-growth-rate-in-mass"><span class="header-section-number">16.2.8</span> Growth rate in length vs growth rate in mass</a></li>
  </ul></li>
  <li><a href="#body-size-effect-on-prop-neg-growth" id="toc-body-size-effect-on-prop-neg-growth" class="nav-link" data-scroll-target="#body-size-effect-on-prop-neg-growth"><span class="header-section-number">16.3</span> Body size effect on prop neg growth</a></li>
  <li><a href="#flow-and-temperature-growth-relationships" id="toc-flow-and-temperature-growth-relationships" class="nav-link" data-scroll-target="#flow-and-temperature-growth-relationships"><span class="header-section-number">16.4</span> Flow and temperature growth relationships</a>
  <ul class="collapse">
  <li><a href="#mean-flow-effect-on-growth" id="toc-mean-flow-effect-on-growth" class="nav-link" data-scroll-target="#mean-flow-effect-on-growth"><span class="header-section-number">16.4.1</span> Mean flow effect on growth?</a></li>
  <li><a href="#mean-temperature-effect-on-growth" id="toc-mean-temperature-effect-on-growth" class="nav-link" data-scroll-target="#mean-temperature-effect-on-growth"><span class="header-section-number">16.4.2</span> Mean temperature effect on growth?</a></li>
  </ul></li>
  <li><a href="#proportion-of-fish-with-negative-growth" id="toc-proportion-of-fish-with-negative-growth" class="nav-link" data-scroll-target="#proportion-of-fish-with-negative-growth"><span class="header-section-number">16.5</span> Proportion of fish with <strong>negative growth</strong></a>
  <ul class="collapse">
  <li><a href="#proportion-of-observations-with-negative-growth-by-speciesriverseason" id="toc-proportion-of-observations-with-negative-growth-by-speciesriverseason" class="nav-link" data-scroll-target="#proportion-of-observations-with-negative-growth-by-speciesriverseason"><span class="header-section-number">16.5.1</span> Proportion of observations with negative growth by species/river/season</a></li>
  <li><a href="#proportion-of-observations-with-negative-growth-by-speciesseason" id="toc-proportion-of-observations-with-negative-growth-by-speciesseason" class="nav-link" data-scroll-target="#proportion-of-observations-with-negative-growth-by-speciesseason"><span class="header-section-number">16.5.2</span> Proportion of observations with negative growth by species/season</a></li>
  <li><a href="#proportion-of-observations-with-negative-growth-by-speciesriveryear" id="toc-proportion-of-observations-with-negative-growth-by-speciesriveryear" class="nav-link" data-scroll-target="#proportion-of-observations-with-negative-growth-by-speciesriveryear"><span class="header-section-number">16.5.3</span> Proportion of observations with negative growth by species/river/year</a></li>
  <li><a href="#proportion-of-observations-with-negative-growth-by-speciesriveryear-1" id="toc-proportion-of-observations-with-negative-growth-by-speciesriveryear-1" class="nav-link" data-scroll-target="#proportion-of-observations-with-negative-growth-by-speciesriveryear-1"><span class="header-section-number">16.5.4</span> Proportion of observations with negative growth by species/river/year</a></li>
  </ul></li>
  <li><a href="#environmental-effects-on-proportion-of-observations-with-negative-growth" id="toc-environmental-effects-on-proportion-of-observations-with-negative-growth" class="nav-link" data-scroll-target="#environmental-effects-on-proportion-of-observations-with-negative-growth"><span class="header-section-number">16.6</span> Environmental effects on Proportion of observations with negative growth</a>
  <ul class="collapse">
  <li><a href="#models-for-proportions" id="toc-models-for-proportions" class="nav-link" data-scroll-target="#models-for-proportions"><span class="header-section-number">16.6.1</span> Models for proportions</a></li>
  <li><a href="#proportion-of-observations-with-negative-growth-by-flow" id="toc-proportion-of-observations-with-negative-growth-by-flow" class="nav-link" data-scroll-target="#proportion-of-observations-with-negative-growth-by-flow"><span class="header-section-number">16.6.2</span> Proportion of observations with negative growth by <strong>flow</strong></a></li>
  <li><a href="#proportion-of-observations-with-negative-growth-by-temperature" id="toc-proportion-of-observations-with-negative-growth-by-temperature" class="nav-link" data-scroll-target="#proportion-of-observations-with-negative-growth-by-temperature"><span class="header-section-number">16.6.3</span> Proportion of observations with negative growth by <strong>temperature</strong></a></li>
  <li><a href="#proportion-of-observations-with-negative-growth-by-3-species-fish-counts" id="toc-proportion-of-observations-with-negative-growth-by-3-species-fish-counts" class="nav-link" data-scroll-target="#proportion-of-observations-with-negative-growth-by-3-species-fish-counts"><span class="header-section-number">16.6.4</span> Proportion of observations with negative growth by <strong>3 species fish counts</strong></a></li>
  <li><a href="#proportion-of-observations-with-negative-growth-by-conspecific-fish-counts" id="toc-proportion-of-observations-with-negative-growth-by-conspecific-fish-counts" class="nav-link" data-scroll-target="#proportion-of-observations-with-negative-growth-by-conspecific-fish-counts"><span class="header-section-number">16.6.5</span> Proportion of observations with negative growth by <strong>conspecific fish counts</strong></a></li>
  </ul></li>
  <li><a href="#xgboost-model-for-proportion-of-fish-with-neg-growth" id="toc-xgboost-model-for-proportion-of-fish-with-neg-growth" class="nav-link" data-scroll-target="#xgboost-model-for-proportion-of-fish-with-neg-growth"><span class="header-section-number">16.7</span> XGBoost model for proportion of fish with neg growth</a>
  <ul class="collapse">
  <li><a href="#hyperparameter-search-grid" id="toc-hyperparameter-search-grid" class="nav-link" data-scroll-target="#hyperparameter-search-grid"><span class="header-section-number">16.7.1</span> Hyperparameter search grid</a></li>
  <li><a href="#function-to-run-models" id="toc-function-to-run-models" class="nav-link" data-scroll-target="#function-to-run-models"><span class="header-section-number">16.7.2</span> Function to run models</a></li>
  <li><a href="#brook-trout-6" id="toc-brook-trout-6" class="nav-link" data-scroll-target="#brook-trout-6"><span class="header-section-number">16.7.3</span> Brook trout</a></li>
  <li><a href="#brown-trout-6" id="toc-brown-trout-6" class="nav-link" data-scroll-target="#brown-trout-6"><span class="header-section-number">16.7.4</span> Brown trout</a></li>
  <li><a href="#atlantic-salmon-6" id="toc-atlantic-salmon-6" class="nav-link" data-scroll-target="#atlantic-salmon-6"><span class="header-section-number">16.7.5</span> Atlantic salmon</a></li>
  <li><a href="#species-together" id="toc-species-together" class="nav-link" data-scroll-target="#species-together"><span class="header-section-number">16.7.6</span> 3 species together</a></li>
  </ul></li>
  <li><a href="#ft-cycle-graphs" id="toc-ft-cycle-graphs" class="nav-link" data-scroll-target="#ft-cycle-graphs"><span class="header-section-number">16.8</span> F/T cycle graphs</a>
  <ul class="collapse">
  <li><a href="#mean-flow-and-temperature" id="toc-mean-flow-and-temperature" class="nav-link" data-scroll-target="#mean-flow-and-temperature"><span class="header-section-number">16.8.1</span> Mean flow and temperature</a></li>
  <li><a href="#mean-flow-and-temperature-with-year-labels" id="toc-mean-flow-and-temperature-with-year-labels" class="nav-link" data-scroll-target="#mean-flow-and-temperature-with-year-labels"><span class="header-section-number">16.8.2</span> Mean flow and temperature with year labels</a></li>
  <li><a href="#brook-trout-8" id="toc-brook-trout-8" class="nav-link" data-scroll-target="#brook-trout-8"><span class="header-section-number">16.8.3</span> Brook trout</a></li>
  <li><a href="#yearly-temperatureflow-cycles-of-daily-data" id="toc-yearly-temperatureflow-cycles-of-daily-data" class="nav-link" data-scroll-target="#yearly-temperatureflow-cycles-of-daily-data"><span class="header-section-number">16.8.4</span> Yearly temperature/flow cycles of daily data</a></li>
  <li><a href="#smooths-of-temperatureflow-cycles-of-daily-data-by-season" id="toc-smooths-of-temperatureflow-cycles-of-daily-data-by-season" class="nav-link" data-scroll-target="#smooths-of-temperatureflow-cycles-of-daily-data-by-season"><span class="header-section-number">16.8.5</span> Smooths of temperature/flow cycles of daily data by season</a></li>
  <li><a href="#ft-cycles-with-labels" id="toc-ft-cycles-with-labels" class="nav-link" data-scroll-target="#ft-cycles-with-labels"><span class="header-section-number">16.8.6</span> F/T cycles with labels</a></li>
  </ul></li>
  <li><a href="#consequences-of-negative-growth" id="toc-consequences-of-negative-growth" class="nav-link" data-scroll-target="#consequences-of-negative-growth"><span class="header-section-number">16.9</span> Consequences of negative growth</a>
  <ul class="collapse">
  <li><a href="#growth-and-last-observation" id="toc-growth-and-last-observation" class="nav-link" data-scroll-target="#growth-and-last-observation"><span class="header-section-number">16.9.1</span> Growth and last observation</a></li>
  <li><a href="#growth-and-movement-distance" id="toc-growth-and-movement-distance" class="nav-link" data-scroll-target="#growth-and-movement-distance"><span class="header-section-number">16.9.2</span> Growth and movement distance</a></li>
  </ul></li>
  <li><a href="#machine-learning-models" id="toc-machine-learning-models" class="nav-link" data-scroll-target="#machine-learning-models"><span class="header-section-number">16.10</span> Machine Learning models</a>
  <ul class="collapse">
  <li><a href="#binary-model-with-negative-growth-yesno" id="toc-binary-model-with-negative-growth-yesno" class="nav-link" data-scroll-target="#binary-model-with-negative-growth-yesno"><span class="header-section-number">16.10.1</span> Binary model with negative growth, yes:no</a></li>
  <li><a href="#growth-model-continuous-growth" id="toc-growth-model-continuous-growth" class="nav-link" data-scroll-target="#growth-model-continuous-growth"><span class="header-section-number">16.10.2</span> Growth model, continuous growth</a></li>
  </ul></li>
  <li><a href="#gam-for-growth" id="toc-gam-for-growth" class="nav-link" data-scroll-target="#gam-for-growth"><span class="header-section-number">16.11</span> GAM for growth</a>
  <ul class="collapse">
  <li><a href="#linear-models-for-growth" id="toc-linear-models-for-growth" class="nav-link" data-scroll-target="#linear-models-for-growth"><span class="header-section-number">16.11.1</span> Linear models for growth</a></li>
  <li><a href="#gam-models-for-growth" id="toc-gam-models-for-growth" class="nav-link" data-scroll-target="#gam-models-for-growth"><span class="header-section-number">16.11.2</span> GAM models for growth</a></li>
  </ul></li>
  <li><a href="#logistic-models-for-environmental-effects-on-propneg" id="toc-logistic-models-for-environmental-effects-on-propneg" class="nav-link" data-scroll-target="#logistic-models-for-environmental-effects-on-propneg"><span class="header-section-number">16.12</span> Logistic models for environmental effects on propNeg</a>
  <ul class="collapse">
  <li><a href="#standardize-flow-and-temperature" id="toc-standardize-flow-and-temperature" class="nav-link" data-scroll-target="#standardize-flow-and-temperature"><span class="header-section-number">16.12.1</span> Standardize flow and temperature</a></li>
  <li><a href="#raw-data-with-logistic-fit-for-flow-effect" id="toc-raw-data-with-logistic-fit-for-flow-effect" class="nav-link" data-scroll-target="#raw-data-with-logistic-fit-for-flow-effect"><span class="header-section-number">16.12.2</span> Raw data with logistic fit for flow effect</a></li>
  <li><a href="#raw-data-with-logistic-fit-for-temperature-effect" id="toc-raw-data-with-logistic-fit-for-temperature-effect" class="nav-link" data-scroll-target="#raw-data-with-logistic-fit-for-temperature-effect"><span class="header-section-number">16.12.3</span> Raw data with logistic fit for temperature effect</a></li>
  </ul></li>
  <li><a href="#logistic-model-for-flow-and-temperature-one-species-at-a-time" id="toc-logistic-model-for-flow-and-temperature-one-species-at-a-time" class="nav-link" data-scroll-target="#logistic-model-for-flow-and-temperature-one-species-at-a-time"><span class="header-section-number">16.13</span> Logistic model for flow and temperature, one species at a time</a>
  <ul class="collapse">
  <li><a href="#predict-pneg-growth-in-mass" id="toc-predict-pneg-growth-in-mass" class="nav-link" data-scroll-target="#predict-pneg-growth-in-mass"><span class="header-section-number">16.13.1</span> Predict p(neg growth in mass)</a></li>
  <li><a href="#brook-trout-10" id="toc-brook-trout-10" class="nav-link" data-scroll-target="#brook-trout-10"><span class="header-section-number">16.13.2</span> Brook trout</a></li>
  <li><a href="#brown-trout-10" id="toc-brown-trout-10" class="nav-link" data-scroll-target="#brown-trout-10"><span class="header-section-number">16.13.3</span> Brown trout</a></li>
  <li><a href="#atlantic-salmon-9" id="toc-atlantic-salmon-9" class="nav-link" data-scroll-target="#atlantic-salmon-9"><span class="header-section-number">16.13.4</span> Atlantic salmon</a></li>
  </ul></li>
  <li><a href="#two-growth-models" id="toc-two-growth-models" class="nav-link" data-scroll-target="#two-growth-models"><span class="header-section-number">16.14</span> Two growth models</a>
  <ul class="collapse">
  <li><a href="#size-adjusted-growth-model" id="toc-size-adjusted-growth-model" class="nav-link" data-scroll-target="#size-adjusted-growth-model"><span class="header-section-number">16.14.1</span> Size-adjusted growth model</a></li>
  <li><a href="#compare-size-adjusted-and-instantaneous-growth" id="toc-compare-size-adjusted-and-instantaneous-growth" class="nav-link" data-scroll-target="#compare-size-adjusted-and-instantaneous-growth"><span class="header-section-number">16.14.2</span> Compare size-adjusted and instantaneous growth</a></li>
  </ul></li>
  <li><a href="#compare-growth-in-length-and-mass" id="toc-compare-growth-in-length-and-mass" class="nav-link" data-scroll-target="#compare-growth-in-length-and-mass"><span class="header-section-number">16.15</span> Compare growth in length and mass</a>
  <ul class="collapse">
  <li><a href="#growth-rate-in-length-vs-size-independent-growth-rate-in-mass" id="toc-growth-rate-in-length-vs-size-independent-growth-rate-in-mass" class="nav-link" data-scroll-target="#growth-rate-in-length-vs-size-independent-growth-rate-in-mass"><span class="header-section-number">16.15.1</span> Growth rate in length vs size-independent growth rate in mass</a></li>
  </ul></li>
  <li><a href="#deprecated-logistic-models-below" id="toc-deprecated-logistic-models-below" class="nav-link" data-scroll-target="#deprecated-logistic-models-below"><span class="header-section-number">16.16</span> <strong>Deprecated</strong> logistic models below</a>
  <ul class="collapse">
  <li><a href="#logistic-model-for-flow-and-temperature-all-species" id="toc-logistic-model-for-flow-and-temperature-all-species" class="nav-link" data-scroll-target="#logistic-model-for-flow-and-temperature-all-species"><span class="header-section-number">16.16.1</span> Logistic model for flow and temperature, all species</a></li>
  <li><a href="#model-selection" id="toc-model-selection" class="nav-link" data-scroll-target="#model-selection"><span class="header-section-number">16.16.2</span> Model selection</a></li>
  <li><a href="#model-results-for-additive-model-not-very-good" id="toc-model-results-for-additive-model-not-very-good" class="nav-link" data-scroll-target="#model-results-for-additive-model-not-very-good"><span class="header-section-number">16.16.3</span> Model results for additive model (not very good)</a></li>
  <li><a href="#model-results-for-full-interactive-model-best-model" id="toc-model-results-for-full-interactive-model-best-model" class="nav-link" data-scroll-target="#model-results-for-full-interactive-model-best-model"><span class="header-section-number">16.16.4</span> Model results for full interactive model (best model)</a></li>
  <li><a href="#precict-pneg-growth-in-mass" id="toc-precict-pneg-growth-in-mass" class="nav-link" data-scroll-target="#precict-pneg-growth-in-mass"><span class="header-section-number">16.16.5</span> Precict p(neg growth in mass)</a></li>
  <li><a href="#plot-predictions" id="toc-plot-predictions" class="nav-link" data-scroll-target="#plot-predictions"><span class="header-section-number">16.16.6</span> Plot predictions</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Growth in mass</span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Distribution of growth, negative growth<br>
- Seasonal differences<br>
- Species differences in size/growth/CF - Patterns of negative growth</p>
<p>Causes of neg growth<br>
- Extrinsic<br>
- river, season, flow, temp<br>
- intrinsic<br>
- Sex (fall), life history, section, size, age, previous growth (CF?), movement (section/river)<br>
consequences of neg growth - survival<br>
- future growth (length and mass)<br>
- movement (section/river)<br>
- reprod success?<br>
- local density (con and hetero)</p>
<p>Probs with growth in mass<br>
spawning loss mass in the fall, esp in OB</p>
<p>Interaction between flow:temp, diff btw WB (groundwater dominated at low flow so cold) and tribs (combo of surface and gw?)</p>
<p>Compare growth with t/f cycle diagrams for each river</p>
<p>compare condition factor among species - looks like bkt growing faster in weight</p>
<p>flow/temp circles with gr on top</p>
<section id="get-data" class="level2" data-number="16.1">
<h2 data-number="16.1" class="anchored" data-anchor-id="get-data"><span class="header-section-number">16.1</span> Get data</h2>
<section id="get-electrofishing-data" class="level3" data-number="16.1.1">
<h3 data-number="16.1.1" class="anchored" data-anchor-id="get-electrofishing-data"><span class="header-section-number">16.1.1</span> Get electrofishing data</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(targets)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>cd <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(cdWB_electro_target) <span class="co"># raw data</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>cd1 <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(cd1_target) <span class="co"># from modelGrowthInMass_target</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>propNegSRS <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(propNegSRS_target)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>propNegSRsN <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(propNegSRsN_target)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>indCountsBySpp <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(indCountsBySpp_target) </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>indCounts <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(indCounts_target) </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>propNegLabels <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(propNegLabels_target)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>negGr_beforeLast <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(negGr_beforeLast_target)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>meanNegSRsN <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(meanNegSRsN_target)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>meanNegSRsNWide <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(meanNegSRsNWide_target)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># df for pairs plots</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>cd1Wide_grWeight <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(cd1Wide_grWeight_target)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>cd1Wide_observedWeight <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(cd1Wide_observedWeight_target)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>dGAM <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(dGAM_target) <span class="co"># from modelGrowthInMass_target</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="get-environmental-data" class="level3" data-number="16.1.2">
<h3 data-number="16.1.2" class="anchored" data-anchor-id="get-environmental-data"><span class="header-section-number">16.1.2</span> Get environmental data</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(targets)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>dummy<span class="ot">=</span><span class="dv">0</span> <span class="co"># change to force cache update??</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>envIn <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(envIn_target)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>envIn_propNeg <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(envIn_propNeg_target)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="examine-raw-data" class="level2" data-number="16.2">
<h2 data-number="16.2" class="anchored" data-anchor-id="examine-raw-data"><span class="header-section-number">16.2</span> Examine raw data</h2>
<section id="limit-data-to-consecutive-sample-captures-cd1" class="level3" data-number="16.2.1">
<h3 data-number="16.2.1" class="anchored" data-anchor-id="limit-data-to-consecutive-sample-captures-cd1"><span class="header-section-number">16.2.1</span> Limit data to consecutive sample captures (cd1)</h3>
<p>Previous growth models with length used all possible observations for a fish and interpolated missing observations. Here, we are just looking at consecutive captures to estimate growth over just that interval.</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/consecSamples_3a598bcabccab172d3863373aa970486">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># table(as.numeric(cd$sampleNumber), as.numeric(cd$lagSampleNumber), cd$season, cd$year) |&gt; </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   data.frame() |&gt; </span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(Freq &gt; 0) |&gt; </span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   arrange(Var1, Var2) |&gt; </span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   rename(firstCapt = Var1, secondCapt = Var2, season = Var3, year = Var4) |&gt; </span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(year == 2010)</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="do">##### in targets</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># cd1 &lt;- cd |&gt; </span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(sampleNumberDiff == 1,</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co">#          tag %notin% c('1bf20ff490', '1bf20ebe4e')) |&gt; </span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(negGrowth = grWeight &lt; 0,</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co">#          month = month(date),</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co">#          dummy = 1) # change to force cache update</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="find-outlier-growth-rates" class="level3" data-number="16.2.2">
<h3 data-number="16.2.2" class="anchored" data-anchor-id="find-outlier-growth-rates"><span class="header-section-number">16.2.2</span> Find outlier growth rates</h3>
<section id="negative-outlier-growth" class="level4" data-number="16.2.2.1">
<h4 data-number="16.2.2.1" class="anchored" data-anchor-id="negative-outlier-growth"><span class="header-section-number">16.2.2.1</span> Negative outlier growth</h4>
<p><code>1bf20ebe4e</code> and <code>1bf20ff490</code> have incorrect weights leading to very negative growth rates.<br>
Exclude these tags in <code>cd1_target</code>. The rest of the quite negative growth fish seem plausible (remember we can’t account for stomach contents or egg loss).</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/negOutlier_b81a9db51317ea9be54dacd672cb1fe2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>cd <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(grWeightS) <span class="sc">|&gt;</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(tag, species, season, sampleNumber, lagSampleNumber, observedWeight, lagObservedWeight, grWeightS)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24,304 × 8
   tag        species season sampleNumber lagSampleNu…¹ obser…² lagOb…³ grWeig…⁴
   &lt;chr&gt;      &lt;chr&gt;    &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
 1 1bf20ebe4e bnt          3           55            56    46.5     4.3 -0.0320 
 2 257c67e414 bkt          3           59            60     7.3     4.4 -0.00414
 3 1bf0fec291 bkt          3           27            28     2.7     1.6 -0.00409
 4 1bf20ff490 bnt          2           54            55   167.     41.8 -0.00378
 5 257c67b532 bnt          3           63            64    34      25.5 -0.00371
 6 00088d1ad4 bnt          3           63            64     4.5     3.6 -0.00330
 7 257c67db60 bnt          3           63            64    24.2    19.5 -0.00317
 8 00088d0b59 bnt          3           63            64     3.7     3   -0.00314
 9 414b684955 ats          3           15            16     5.7     4.3 -0.00289
10 0009f6ec56 bkt          3           75            76     3.5     2.7 -0.00288
# … with 24,294 more rows, and abbreviated variable names ¹​lagSampleNumber,
#   ²​observedWeight, ³​lagObservedWeight, ⁴​grWeightS</code></pre>
</div>
</div>
</section>
<section id="positive-outlier-growth" class="level4" data-number="16.2.2.2">
<h4 data-number="16.2.2.2" class="anchored" data-anchor-id="positive-outlier-growth"><span class="header-section-number">16.2.2.2</span> Positive outlier growth</h4>
<p>Lots of very fast growth mostly in the spring. No clear way to exclude fish. <code>1c2c582218</code> is excluded in <code>cd1_target</code> because of very high growth in length.</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/posOutlier_786684fa3ba1133223110e9f0989ce65">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(grWeightS)) <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(tag, species, season, sampleNumber, lagSampleNumber, observedWeight, lagObservedWeight, grWeightS) <span class="sc">|&gt;</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24,297 × 8
   tag        species season sampleNumber lagSampleNum…¹ obser…² lagOb…³ grWei…⁴
   &lt;chr&gt;      &lt;chr&gt;    &lt;dbl&gt;        &lt;dbl&gt;          &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 1bf1020623 bkt          1           29             30     1.3    14.4  0.0199
 2 0009f6eef4 bkt          1           77             78     2.3    10.3  0.0160
 3 413f4b1845 ats          1           13             14     1.8     8.3  0.0152
 4 1bf16366cf bnt          1           33             34     2      10.7  0.0142
 5 410a015165 ats          1           13             14     2.1     9.3  0.0142
 6 00088d2d2c bkt          1           73             74     1.8     9.2  0.0141
 7 410a0f0653 ats          1           13             14     2.2    10.9  0.0138
 8 1bf18b7637 bkt          1           33             34     2.5    13.2  0.0137
 9 1bf20e4e30 bnt          1           53             54     2.3    12.1  0.0137
10 1bf1930917 ats          1           37             38     1.9    11.7  0.0136
# … with 24,287 more rows, and abbreviated variable names ¹​lagSampleNumber,
#   ²​observedWeight, ³​lagObservedWeight, ⁴​grWeightS</code></pre>
</div>
</div>
</section>
</section>
<section id="numbers-of-observations-for-analysis" class="level3" data-number="16.2.3">
<h3 data-number="16.2.3" class="anchored" data-anchor-id="numbers-of-observations-for-analysis"><span class="header-section-number">16.2.3</span> Numbers of observations for analysis</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/rawObs_5276e8004d8a2cccfa95dac7654971eb">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(cd1<span class="sc">$</span>year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1997</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(cd1<span class="sc">$</span>year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2016</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(cd1<span class="sc">$</span>species, cd1<span class="sc">$</span>year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     
      1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010
  ats  762 1576 1395 1183 1004  615 1076  935  644  234   31    8    0    0
  bkt    0    0    0  139  367  535 1135  953  874  588  344  589  971  890
  bnt    0    0    0  357  453  211  190  161  368  467  204  298  483  469
     
      2011 2012 2013 2014 2015 2016
  ats    0    0    0    0    0    0
  bkt  382  618  708  582  471    1
  bnt   89  119  513  161  144    0</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(cd1<span class="sc">$</span>species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
  ats   bkt   bnt 
 9463 10147  4687 </code></pre>
</div>
</div>
<div class="cell" data-hash="modelGrowthInMass_cache/html/rawUniques_73e5e772ac75e711cce48b954bf96435">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(cd1<span class="sc">$</span>tag))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13119</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">tag =</span> (<span class="fu">unique</span>(tag))) <span class="sc">|&gt;</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">count =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species count
  &lt;chr&gt;   &lt;int&gt;
1 ats      4541
2 bkt      5786
3 bnt      2792</code></pre>
</div>
</div>
</section>
<section id="raw-length-weight-data-graphs" class="level3" data-number="16.2.4">
<h3 data-number="16.2.4" class="anchored" data-anchor-id="raw-length-weight-data-graphs"><span class="header-section-number">16.2.4</span> Raw length, weight data graphs</h3>
<section id="distribution-of-growth-rates" class="level4" data-number="16.2.4.1">
<h4 data-number="16.2.4.1" class="anchored" data-anchor-id="distribution-of-growth-rates"><span class="header-section-number">16.2.4.1</span> Distribution of growth rates</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/rawlengthWeight_23dbfc1f0085680738c061e44ec140a2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1, <span class="fu">aes</span>(grWeight, <span class="at">color =</span> speciesGG, <span class="at">linetype =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Growth in mass (/d)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_color_discrete() +</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.01</span>, <span class="fl">0.028</span>)) <span class="sc">+</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/rawlengthWeight-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1, <span class="fu">aes</span>(grLength, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Growth in Length (mm/d)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) <span class="sc">+</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/rawlengthWeight-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="length-vs-weight-by-species" class="level3" data-number="16.2.5">
<h3 data-number="16.2.5" class="anchored" data-anchor-id="length-vs-weight-by-species"><span class="header-section-number">16.2.5</span> Length vs weight by species</h3>
<p>Very few outliers</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/len_v_weight_0627c502df6cef9dc489fe93d0559fdb">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>plotLenW <span class="ot">&lt;-</span> <span class="cf">function</span>(d, s){</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> s), <span class="fu">aes</span>(observedLength, observedWeight)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">#ggtitle(s) +</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Mass (mg)"</span>) <span class="sc">+</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(riverGG<span class="sc">~</span>year, <span class="at">scales =</span> <span class="st">'free'</span>)</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Brook trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Brown trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Atlantic salmon</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/len_v_weight_bkt_d3261f5f90704e95eda944cf8247efd0">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotLenW</span>(cd1, <span class="st">"bkt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/len_v_weight_bkt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/len_v_weight_bnt_2762f591df3e16e963b1d8339b4ebd07">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotLenW</span>(cd1, <span class="st">"bnt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/len_v_weight_bnt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/len_v_weight_ats_c180ab836c2b2d8e217185d8a96af4a1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotLenW</span>(cd1, <span class="st">"ats"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/len_v_weight_ats-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="weight-vs-weight-at-next-sample" class="level3" data-number="16.2.6">
<h3 data-number="16.2.6" class="anchored" data-anchor-id="weight-vs-weight-at-next-sample"><span class="header-section-number">16.2.6</span> Weight vs weight at next sample</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/weight_v_weight_73bd521991d518def6c07fc3dcd8a33e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>plotWW <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp){</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> spp), <span class="fu">aes</span>(observedWeight, lagObservedWeight, <span class="at">color =</span> seasonGG)) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.15</span>) <span class="sc">+</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Mass (mg)"</span>, <span class="at">y =</span> <span class="st">"Mass (mg) at next sample"</span>) <span class="sc">+</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>riverGG, <span class="at">scales =</span> <span class="st">'free'</span>)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Brook trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Brown trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Atlantic salmon</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/weight_v_weight_bkt_f305fd8e7b30252b81fe25dbc23bb21e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotWW</span>(cd1, <span class="st">"bkt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/weight_v_weight_bkt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/weight_v_weight_bnt_b2787ac28d987dd51df395cdeaaa64c2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotWW</span>(cd1, <span class="st">"bnt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/weight_v_weight_bnt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/weight_v_weight_ats_3b65d6a15051e21d7c6b5c8a165c8445">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotWW</span>(cd1, <span class="st">"ats"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/weight_v_weight_ats-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="growth-rate-pairs-plots" class="level3" data-number="16.2.7">
<h3 data-number="16.2.7" class="anchored" data-anchor-id="growth-rate-pairs-plots"><span class="header-section-number">16.2.7</span> Growth rate pairs plots</h3>
<p>By species, all cohorts<br>
Row and column labels in the pairs plots are ‘age’_‘season’</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_e882623d42c6b6ef7b035890c9dc0df3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>plotPairs <span class="ot">&lt;-</span> <span class="cf">function</span>(d0, sppIn, cohortIn, <span class="at">firstSamp =</span> <span class="dv">1</span>, <span class="at">lastSamp =</span> <span class="dv">9</span>, <span class="at">upperBlank =</span> <span class="cn">FALSE</span>){</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d0 <span class="sc">|&gt;</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(speciesGG <span class="sc">==</span> sppIn, cohort <span class="sc">%in%</span> cohortIn) <span class="sc">|&gt;</span> </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select_if</span>(<span class="sc">~</span><span class="fu">any</span>(<span class="sc">!</span><span class="fu">is.na</span>(.))) <span class="sc">|&gt;</span>  <span class="co"># remove all-NA columns</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(firstObserved <span class="sc">!=</span> lastObserved <span class="sc">-</span> <span class="dv">1</span>) <span class="co"># remove single obs fish</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  lowerFn <span class="ot">&lt;-</span> <span class="cf">function</span>(data, mapping, <span class="at">method =</span> <span class="st">"lm"</span>, ...) {</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> data, <span class="at">mapping =</span> mapping) <span class="sc">+</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(cohort)), <span class="at">method =</span> method, <span class="at">se =</span> <span class="cn">FALSE</span>, ...) <span class="sc">+</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">'black'</span>, <span class="at">size =</span> <span class="fl">1.1</span>, <span class="at">method =</span> method, <span class="at">se =</span> <span class="cn">FALSE</span>, ...) <span class="sc">+</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_publication</span>() </span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(upperBlank) {</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>    out <span class="ot">&lt;-</span> <span class="fu">ggpairs</span>(</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>      d <span class="sc">|&gt;</span> </span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(speciesGG, tag, firstObserved, lastObserved)),</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">columns =</span> (firstSamp<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(lastSamp<span class="sc">+</span><span class="dv">1</span>), <span class="co"># +1 to skip cohort column</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">lower =</span> <span class="fu">list</span>(<span class="at">continuous =</span> <span class="fu">wrap</span>(lowerFn, <span class="at">method =</span> <span class="st">"lm"</span>)),</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">upper =</span> <span class="st">"blank"</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>    out <span class="ot">&lt;-</span> <span class="fu">ggpairs</span>(</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>      d <span class="sc">|&gt;</span> </span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(speciesGG, tag, firstObserved, lastObserved)),</span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">columns =</span> (firstSamp<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(lastSamp<span class="sc">+</span><span class="dv">1</span>), <span class="co"># +1 to skip cohort column</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">lower =</span> <span class="fu">list</span>(<span class="at">continuous =</span> <span class="fu">wrap</span>(lowerFn, <span class="at">method =</span> <span class="st">"lm"</span>))</span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(out)</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Brook trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Brown trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Atlantic salmon</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt_a787a4e7b8515d8ecc061dd2a0c32dd9">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2000</span><span class="sc">:</span><span class="dv">2015</span>, <span class="dv">1</span>, <span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#plotPairs(cd1Wide_observedWeight, "Brook trout", 2000:2015)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bnt_59d8ae02f060e913aa075f67ef81568f">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brown trout"</span>, <span class="dv">2000</span><span class="sc">:</span><span class="dv">2015</span>, <span class="dv">1</span>, <span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bnt-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#plotPairs(cd1Wide_observedWeight, "Brook trout", 2000:2015)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_ats_c3a17db675ee92a25a2aa730f0dbb475">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span><span class="sc">:</span><span class="dv">2015</span>, <span class="dv">1</span>, <span class="dv">8</span>) <span class="co"># missing data in column 9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_ats-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#plotPairs(cd1Wide_observedWeight, "Atlantic salmon", 2000:2015)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
<section id="brook-trout-by-cohort" class="level4" data-number="16.2.7.1">
<h4 data-number="16.2.7.1" class="anchored" data-anchor-id="brook-trout-by-cohort"><span class="header-section-number">16.2.7.1</span> Brook trout by cohort</h4>
<p>Row and column labels are ‘age’_‘season’<br>
Color by river - make new function</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">2000</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">2001</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">2002</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false">2003</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-5" role="tab" aria-controls="tabset-4-5" aria-selected="false">2004</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-6" role="tab" aria-controls="tabset-4-6" aria-selected="false">2005</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-7" role="tab" aria-controls="tabset-4-7" aria-selected="false">2006</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-8" role="tab" aria-controls="tabset-4-8" aria-selected="false">2007</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-9-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-9" role="tab" aria-controls="tabset-4-9" aria-selected="false">2008</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-10-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-10" role="tab" aria-controls="tabset-4-10" aria-selected="false">2009</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-11-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-11" role="tab" aria-controls="tabset-4-11" aria-selected="false">2010</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-12-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-12" role="tab" aria-controls="tabset-4-12" aria-selected="false">2011</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-13-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-13" role="tab" aria-controls="tabset-4-13" aria-selected="false">2012</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-14-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-14" role="tab" aria-controls="tabset-4-14" aria-selected="false">2013</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-15-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-15" role="tab" aria-controls="tabset-4-15" aria-selected="false">2014</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2000_095a5f81ba80dd928d1ee8ea617227a5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">1</span>, <span class="dv">8</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2000-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2001_a6a108d18c771d1a61396b1bad8ec7ee">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2001</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2001-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2002_1c8aa09293991232cae12560ca71edd8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2002</span>, <span class="dv">1</span>, <span class="dv">9</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2002-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2003_5b2af236291b564a72103bb1031e5658">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2003</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2003-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-5-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2004_34ae12705607bed54b3298fddbc92e1e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2004</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2004-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-6-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2005_fd96c4c204e9920be58fdd3a048b76c8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2005</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2005-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-7-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2006_60fe1306b0638670881fa955135cf5cf">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2006</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2006-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-8-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2007_5a5111be652bd9c25fb66336a4e6287a">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2007</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2007-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-9" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-9-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2008_68cf604b67f9d651ab56d70472477c22">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2008</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2008-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-10" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-10-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2009_a5fe6f76855b402c20831a8b68976042">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2009</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2009-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-11" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-11-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2010_86ffab47b3456332027a2dcd0a2031db">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2010</span>, <span class="dv">1</span>, <span class="dv">8</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2010-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-12" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-12-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2011_8454d5242996463218a29598a72b0f53">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2011</span>, <span class="dv">1</span>, <span class="dv">7</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2011-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-13" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-13-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2012_c1165fca1477b4a2b637b225bee5a133">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2012</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2012-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-14" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-14-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2013_f2e290bdd9557b657b7d3f233aa6accb">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2013</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2013-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-4-15" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-15-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairs_bkt2014_8b673204ee5b983b77deb5c67d4a52ff">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2014</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairs_bkt2014-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="consecutive-season-growth-comparisons-by-age_season" class="level4" data-number="16.2.7.2">
<h4 data-number="16.2.7.2" class="anchored" data-anchor-id="consecutive-season-growth-comparisons-by-age_season"><span class="header-section-number">16.2.7.2</span> Consecutive season growth comparisons by age_season</h4>
<p>Brook trout</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/pairsByAgeSeason_e4cfe97ff9bc0bc6cdce65d585d332cc">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1Wide_grWeight <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2014</span>, <span class="st">`</span><span class="at">0_4</span><span class="st">`</span> <span class="sc">&lt;</span> <span class="fl">0.01</span>), <span class="fu">aes</span>(<span class="st">`</span><span class="at">0_3</span><span class="st">`</span>, <span class="st">`</span><span class="at">0_4</span><span class="st">`</span>, <span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_abline(intercept = 0, slope = 1) +</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'#45454d'</span>) <span class="sc">+</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairsByAgeSeason-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1Wide_grWeight <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2014</span>), <span class="fu">aes</span>(<span class="st">`</span><span class="at">0_4</span><span class="st">`</span>, <span class="st">`</span><span class="at">1_1</span><span class="st">`</span>, <span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_abline(intercept = 0, slope = 1) +</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'#45454d'</span>) <span class="sc">+</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairsByAgeSeason-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1Wide_grWeight <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2014</span>), <span class="fu">aes</span>(<span class="st">`</span><span class="at">1_1</span><span class="st">`</span>, <span class="st">`</span><span class="at">1_2</span><span class="st">`</span>, <span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_abline(intercept = 0, slope = 1) +</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairsByAgeSeason-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1Wide_grWeight <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2014</span>), <span class="fu">aes</span>(<span class="st">`</span><span class="at">1_2</span><span class="st">`</span>, <span class="st">`</span><span class="at">1_3</span><span class="st">`</span>, <span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_abline(intercept = 0, slope = 1) +</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'#45454d'</span>) <span class="sc">+</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairsByAgeSeason-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1Wide_grWeight <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2012</span>), <span class="fu">aes</span>(<span class="st">`</span><span class="at">1_1</span><span class="st">`</span>, <span class="st">`</span><span class="at">2_1</span><span class="st">`</span>, <span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'#45454d'</span>) <span class="sc">+</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pairsByAgeSeason-5.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="growth-rate-in-length-vs-growth-rate-in-mass" class="level3" data-number="16.2.8">
<h3 data-number="16.2.8" class="anchored" data-anchor-id="growth-rate-in-length-vs-growth-rate-in-mass"><span class="header-section-number">16.2.8</span> Growth rate in length vs growth rate in mass</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/grLen_v_grWeight_06a5dfaf359b276a9e4186c681095a61">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1, <span class="fu">aes</span>(grLength, grWeight)) <span class="sc">+</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> observedWeight), <span class="at">alpha =</span> <span class="fl">0.02</span>) <span class="sc">+</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Growth in length"</span>, <span class="at">y =</span> <span class="st">"Growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/grLen_v_grWeight-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>plotGrLenMass <span class="ot">&lt;-</span> <span class="cf">function</span>(d, s){</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(species<span class="sc">==</span>s), <span class="fu">aes</span>(grLength, grWeight, <span class="at">color =</span> <span class="fu">factor</span>(year))) <span class="sc">+</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>, <span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Growth in length"</span>, <span class="at">y =</span> <span class="st">"Growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>(<span class="at">legendPosition =</span> <span class="st">"right"</span>, <span class="at">legendDirection =</span> <span class="st">"vertical"</span>) <span class="sc">+</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">'free'</span>)  </span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  facet_wrap(~year)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Brook trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Brown trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">Atlantic salmon</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/grLen_v_grWeight_bkt_079c2defb824619ed9ec79ad0eb884d1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrLenMass</span>(cd1, <span class="st">"bkt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/grLen_v_grWeight_bkt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/grLen_v_grWeight_bnt_25322c831701742ff33916fbaecfcbca">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrLenMass</span>(cd1, <span class="st">"bnt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/grLen_v_grWeight_bnt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/grLen_v_grWeight_ats_49744e70a7314bbb79738a00ba89f81e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrLenMass</span>(cd1, <span class="st">"ats"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/grLen_v_grWeight_ats-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
<p>No relationship between means of neg and pos growth</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/posNegGR_187e186ec8179bba0249b703dd61fe41">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(meanNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>), <span class="fu">aes</span>(year, meanNegPos, <span class="at">color =</span> negGrowth, <span class="at">group =</span> negGrowth)) <span class="sc">+</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/posNegGR-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(meanNegSRsNWide, <span class="fu">aes</span>(<span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>, <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/posNegGR-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="body-size-effect-on-prop-neg-growth" class="level2" data-number="16.3">
<h2 data-number="16.3" class="anchored" data-anchor-id="body-size-effect-on-prop-neg-growth"><span class="header-section-number">16.3</span> Body size effect on prop neg growth</h2>
<div class="cell" data-hash="modelGrowthInMass_cache/html/propNegSize_504f2d67e4a3b76ef4db8addf48d1caf">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">"bkt"</span>, seasonGG <span class="sc">!=</span> <span class="st">"Spring"</span>), <span class="fu">aes</span>(observedWeight, negGrowth<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/propNegSize-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>), <span class="fu">aes</span>(observedWeight, negGrowth<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/propNegSize-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>, speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>, year <span class="sc">&gt;</span> <span class="dv">2001</span>), <span class="fu">aes</span>(observedWeight, negGrowth<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)<span class="co">#, scales = "free")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/propNegSize-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>, speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>, year <span class="sc">&gt;</span> <span class="dv">2001</span>), <span class="fu">aes</span>(observedWeight, grWeight<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)<span class="co">#, scales = "free")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/propNegSize-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>, speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>, year <span class="sc">&gt;</span> <span class="dv">2001</span>), <span class="fu">aes</span>(ageInSamples, grWeight<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)<span class="co">#, scales = "free")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/propNegSize-5.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>, speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>, year <span class="sc">&gt;</span> <span class="dv">2001</span>, ageInSamples <span class="sc">&gt;</span> <span class="dv">0</span>), <span class="fu">aes</span>(ageInSamples, negGrowth<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)<span class="co">#, scales = "free")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/propNegSize-6.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="flow-and-temperature-growth-relationships" class="level2" data-number="16.4">
<h2 data-number="16.4" class="anchored" data-anchor-id="flow-and-temperature-growth-relationships"><span class="header-section-number">16.4</span> Flow and temperature growth relationships</h2>
<section id="mean-flow-effect-on-growth" class="level3" data-number="16.4.1">
<h3 data-number="16.4.1" class="anchored" data-anchor-id="mean-flow-effect-on-growth"><span class="header-section-number">16.4.1</span> Mean flow effect on growth?</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_weight_dcf3f921d2c3df4631482ad1aa94b1c3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>plotFlowGR <span class="ot">&lt;-</span> <span class="cf">function</span>(d, r){</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(river <span class="sc">==</span> r), <span class="fu">aes</span>(meanFlowByRiver, grWeight, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>)  <span class="sc">+</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span><span class="cn">FALSE</span>, <span class="at">formula =</span> y<span class="sc">~</span><span class="fu">poly</span>(x,<span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Mean flow"</span>, <span class="at">y =</span> <span class="st">"Growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle(r) +</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)<span class="co">#, scales = 'free')</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">West Brook</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Open Large</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">Open Small</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false">Isolated small</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_weight_wb_aaf8fe7738465a7ef4a57f9da492036c">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotFlowGR</span>(cd1, <span class="st">"west brook"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/flow_weight_wb-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_weight_ol_ec5b11e5e70a3ec4c3c69183772caf29">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotFlowGR</span>(cd1, <span class="st">"wb jimmy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/flow_weight_ol-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_weight_os_04b69af986df6f561d6db55cd55c21f4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotFlowGR</span>(cd1, <span class="st">"wb mitchell"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/flow_weight_os-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_weight_is_9e352759d16aa6a809087efc6771aaca">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotFlowGR</span>(cd1, <span class="st">"wb obear"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/flow_weight_is-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="mean-temperature-effect-on-growth" class="level3" data-number="16.4.2">
<h3 data-number="16.4.2" class="anchored" data-anchor-id="mean-temperature-effect-on-growth"><span class="header-section-number">16.4.2</span> Mean temperature effect on growth?</h3>
<p>Maybe in Jimmy for bnt, or for ats</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/temp_grWeight_e123d98e214bf72b2470384f1a749d5c">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>plotTempGR <span class="ot">&lt;-</span> <span class="cf">function</span>(d, s){</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(seasonGG <span class="sc">==</span> s), <span class="fu">aes</span>(meanTemperature, grWeight, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)  <span class="sc">+</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span><span class="cn">FALSE</span>, <span class="at">formula =</span> y<span class="sc">~</span><span class="fu">poly</span>(x,<span class="dv">2</span>), <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Mean temperature (c)"</span>, <span class="at">y =</span> <span class="st">"Growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>   <span class="co"># ggtitle(s) +</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>riverGG)<span class="co">#, scales = 'free')</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">Spring</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Summer</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false">Autumn</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-4" role="tab" aria-controls="tabset-7-4" aria-selected="false">Winter</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/temp_grWeight_spring_088ed64509737e4baf75874c47c0d0f5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotTempGR</span>(cd1, <span class="st">"Spring"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/temp_grWeight_spring-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/temp_grWeight_summer_30cc3c07f5de9d84cccd137681a0f999">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotTempGR</span>(cd1, <span class="st">"Summer"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/temp_grWeight_summer-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/temp_grWeight_autumn_e281e958fe5f3cb8218e13dd6d129cab">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotTempGR</span>(cd1, <span class="st">"Autumn"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/temp_grWeight_autumn-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-7-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-4-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/temp_grWeight_winter_13b56c7a92b3266704f5c021bd4dd7fd">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotTempGR</span>(cd1, <span class="st">"Winter"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/temp_grWeight_winter-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="proportion-of-fish-with-negative-growth" class="level2" data-number="16.5">
<h2 data-number="16.5" class="anchored" data-anchor-id="proportion-of-fish-with-negative-growth"><span class="header-section-number">16.5</span> Proportion of fish with <strong>negative growth</strong></h2>
<p>Counts/proportions of negative growth<br>
Proportions for Table 1</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/neg_posCounts_fa1c0d5443e2d3a50b00c63b93b27ed3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># All</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)) <span class="sc">|&gt;</span> </span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nTotal =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nTotal, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> n<span class="sc">/</span>nTotal)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
# Groups:   nTotal [1]
  nTotal negGrowth     n  prop
   &lt;int&gt; &lt;lgl&gt;     &lt;int&gt; &lt;dbl&gt;
1  24193 FALSE     20620 0.852
2  24193 TRUE       3573 0.148</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co">#by river</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)) <span class="sc">|&gt;</span> </span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   riverGG [4]
  riverGG        `FALSE` `TRUE`   prop
  &lt;ord&gt;            &lt;int&gt;  &lt;int&gt;  &lt;dbl&gt;
1 West Brook       15496   2937 0.159 
2 Open Large        1661    268 0.139 
3 Open Small        1129     93 0.0761
4 Isolated Small    2334    275 0.105 </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co">#by species</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)) <span class="sc">|&gt;</span> </span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
# Groups:   species [3]
  species `FALSE` `TRUE`   prop
  &lt;chr&gt;     &lt;int&gt;  &lt;int&gt;  &lt;dbl&gt;
1 ats        7445   2003 0.212 
2 bkt        8745   1344 0.133 
3 bnt        4430    226 0.0485</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by season</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)) <span class="sc">|&gt;</span> </span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   season [4]
  season `FALSE` `TRUE`    prop
   &lt;dbl&gt;   &lt;int&gt;  &lt;int&gt;   &lt;dbl&gt;
1      1    5857      7 0.00119
2      2    5438   2151 0.283  
3      3    5675   1150 0.168  
4      4    3650    265 0.0677 </code></pre>
</div>
</div>
<section id="brook-trout-4" class="level4" data-number="16.5.0.1">
<h4 data-number="16.5.0.1" class="anchored" data-anchor-id="brook-trout-4"><span class="header-section-number">16.5.0.1</span> Brook trout</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/propBKT_422469a866cc76da4bb5d25d404dd35e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by season</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bkt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   season [4]
  season `FALSE` `TRUE`     prop
   &lt;dbl&gt;   &lt;int&gt;  &lt;int&gt;    &lt;dbl&gt;
1      1    2435      1 0.000411
2      2    2492    825 0.249   
3      3    2250    449 0.166   
4      4    1568     69 0.0422  </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by river</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bkt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   riverGG [4]
  riverGG        `FALSE` `TRUE`   prop
  &lt;ord&gt;            &lt;int&gt;  &lt;int&gt;  &lt;dbl&gt;
1 West Brook        4121    739 0.152 
2 Open Large        1255    241 0.161 
3 Open Small        1035     89 0.0792
4 Isolated Small    2334    275 0.105 </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by season/river</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bkt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 5
# Groups:   season, riverGG [16]
   season riverGG        `FALSE` `TRUE`      prop
    &lt;dbl&gt; &lt;ord&gt;            &lt;int&gt;  &lt;int&gt;     &lt;dbl&gt;
 1      1 West Brook        1247      1  0.000801
 2      1 Open Large         307     NA NA       
 3      1 Open Small         294     NA NA       
 4      1 Isolated Small     587     NA NA       
 5      2 West Brook        1340    565  0.297   
 6      2 Open Large         342    135  0.283   
 7      2 Open Small         231     44  0.16    
 8      2 Isolated Small     579     81  0.123   
 9      3 West Brook         959    159  0.142   
10      3 Open Large         368     83  0.184   
11      3 Open Small         264     33  0.111   
12      3 Isolated Small     659    174  0.209   
13      4 West Brook         575     14  0.0238  
14      4 Open Large         238     23  0.0881  
15      4 Open Small         246     12  0.0465  
16      4 Isolated Small     509     20  0.0378  </code></pre>
</div>
</div>
</section>
<section id="brown-trout-4" class="level4" data-number="16.5.0.2">
<h4 data-number="16.5.0.2" class="anchored" data-anchor-id="brown-trout-4"><span class="header-section-number">16.5.0.2</span> Brown trout</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/propBNT_e24d2dc7633e9df2844e166d5cf61c4e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by season</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bnt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   season [4]
  season `FALSE` `TRUE`    prop
   &lt;dbl&gt;   &lt;int&gt;  &lt;int&gt;   &lt;dbl&gt;
1      1    1067      4 0.00373
2      2    1299    108 0.0768 
3      3    1454     83 0.0540 
4      4     610     31 0.0484 </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by river</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bnt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
# Groups:   riverGG [3]
  riverGG    `FALSE` `TRUE`   prop
  &lt;ord&gt;        &lt;int&gt;  &lt;int&gt;  &lt;dbl&gt;
1 West Brook    3946    201 0.0485
2 Open Large     390     21 0.0511
3 Open Small      94      4 0.0408</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by season/river</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bnt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 5
# Groups:   season, riverGG [12]
   season riverGG    `FALSE` `TRUE`     prop
    &lt;dbl&gt; &lt;ord&gt;        &lt;int&gt;  &lt;int&gt;    &lt;dbl&gt;
 1      1 West Brook     959      4  0.00415
 2      1 Open Large      85     NA NA      
 3      1 Open Small      23     NA NA      
 4      2 West Brook    1172    103  0.0808 
 5      2 Open Large     102      4  0.0377 
 6      2 Open Small      25      1  0.0385 
 7      3 West Brook    1309     71  0.0514 
 8      3 Open Large     121     11  0.0833 
 9      3 Open Small      24      1  0.04   
10      4 West Brook     506     23  0.0435 
11      4 Open Large      82      6  0.0682 
12      4 Open Small      22      2  0.0833 </code></pre>
</div>
</div>
</section>
<section id="atlantic-salmon-4" class="level4" data-number="16.5.0.3">
<h4 data-number="16.5.0.3" class="anchored" data-anchor-id="atlantic-salmon-4"><span class="header-section-number">16.5.0.3</span> Atlantic salmon</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/propATS_40a36b7df55831b732fec2647dcfa5de">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by season</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'ats'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   season [4]
  season `FALSE` `TRUE`     prop
   &lt;dbl&gt;   &lt;int&gt;  &lt;int&gt;    &lt;dbl&gt;
1      1    2355      2 0.000849
2      2    1647   1218 0.425   
3      3    1971    618 0.239   
4      4    1472    165 0.101   </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by river</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'ats'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
# Groups:   riverGG [2]
  riverGG    `FALSE` `TRUE`  prop
  &lt;ord&gt;        &lt;int&gt;  &lt;int&gt; &lt;dbl&gt;
1 West Brook    7429   1997 0.212
2 Open Large      16      6 0.273</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by season/river</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'ats'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 5
# Groups:   season, riverGG [8]
  season riverGG    `FALSE` `TRUE`      prop
   &lt;dbl&gt; &lt;ord&gt;        &lt;int&gt;  &lt;int&gt;     &lt;dbl&gt;
1      1 West Brook    2350      2  0.000850
2      1 Open Large       5     NA NA       
3      2 West Brook    1644   1216  0.425   
4      2 Open Large       3      2  0.4     
5      3 West Brook    1966    617  0.239   
6      3 Open Large       5      1  0.167   
7      4 West Brook    1469    162  0.0993  
8      4 Open Large       3      3  0.5     </code></pre>
</div>
</div>
</section>
<section id="proportion-of-observations-with-negative-growth-by-speciesriverseason" class="level3" data-number="16.5.1">
<h3 data-number="16.5.1" class="anchored" data-anchor-id="proportion-of-observations-with-negative-growth-by-speciesriverseason"><span class="header-section-number">16.5.1</span> Proportion of observations with negative growth by species/river/season</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/neg_pos_27142bfbd53b23d7bcdcaa147761ee5c">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)), <span class="fu">aes</span>(negGrowth)) <span class="sc">+</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG<span class="sc">+</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/neg_pos-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="proportion-of-observations-with-negative-growth-by-speciesseason" class="level3" data-number="16.5.2">
<h3 data-number="16.5.2" class="anchored" data-anchor-id="proportion-of-observations-with-negative-growth-by-speciesseason"><span class="header-section-number">16.5.2</span> Proportion of observations with negative growth by species/season</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/propNegBySeason_0f5628e0a905866ae84c509ee22b4176">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRS <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">50</span>), <span class="fu">aes</span>(seasonGG, propNeg, <span class="at">color =</span> riverGG, <span class="at">group =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>, <span class="at">y =</span> <span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">360-45</span>, <span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">hjust =</span> .<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/propNegBySeason-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="proportion-of-observations-with-negative-growth-by-speciesriveryear" class="level3" data-number="16.5.3">
<h3 data-number="16.5.3" class="anchored" data-anchor-id="proportion-of-observations-with-negative-growth-by-speciesriveryear"><span class="header-section-number">16.5.3</span> Proportion of observations with negative growth by species/river/year</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/propNegWB_BKT_286593c1f70a35f13ebc6bc11a4c88d8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>plotPropNegByRiver <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp){</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">20</span>,  speciesGG <span class="sc">==</span> spp), </span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">aes</span>(year, propNeg, <span class="at">color =</span> <span class="fu">factor</span>(seasonGG))) <span class="sc">+</span></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Proportion of opnservations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>riverGG)</span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">Brook trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">Brown trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-3" role="tab" aria-controls="tabset-8-3" aria-selected="false">Atlantic salmon</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/propNegWB_BKT_bkt_5869aaedf4c5ee61981165f7a6f55d90">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPropNegByRiver</span>(propNegSRsN, <span class="st">"Brook trout"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/propNegWB_BKT_bkt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/propNegWB_BKT_bnt_09336f49c46a97eaa11c69c716057805">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPropNegByRiver</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(riverGG <span class="sc">!=</span> <span class="st">"Open Small"</span>), <span class="st">"Brown trout"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/propNegWB_BKT_bnt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-8-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/propNegWB_BKT_ats_2d4c69e327eb6e40ef9c84d459e56082">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPropNegByRiver</span>(propNegSRsN, <span class="st">"Atlantic salmon"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/propNegWB_BKT_ats-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="proportion-of-observations-with-negative-growth-by-speciesriveryear-1" class="level3" data-number="16.5.4">
<h3 data-number="16.5.4" class="anchored" data-anchor-id="proportion-of-observations-with-negative-growth-by-speciesriveryear-1"><span class="header-section-number">16.5.4</span> Proportion of observations with negative growth by species/river/year</h3>
<p>Break down season by year, compare across rivers</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/neg_posN_776bd5a3d6d0050b9b217bbb06985c97">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>), <span class="fu">aes</span>(year, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/neg_posN-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">15</span>, seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>, speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, year <span class="sc">&gt;</span> <span class="dv">2001</span>), <span class="fu">aes</span>(year, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/neg_posN-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="environmental-effects-on-proportion-of-observations-with-negative-growth" class="level2" data-number="16.6">
<h2 data-number="16.6" class="anchored" data-anchor-id="environmental-effects-on-proportion-of-observations-with-negative-growth"><span class="header-section-number">16.6</span> Environmental effects on Proportion of observations with negative growth</h2>
<section id="models-for-proportions" class="level3" data-number="16.6.1">
<h3 data-number="16.6.1" class="anchored" data-anchor-id="models-for-proportions"><span class="header-section-number">16.6.1</span> Models for proportions</h3>
<section id="brool-trout" class="level4" data-number="16.6.1.1">
<h4 data-number="16.6.1.1" class="anchored" data-anchor-id="brool-trout"><span class="header-section-number">16.6.1.1</span> Brool trout</h4>
<p>Probably delete this section</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/propModBKT_b251e112e94c902d86a9097d5395b8fb">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>propModBKT1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10 <span class="sc">+</span> nInd <span class="sc">+</span> seasonGG <span class="sc">+</span> riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>propModBKT2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10 <span class="sc">+</span> nInd <span class="sc">+</span> seasonGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>propModBKT3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10 <span class="sc">+</span> nInd )<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>propModBKT4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10  <span class="sc">+</span> seasonGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a>propModBKT5 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT  <span class="sc">+</span> nInd <span class="sc">+</span> seasonGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a>propModBKT6 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10 <span class="sc">+</span> nInd )<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-12"><a href="#cb114-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-13"><a href="#cb114-13" aria-hidden="true" tabindex="-1"></a>propModBKT7 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10  <span class="sc">+</span> riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-14"><a href="#cb114-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-15"><a href="#cb114-15" aria-hidden="true" tabindex="-1"></a>propModBKT8 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> seasonGG <span class="sc">+</span> riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-16"><a href="#cb114-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-17"><a href="#cb114-17" aria-hidden="true" tabindex="-1"></a>propModBKT9 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (nInd <span class="sc">+</span> seasonGG <span class="sc">+</span> riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-18"><a href="#cb114-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-19"><a href="#cb114-19" aria-hidden="true" tabindex="-1"></a>propModBKT10 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mF_log10 <span class="sc">+</span> seasonGG <span class="sc">+</span> riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-20"><a href="#cb114-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-21"><a href="#cb114-21" aria-hidden="true" tabindex="-1"></a>propModBKT11 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-22"><a href="#cb114-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-23"><a href="#cb114-23" aria-hidden="true" tabindex="-1"></a>propModBKT12<span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (seasonGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-24"><a href="#cb114-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-25"><a href="#cb114-25" aria-hidden="true" tabindex="-1"></a>propModBKT13 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (nInd)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-26"><a href="#cb114-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-27"><a href="#cb114-27" aria-hidden="true" tabindex="-1"></a>propModBKT14 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mF_log10)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-28"><a href="#cb114-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-29"><a href="#cb114-29" aria-hidden="true" tabindex="-1"></a>propModBKT15 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb114-30"><a href="#cb114-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-31"><a href="#cb114-31" aria-hidden="true" tabindex="-1"></a>propModAIC <span class="ot">&lt;-</span> <span class="fu">AIC</span>(propModBKT1, propModBKT2, propModBKT3, propModBKT4, propModBKT5, propModBKT6, propModBKT7, propModBKT8, propModBKT9, propModBKT10, propModBKT11, propModBKT12, propModBKT13, propModBKT14, propModBKT15) <span class="sc">|&gt;</span>  <span class="fu">arrange</span>(AIC)</span>
<span id="cb114-32"><a href="#cb114-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-33"><a href="#cb114-33" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">rownames</span>(propModAIC)[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   Length     Class      Mode 
        1 character character </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get</span>(<span class="fu">rownames</span>(propModAIC)[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = propNeg ~ (mF_log10 + seasonGG + riverGG)^2, data = filter(propNegSRsN, 
    speciesGG == "Brook trout"))

Coefficients:
         (Intercept)              mF_log10            seasonGG.L  
           -0.102080             -0.125794              0.212557  
          seasonGG.Q            seasonGG.C             riverGG.L  
            0.188602             -0.568568             -0.169175  
           riverGG.Q             riverGG.C   mF_log10:seasonGG.L  
            0.080556              0.011321              0.115009  
 mF_log10:seasonGG.Q   mF_log10:seasonGG.C    mF_log10:riverGG.L  
            0.215843             -0.395742             -0.044697  
  mF_log10:riverGG.Q    mF_log10:riverGG.C  seasonGG.L:riverGG.L  
            0.046653             -0.001675              0.155177  
seasonGG.Q:riverGG.L  seasonGG.C:riverGG.L  seasonGG.L:riverGG.Q  
            0.269973             -0.466788             -0.049743  
seasonGG.Q:riverGG.Q  seasonGG.C:riverGG.Q  seasonGG.L:riverGG.C  
           -0.099291              0.099554              0.028025  
seasonGG.Q:riverGG.C  seasonGG.C:riverGG.C  
            0.022183             -0.054596  </code></pre>
</div>
</div>
</section>
</section>
<section id="proportion-of-observations-with-negative-growth-by-flow" class="level3" data-number="16.6.2">
<h3 data-number="16.6.2" class="anchored" data-anchor-id="proportion-of-observations-with-negative-growth-by-flow"><span class="header-section-number">16.6.2</span> Proportion of observations with negative growth by <strong>flow</strong></h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/negGrowth_flow_49d1a0b79b4db58415e8749c57435705">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(mF, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="fu">bquote</span>(<span class="st">"Mean flow "</span> <span class="sc">~</span> (m<span class="sc">^</span><span class="dv">3</span> <span class="sc">~</span> <span class="st">"·"</span> <span class="sc">~</span> s<span class="sc">^</span>{<span class="sc">-</span><span class="dv">1</span>}))) <span class="sc">+</span> <span class="co">#alt-250 for dot +</span></span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"West Brook"</span>) <span class="sc">+</span></span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_flow-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">!=</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(mF, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="fu">bquote</span>(<span class="st">"Mean flow "</span> <span class="sc">~</span> (m<span class="sc">^</span><span class="dv">3</span> <span class="sc">~</span> <span class="st">"·"</span> <span class="sc">~</span> s<span class="sc">^</span>{<span class="sc">-</span><span class="dv">1</span>}))) <span class="sc">+</span> <span class="co">#alt-250 for dot</span></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="at">drop =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Tributaries"</span>) <span class="sc">+</span></span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_flow-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="proportion-of-observations-with-negative-growth-by-temperature" class="level3" data-number="16.6.3">
<h3 data-number="16.6.3" class="anchored" data-anchor-id="proportion-of-observations-with-negative-growth-by-temperature"><span class="header-section-number">16.6.3</span> Proportion of observations with negative growth by <strong>temperature</strong></h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/negGrowth_temp_a263a92c8697ded5f7fd7f2cb1ec5caf">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>plotNegGrowth_temp <span class="ot">&lt;-</span> <span class="cf">function</span>(d, s){</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, seasonGG <span class="sc">==</span> s), <span class="fu">aes</span>(mT, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="st">"Mean temperature (C)"</span>) <span class="sc">+</span></span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(s) <span class="sc">+</span></span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb120-10"><a href="#cb120-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(riverGG<span class="sc">~</span>speciesGG)</span>
<span id="cb120-11"><a href="#cb120-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">Spring</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">Summer</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-3" role="tab" aria-controls="tabset-9-3" aria-selected="false">Autumn</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-4" role="tab" aria-controls="tabset-9-4" aria-selected="false">Winter</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/negGrowth_tempSPring_661419f801bf00c1023d614dd58f7d75">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotNegGrowth_temp</span>(propNegSRsN, <span class="st">"Spring"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_tempSPring-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/negGrowth_tempSummer_9c29c74d2f170a524309d96c1e677263">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotNegGrowth_temp</span>(propNegSRsN, <span class="st">"Summer"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_tempSummer-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-9-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/negGrowth_tempAutumn_fca462a890ec25ae03eb71685ed1a48c">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotNegGrowth_temp</span>(propNegSRsN, <span class="st">"Autumn"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_tempAutumn-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-9-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-4-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/negGrowth_tempWinter_d841cd4920882abc43da310828c5c105">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotNegGrowth_temp</span>(propNegSRsN, <span class="st">"Winter"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_tempWinter-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="proportion-of-observations-with-negative-growth-by-3-species-fish-counts" class="level3" data-number="16.6.4">
<h3 data-number="16.6.4" class="anchored" data-anchor-id="proportion-of-observations-with-negative-growth-by-3-species-fish-counts"><span class="header-section-number">16.6.4</span> Proportion of observations with negative growth by <strong>3 species fish counts</strong></h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/negGrowth_counts3Spp_979362efe60a8ff36a467e42ed8fe391">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(nInd, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="st">"3 species count"</span>) <span class="sc">+</span></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb125-7"><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"West Brook"</span>) <span class="sc">+</span></span>
<span id="cb125-8"><a href="#cb125-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb125-9"><a href="#cb125-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_counts3Spp-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">!=</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(nInd, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="st">"3 species count"</span>) <span class="sc">+</span></span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Tributaries"</span>) <span class="sc">+</span></span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_counts3Spp-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="proportion-of-observations-with-negative-growth-by-conspecific-fish-counts" class="level3" data-number="16.6.5">
<h3 data-number="16.6.5" class="anchored" data-anchor-id="proportion-of-observations-with-negative-growth-by-conspecific-fish-counts"><span class="header-section-number">16.6.5</span> Proportion of observations with negative growth by <strong>conspecific fish counts</strong></h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/negGrowth_counts1Spp_72ba1d8f68c6a6832956e38c420f3101">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(nIndBySpp, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="st">"conspecific count"</span>) <span class="sc">+</span></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"West Brook"</span>) <span class="sc">+</span></span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_counts1Spp-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">!=</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(nIndBySpp, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="st">"conspecific count"</span>) <span class="sc">+</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Tributaries"</span>) <span class="sc">+</span></span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_counts1Spp-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="xgboost-model-for-proportion-of-fish-with-neg-growth" class="level2" data-number="16.7">
<h2 data-number="16.7" class="anchored" data-anchor-id="xgboost-model-for-proportion-of-fish-with-neg-growth"><span class="header-section-number">16.7</span> XGBoost model for proportion of fish with neg growth</h2>
<section id="hyperparameter-search-grid" class="level3" data-number="16.7.1">
<h3 data-number="16.7.1" class="anchored" data-anchor-id="hyperparameter-search-grid"><span class="header-section-number">16.7.1</span> Hyperparameter search grid</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/runML_HP_propNeg_c4dd1056e253125121eba6999723d8b6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>runHyperparamSearch <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">d =</span> propNegSRsN, <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"speciesGG"</span>, <span class="st">"riverGG"</span>, <span class="st">"year"</span>, <span class="st">"mT"</span>, <span class="st">"mF_log10"</span>, <span class="st">"nInd"</span>, <span class="st">"propNeg"</span>), <span class="at">nRoundsIn =</span> <span class="dv">100000</span>, <span class="at">early_stopping_roundsIn =</span> <span class="dv">500</span>) {</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>  dML_propNeg <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> </span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">all_of</span>(vars)) </span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># variable names</span></span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a>  features_propNeg <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">names</span>(dML_propNeg), <span class="st">"propNeg"</span>)</span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-11"><a href="#cb129-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create the treatment plan from the training data</span></span>
<span id="cb129-12"><a href="#cb129-12" aria-hidden="true" tabindex="-1"></a>  treatplan_propNeg <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">designTreatmentsZ</span>(dML_propNeg, features_propNeg, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb129-13"><a href="#cb129-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-14"><a href="#cb129-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the "clean" variable names from the scoreFrame</span></span>
<span id="cb129-15"><a href="#cb129-15" aria-hidden="true" tabindex="-1"></a>  new_vars_propNeg <span class="ot">&lt;-</span> treatplan_propNeg <span class="sc">%&gt;%</span></span>
<span id="cb129-16"><a href="#cb129-16" aria-hidden="true" tabindex="-1"></a>    magrittr<span class="sc">::</span><span class="fu">use_series</span>(scoreFrame) <span class="sc">%&gt;%</span>        </span>
<span id="cb129-17"><a href="#cb129-17" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(code <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"clean"</span>, <span class="st">"lev"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb129-18"><a href="#cb129-18" aria-hidden="true" tabindex="-1"></a>    magrittr<span class="sc">::</span><span class="fu">use_series</span>(varName)     </span>
<span id="cb129-19"><a href="#cb129-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-20"><a href="#cb129-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare the training data</span></span>
<span id="cb129-21"><a href="#cb129-21" aria-hidden="true" tabindex="-1"></a>  features_train_propNeg <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan_propNeg, dML_propNeg, <span class="at">varRestriction =</span> new_vars_propNeg) <span class="sc">%&gt;%</span> <span class="fu">as.matrix</span>()</span>
<span id="cb129-22"><a href="#cb129-22" aria-hidden="true" tabindex="-1"></a>  response_train_propNeg <span class="ot">&lt;-</span> dML_propNeg<span class="sc">$</span>propNeg</span>
<span id="cb129-23"><a href="#cb129-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-24"><a href="#cb129-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create hyperparameter grid</span></span>
<span id="cb129-25"><a href="#cb129-25" aria-hidden="true" tabindex="-1"></a>  hyper_grid_propNeg <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb129-26"><a href="#cb129-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">eta =</span> <span class="fu">c</span>(.<span class="dv">01</span>, .<span class="dv">05</span>, .<span class="dv">1</span>, .<span class="dv">3</span>),</span>
<span id="cb129-27"><a href="#cb129-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_depth =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>),</span>
<span id="cb129-28"><a href="#cb129-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_child_weight =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>),</span>
<span id="cb129-29"><a href="#cb129-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">subsample =</span> <span class="fu">c</span>(.<span class="dv">65</span>, .<span class="dv">8</span>, <span class="dv">1</span>),</span>
<span id="cb129-30"><a href="#cb129-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">colsample_bytree =</span> <span class="fu">c</span>(.<span class="dv">8</span>, .<span class="dv">9</span>, <span class="dv">1</span>),</span>
<span id="cb129-31"><a href="#cb129-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimal_trees =</span> <span class="dv">0</span>,               <span class="co"># a place to dump results</span></span>
<span id="cb129-32"><a href="#cb129-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_RMSE =</span> <span class="dv">0</span>                     <span class="co"># a place to dump results</span></span>
<span id="cb129-33"><a href="#cb129-33" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb129-34"><a href="#cb129-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-35"><a href="#cb129-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># reproducibility</span></span>
<span id="cb129-36"><a href="#cb129-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb129-37"><a href="#cb129-37" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   </span></span>
<span id="cb129-38"><a href="#cb129-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># grid search</span></span>
<span id="cb129-39"><a href="#cb129-39" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(hyper_grid_propNeg)) {</span>
<span id="cb129-40"><a href="#cb129-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste0</span>(i, <span class="st">" out of "</span>, <span class="fu">nrow</span>(hyper_grid_propNeg)))</span>
<span id="cb129-41"><a href="#cb129-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create parameter list</span></span>
<span id="cb129-42"><a href="#cb129-42" aria-hidden="true" tabindex="-1"></a>    params_propNeg <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb129-43"><a href="#cb129-43" aria-hidden="true" tabindex="-1"></a>      <span class="at">eta =</span> hyper_grid_propNeg<span class="sc">$</span>eta[i],</span>
<span id="cb129-44"><a href="#cb129-44" aria-hidden="true" tabindex="-1"></a>      <span class="at">max_depth =</span> hyper_grid_propNeg<span class="sc">$</span>max_depth[i],</span>
<span id="cb129-45"><a href="#cb129-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">min_child_weight =</span> hyper_grid_propNeg<span class="sc">$</span>min_child_weight[i],</span>
<span id="cb129-46"><a href="#cb129-46" aria-hidden="true" tabindex="-1"></a>      <span class="at">subsample =</span> hyper_grid_propNeg<span class="sc">$</span>subsample[i],</span>
<span id="cb129-47"><a href="#cb129-47" aria-hidden="true" tabindex="-1"></a>      <span class="at">colsample_bytree =</span> hyper_grid_propNeg<span class="sc">$</span>colsample_bytree[i]</span>
<span id="cb129-48"><a href="#cb129-48" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb129-49"><a href="#cb129-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-50"><a href="#cb129-50" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-51"><a href="#cb129-51" aria-hidden="true" tabindex="-1"></a>    <span class="co"># train model</span></span>
<span id="cb129-52"><a href="#cb129-52" aria-hidden="true" tabindex="-1"></a>    xgb.tune_propNeg <span class="ot">&lt;-</span> <span class="fu">xgb.cv</span>(</span>
<span id="cb129-53"><a href="#cb129-53" aria-hidden="true" tabindex="-1"></a>      <span class="at">params =</span> params_propNeg,</span>
<span id="cb129-54"><a href="#cb129-54" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> features_train_propNeg,</span>
<span id="cb129-55"><a href="#cb129-55" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> response_train_propNeg,</span>
<span id="cb129-56"><a href="#cb129-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">nrounds =</span> <span class="dv">100000</span>,</span>
<span id="cb129-57"><a href="#cb129-57" aria-hidden="true" tabindex="-1"></a>      <span class="at">nfold =</span> <span class="dv">5</span>,</span>
<span id="cb129-58"><a href="#cb129-58" aria-hidden="true" tabindex="-1"></a>      <span class="at">objective =</span> <span class="st">"reg:squarederror"</span>, <span class="co">#"reg:linear",  # for regression models</span></span>
<span id="cb129-59"><a href="#cb129-59" aria-hidden="true" tabindex="-1"></a>      <span class="at">verbose =</span> <span class="dv">0</span>,               <span class="co"># silent,</span></span>
<span id="cb129-60"><a href="#cb129-60" aria-hidden="true" tabindex="-1"></a>      <span class="at">early_stopping_rounds =</span> early_stopping_roundsIn <span class="co"># stop if no improvement for x consecutive trees</span></span>
<span id="cb129-61"><a href="#cb129-61" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb129-62"><a href="#cb129-62" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-63"><a href="#cb129-63" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add min training error and trees to grid</span></span>
<span id="cb129-64"><a href="#cb129-64" aria-hidden="true" tabindex="-1"></a>    hyper_grid_propNeg<span class="sc">$</span>optimal_trees[i] <span class="ot">&lt;-</span> <span class="fu">which.min</span>(xgb.tune_propNeg<span class="sc">$</span>evaluation_log<span class="sc">$</span>test_rmse_mean)</span>
<span id="cb129-65"><a href="#cb129-65" aria-hidden="true" tabindex="-1"></a>    hyper_grid_propNeg<span class="sc">$</span>min_RMSE[i] <span class="ot">&lt;-</span> <span class="fu">min</span>(xgb.tune_propNeg<span class="sc">$</span>evaluation_log<span class="sc">$</span>test_rmse_mean)</span>
<span id="cb129-66"><a href="#cb129-66" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb129-67"><a href="#cb129-67" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb129-68"><a href="#cb129-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(hyper_grid_propNeg <span class="sc">|&gt;</span> <span class="fu">arrange</span>(min_RMSE))</span>
<span id="cb129-69"><a href="#cb129-69" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb129-70"><a href="#cb129-70" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb129-71"><a href="#cb129-71" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; #     eta max_depth min_child_weight subsample colsample_bytree optimal_trees  min_RMSE</span></span>
<span id="cb129-72"><a href="#cb129-72" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 1  0.10         1                7      0.80              0.9            57 0.1833918</span></span>
<span id="cb129-73"><a href="#cb129-73" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 2  0.10         3                3      1.00              1.0            52 0.1835447</span></span>
<span id="cb129-74"><a href="#cb129-74" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 3  0.05         3                1      0.65              0.9            88 0.1849762</span></span>
<span id="cb129-75"><a href="#cb129-75" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 4  0.01         3                7      1.00              0.9           514 0.1853950</span></span>
<span id="cb129-76"><a href="#cb129-76" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 5  0.30         5                1      0.80              1.0            17 0.1854102</span></span>
<span id="cb129-77"><a href="#cb129-77" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 6  0.01         3                3      0.65              0.8           438 0.1854346</span></span>
<span id="cb129-78"><a href="#cb129-78" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 7  0.30         5                1      1.00              0.9            14 0.1856684</span></span>
<span id="cb129-79"><a href="#cb129-79" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 8  0.01         1                3      0.65              0.9           560 0.1857717</span></span>
<span id="cb129-80"><a href="#cb129-80" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 9  0.30         3                1      1.00              1.0            13 0.1859183</span></span>
<span id="cb129-81"><a href="#cb129-81" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 10 0.30         3                3      0.65              0.8            21 0.1860299</span></span>
<span id="cb129-82"><a href="#cb129-82" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 11 0.05         7                3      0.80              0.8           123 0.1860336</span></span>
<span id="cb129-83"><a href="#cb129-83" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 12 0.01         3                5      0.80              1.0           512 0.1861016</span></span>
<span id="cb129-84"><a href="#cb129-84" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 13 0.10         3                7      0.65              1.0            45 0.1861042</span></span>
<span id="cb129-85"><a href="#cb129-85" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 14 0.10         3                5      1.00              1.0            55 0.1861160</span></span>
<span id="cb129-86"><a href="#cb129-86" aria-hidden="true" tabindex="-1"></a><span class="co"># # &gt; # 15 0.10         1                1      1.00              0.9           179 0.1861891</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="function-to-run-models" class="level3" data-number="16.7.2">
<h3 data-number="16.7.2" class="anchored" data-anchor-id="function-to-run-models"><span class="header-section-number">16.7.2</span> Function to run models</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/xgBoostPropNegFunction_a9fdd5a841daf4fec08dcd9a54caeaf5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># http://uc-r.github.io/gbm_regression</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>runXGB <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">d =</span> propNegSRsN, <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"speciesGG"</span>, <span class="st">"riverGG"</span>, <span class="st">"year"</span>, <span class="st">"mT"</span>, <span class="st">"mF_log10"</span>, <span class="st">"nInd"</span>, <span class="st">"propNeg"</span>), <span class="at">nRoundsIn =</span> <span class="dv">100000</span>, <span class="at">params =</span> params_propNegIn) {</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">125</span>)</span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>  dML_propNeg <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> </span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">all_of</span>(vars)) </span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb130-9"><a href="#cb130-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># variable names</span></span>
<span id="cb130-10"><a href="#cb130-10" aria-hidden="true" tabindex="-1"></a>  features_propNeg <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">names</span>(dML_propNeg), <span class="st">"propNeg"</span>)</span>
<span id="cb130-11"><a href="#cb130-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb130-12"><a href="#cb130-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create the treatment plan from the training data</span></span>
<span id="cb130-13"><a href="#cb130-13" aria-hidden="true" tabindex="-1"></a>  treatplan_propNeg <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">designTreatmentsZ</span>(dML_propNeg, features_propNeg, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb130-14"><a href="#cb130-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb130-15"><a href="#cb130-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the "clean" variable names from the scoreFrame</span></span>
<span id="cb130-16"><a href="#cb130-16" aria-hidden="true" tabindex="-1"></a>  new_vars_propNeg <span class="ot">&lt;-</span> treatplan_propNeg <span class="sc">%&gt;%</span></span>
<span id="cb130-17"><a href="#cb130-17" aria-hidden="true" tabindex="-1"></a>    magrittr<span class="sc">::</span><span class="fu">use_series</span>(scoreFrame) <span class="sc">%&gt;%</span>        </span>
<span id="cb130-18"><a href="#cb130-18" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(code <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"clean"</span>, <span class="st">"lev"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb130-19"><a href="#cb130-19" aria-hidden="true" tabindex="-1"></a>    magrittr<span class="sc">::</span><span class="fu">use_series</span>(varName)     </span>
<span id="cb130-20"><a href="#cb130-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb130-21"><a href="#cb130-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare the training data</span></span>
<span id="cb130-22"><a href="#cb130-22" aria-hidden="true" tabindex="-1"></a>  features_train_propNeg <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan_propNeg, dML_propNeg, <span class="at">varRestriction =</span> new_vars_propNeg) <span class="sc">%&gt;%</span> <span class="fu">as.matrix</span>()</span>
<span id="cb130-23"><a href="#cb130-23" aria-hidden="true" tabindex="-1"></a>  response_train_propNeg <span class="ot">&lt;-</span> dML_propNeg<span class="sc">$</span>propNeg</span>
<span id="cb130-24"><a href="#cb130-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb130-25"><a href="#cb130-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare the test data</span></span>
<span id="cb130-26"><a href="#cb130-26" aria-hidden="true" tabindex="-1"></a>  features_test_propNeg <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan_propNeg, dML_propNeg, <span class="at">varRestriction =</span> new_vars_propNeg) <span class="sc">%&gt;%</span> <span class="fu">as.matrix</span>()</span>
<span id="cb130-27"><a href="#cb130-27" aria-hidden="true" tabindex="-1"></a>  response_test_propNeg <span class="ot">&lt;-</span> dML_propNeg<span class="sc">$</span>propNeg</span>
<span id="cb130-28"><a href="#cb130-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-29"><a href="#cb130-29" aria-hidden="true" tabindex="-1"></a>  <span class="do">##### Run model</span></span>
<span id="cb130-30"><a href="#cb130-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># parameter list - from the top model of the grid search above</span></span>
<span id="cb130-31"><a href="#cb130-31" aria-hidden="true" tabindex="-1"></a>  params_propNeg <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb130-32"><a href="#cb130-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">eta =</span> params<span class="sc">$</span>eta, <span class="co">#0.01,</span></span>
<span id="cb130-33"><a href="#cb130-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_depth =</span> params<span class="sc">$</span>max_depth, <span class="co">#1,</span></span>
<span id="cb130-34"><a href="#cb130-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_child_weight =</span> params<span class="sc">$</span>min_child_weight, <span class="co">#7,</span></span>
<span id="cb130-35"><a href="#cb130-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">subsample =</span> params<span class="sc">$</span>subsample, <span class="co">#0.8,</span></span>
<span id="cb130-36"><a href="#cb130-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">colsample_bytree =</span> params<span class="sc">$</span>colsample_bytree <span class="co">#0.9</span></span>
<span id="cb130-37"><a href="#cb130-37" aria-hidden="true" tabindex="-1"></a>   <span class="co"># optimal_trees = params$optimal_trees</span></span>
<span id="cb130-38"><a href="#cb130-38" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb130-39"><a href="#cb130-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb130-40"><a href="#cb130-40" aria-hidden="true" tabindex="-1"></a>  <span class="co"># train final model</span></span>
<span id="cb130-41"><a href="#cb130-41" aria-hidden="true" tabindex="-1"></a>  xgb.fit.final_propNeg <span class="ot">&lt;-</span> <span class="fu">xgboost</span>(</span>
<span id="cb130-42"><a href="#cb130-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">params =</span> params_propNeg,</span>
<span id="cb130-43"><a href="#cb130-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> features_train_propNeg,</span>
<span id="cb130-44"><a href="#cb130-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> response_train_propNeg,</span>
<span id="cb130-45"><a href="#cb130-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">nrounds =</span> nRoundsIn,</span>
<span id="cb130-46"><a href="#cb130-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">objective =</span> <span class="st">"reg:squarederror"</span>,</span>
<span id="cb130-47"><a href="#cb130-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">verbose =</span> <span class="dv">1</span>,</span>
<span id="cb130-48"><a href="#cb130-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">early_stopping_rounds =</span> <span class="dv">250</span> <span class="co"># stop if no improvement for 20 consecutive trees</span></span>
<span id="cb130-49"><a href="#cb130-49" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb130-50"><a href="#cb130-50" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb130-51"><a href="#cb130-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-52"><a href="#cb130-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(</span>
<span id="cb130-53"><a href="#cb130-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb130-54"><a href="#cb130-54" aria-hidden="true" tabindex="-1"></a>      <span class="at">dat =</span> dML_propNeg,</span>
<span id="cb130-55"><a href="#cb130-55" aria-hidden="true" tabindex="-1"></a>      <span class="at">xgb =</span> xgb.fit.final_propNeg,</span>
<span id="cb130-56"><a href="#cb130-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">new_vars =</span> new_vars_propNeg,</span>
<span id="cb130-57"><a href="#cb130-57" aria-hidden="true" tabindex="-1"></a>      <span class="at">features_train =</span> features_train_propNeg,</span>
<span id="cb130-58"><a href="#cb130-58" aria-hidden="true" tabindex="-1"></a>      <span class="at">response_train =</span> response_train_propNeg</span>
<span id="cb130-59"><a href="#cb130-59" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb130-60"><a href="#cb130-60" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb130-61"><a href="#cb130-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-62"><a href="#cb130-62" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="brook-trout-6" class="level3" data-number="16.7.3">
<h3 data-number="16.7.3" class="anchored" data-anchor-id="brook-trout-6"><span class="header-section-number">16.7.3</span> Brook trout</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/runXGB_BKT_33a3179a28c53d4a5681787754511631">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hpPropNegBKT &lt;- runHyperparamSearch(</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   d = propNegSRsN |&gt;  filter(speciesGG == "Brook trout", year &gt; 2001),</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   vars = c("riverGG", "year", "mT", "mF_log10", "nInd", "propNeg"),</span></span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   early_stopping_roundsIn = 250</span></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a><span class="co"># save(hpPropNegBKT, file = "./data/out/hyperParam/hpPropNegBKT_250.RData")</span></span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"./data/out/hyperParam/hpPropNegBKT_250.RData"</span>)</span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a>hpPropNegBKT[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    eta max_depth min_child_weight subsample colsample_bytree optimal_trees
1  0.01         5                5      0.80              0.9           596
2  0.01         3                3      1.00              0.8          1375
3  0.05         3                1      0.80              0.9           208
4  0.01         3                5      0.80              0.8          1132
5  0.01         7                7      1.00              1.0           392
6  0.01         7                5      0.65              0.8           581
7  0.10         5                3      0.80              0.8            38
8  0.01         5                7      0.80              0.9           450
9  0.30         3                1      0.80              0.8            57
10 0.05         5                3      1.00              0.9           123
    min_RMSE
1  0.1289382
2  0.1294819
3  0.1301824
4  0.1302462
5  0.1302568
6  0.1306034
7  0.1308955
8  0.1308964
9  0.1310481
10 0.1313799</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># propNegBKT &lt;- runXGB(</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   d = propNegSRsN |&gt;  filter(speciesGG == "Brook trout", year &gt; 2001),</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   vars = c("riverGG", "year", "mT", "mF_log10", "nInd", "propNeg"),</span></span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   params = hpPropNegBKT[1,]</span></span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a><span class="co"># save(propNegBKT, file = "./data/out/hyperParam/XGBpropNegBKT_250.RData")</span></span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"./data/out/hyperParam/XGBpropNegBKT_250.RData"</span>)</span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a>propNegBKT<span class="sc">$</span>xgb<span class="sc">$</span>best_iteration</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 67631</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>propNegBKT<span class="sc">$</span>xgb<span class="sc">$</span>best_score</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0005971119</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plot</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>viBKT <span class="ot">&lt;-</span> <span class="fu">xgb.importance</span>(<span class="at">model =</span> propNegBKT<span class="sc">$</span>xgb)</span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(viBKT, <span class="at">top_n =</span> <span class="dv">10</span>, <span class="at">measure =</span> <span class="st">"Gain"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BKT-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="do">####################################################################</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="co">#s_propNegBKT &lt;- hstats(propNegBKT$xgb, v = propNegBKT$new_vars, X = propNegBKT$features_train)</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="co"># s_propNegBKT</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegBKT)</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a><span class="co"># # top 5 2-way interactions</span></span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a><span class="co"># h2_pairwise(s_propNegBKT, normalize = FALSE, squared = FALSE, top_m = 8)</span></span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a><span class="co"># # 3-way interactions</span></span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegBKT, which = 1:3, normalize = F, squared = F, facet_scales = "free_y", ncol = 1)</span></span>
<span id="cb138-11"><a href="#cb138-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-12"><a href="#cb138-12" aria-hidden="true" tabindex="-1"></a><span class="do">## Partial dep plots ################################################################</span></span>
<span id="cb138-13"><a href="#cb138-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-14"><a href="#cb138-14" aria-hidden="true" tabindex="-1"></a>pFlow_propNeg <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb138-15"><a href="#cb138-15" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb138-16"><a href="#cb138-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb138-17"><a href="#cb138-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb138-18"><a href="#cb138-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_y_discrete() +</span></span>
<span id="cb138-19"><a href="#cb138-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle("PDP")</span></span>
<span id="cb138-20"><a href="#cb138-20" aria-hidden="true" tabindex="-1"></a>pTemp_propNeg <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb138-21"><a href="#cb138-21" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb138-22"><a href="#cb138-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb138-23"><a href="#cb138-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb138-24"><a href="#cb138-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-25"><a href="#cb138-25" aria-hidden="true" tabindex="-1"></a>pNInd_propNeg <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb138-26"><a href="#cb138-26" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb138-27"><a href="#cb138-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb138-28"><a href="#cb138-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb138-29"><a href="#cb138-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-30"><a href="#cb138-30" aria-hidden="true" tabindex="-1"></a>pYear_propNeg <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb138-31"><a href="#cb138-31" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb138-32"><a href="#cb138-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb138-33"><a href="#cb138-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb138-34"><a href="#cb138-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-35"><a href="#cb138-35" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pFlow_propNeg, pTemp_propNeg, pNInd_propNeg, pYear_propNeg, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BKT-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="co"># all on one graph</span></span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>pFlow_propNegDataBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mF_log10<span class="sc">-</span><span class="fu">mean</span>(mF_log10))<span class="sc">/</span><span class="fu">sd</span>(mF_log10),</span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Flow"</span>,</span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brook Trout"</span>)</span>
<span id="cb139-8"><a href="#cb139-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-9"><a href="#cb139-9" aria-hidden="true" tabindex="-1"></a>pMT_propNegDataBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb139-10"><a href="#cb139-10" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb139-11"><a href="#cb139-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mT<span class="sc">-</span><span class="fu">mean</span>(mT))<span class="sc">/</span><span class="fu">sd</span>(mT),</span>
<span id="cb139-12"><a href="#cb139-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Temperature"</span>,</span>
<span id="cb139-13"><a href="#cb139-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brook Trout"</span>)</span>
<span id="cb139-14"><a href="#cb139-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-15"><a href="#cb139-15" aria-hidden="true" tabindex="-1"></a>pNInd_propNegDataBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb139-16"><a href="#cb139-16" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb139-17"><a href="#cb139-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (nInd<span class="sc">-</span><span class="fu">mean</span>(nInd))<span class="sc">/</span><span class="fu">sd</span>(nInd),</span>
<span id="cb139-18"><a href="#cb139-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Num inds"</span>,</span>
<span id="cb139-19"><a href="#cb139-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brook Trout"</span>)</span>
<span id="cb139-20"><a href="#cb139-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-21"><a href="#cb139-21" aria-hidden="true" tabindex="-1"></a>pYear_propNegDataBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb139-22"><a href="#cb139-22" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb139-23"><a href="#cb139-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (year<span class="sc">-</span><span class="fu">mean</span>(year))<span class="sc">/</span><span class="fu">sd</span>(year),</span>
<span id="cb139-24"><a href="#cb139-24" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Year"</span>,</span>
<span id="cb139-25"><a href="#cb139-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brook Trout"</span>)</span>
<span id="cb139-26"><a href="#cb139-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-27"><a href="#cb139-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-28"><a href="#cb139-28" aria-hidden="true" tabindex="-1"></a>all_propNegDataBKT <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(pFlow_propNegDataBKT, pMT_propNegDataBKT, pNInd_propNegDataBKT, pYear_propNegDataBKT)</span>
<span id="cb139-29"><a href="#cb139-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-30"><a href="#cb139-30" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb139-31"><a href="#cb139-31" aria-hidden="true" tabindex="-1"></a>all_propNegDataBKT_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_propNegDataBKT, <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> var)) <span class="sc">+</span></span>
<span id="cb139-32"><a href="#cb139-32" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb139-33"><a href="#cb139-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb139-34"><a href="#cb139-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb139-35"><a href="#cb139-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Scaled value"</span>)</span>
<span id="cb139-36"><a href="#cb139-36" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BKT-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="co"># All river on one graph</span></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>partialWBBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_West_Brook"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"West Brook"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_West_Brook"</span>)</span>
<span id="cb140-7"><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-8"><a href="#cb140-8" aria-hidden="true" tabindex="-1"></a>partialOLBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb140-9"><a href="#cb140-9" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_Open_Large"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train)<span class="sc">|&gt;</span> </span>
<span id="cb140-10"><a href="#cb140-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"Open Large"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb140-11"><a href="#cb140-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_Open_Large"</span>)</span>
<span id="cb140-12"><a href="#cb140-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-13"><a href="#cb140-13" aria-hidden="true" tabindex="-1"></a>partialOSBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb140-14"><a href="#cb140-14" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_Open_Small"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb140-15"><a href="#cb140-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"Open Small"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb140-16"><a href="#cb140-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_Open_Small"</span>)</span>
<span id="cb140-17"><a href="#cb140-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-18"><a href="#cb140-18" aria-hidden="true" tabindex="-1"></a>partialISBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb140-19"><a href="#cb140-19" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_Isolated_Small"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train)<span class="sc">|&gt;</span> </span>
<span id="cb140-20"><a href="#cb140-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"Isolated Small"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb140-21"><a href="#cb140-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_Isolated_Small"</span>)</span>
<span id="cb140-22"><a href="#cb140-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-23"><a href="#cb140-23" aria-hidden="true" tabindex="-1"></a>partialRiversBKT <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(partialWBBKT, partialOLBKT, partialOSBKT, partialISBKT) <span class="sc">|&gt;</span> </span>
<span id="cb140-24"><a href="#cb140-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb140-25"><a href="#cb140-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RiverEffect =</span> <span class="fu">ifelse</span>(x <span class="sc">==</span><span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>),</span>
<span id="cb140-26"><a href="#cb140-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">riverOrdered =</span> <span class="fu">factor</span>(riverGG, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>, <span class="st">"Open Small"</span>, <span class="st">"Isolated Small"</span>), </span>
<span id="cb140-27"><a href="#cb140-27" aria-hidden="true" tabindex="-1"></a>                             <span class="at">ordered =</span> T))</span>
<span id="cb140-28"><a href="#cb140-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-29"><a href="#cb140-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(partialRiversBKT, <span class="fu">aes</span>(riverOrdered, yhat, <span class="at">fill =</span> <span class="fu">factor</span>(RiverEffect))) <span class="sc">+</span></span>
<span id="cb140-30"><a href="#cb140-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb140-31"><a href="#cb140-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BKT-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Interaction plots ##################################################################</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBKT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mT"</span>, <span class="at">X =</span> propNegBKT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mF_log10"</span>)) <span class="sc">+</span></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mF_log10), <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BKT-5.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBKT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegBKT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mT"</span>)) <span class="sc">+</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mT), <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BKT-6.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBKT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegBKT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="fu">c</span>(<span class="st">"nInd"</span>))) <span class="sc">+</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> nInd), <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BKT-7.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="brown-trout-6" class="level3" data-number="16.7.4">
<h3 data-number="16.7.4" class="anchored" data-anchor-id="brown-trout-6"><span class="header-section-number">16.7.4</span> Brown trout</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/runXGB_BNT_19208609eb881f3120596fe0000bb907">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hpPropNegBNT &lt;- runHyperparamSearch(</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   d = propNegSRsN |&gt;  filter(speciesGG == "Brown trout", year &gt; 2001),</span></span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   vars = c("riverGG", "year", "mT", "mF_log10", "nInd", "propNeg"),</span></span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   early_stopping_roundsIn = 250</span></span>
<span id="cb145-5"><a href="#cb145-5" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb145-6"><a href="#cb145-6" aria-hidden="true" tabindex="-1"></a><span class="co"># save(hpPropNegBNT, file = "./data/out/hyperParam/hpPropNegBNT_250.RData")</span></span>
<span id="cb145-7"><a href="#cb145-7" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"./data/out/hyperParam/hpPropNegBNT_250.RData"</span>)</span>
<span id="cb145-8"><a href="#cb145-8" aria-hidden="true" tabindex="-1"></a>hpPropNegBNT[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    eta max_depth min_child_weight subsample colsample_bytree optimal_trees
1  0.30         1                3      0.65              0.9            11
2  0.30         1                3      1.00              0.9            17
3  0.05         1                3      0.80              0.9           178
4  0.10         1                3      0.80              0.9            48
5  0.01         1                3      1.00              0.9           455
6  0.10         3                1      0.65              0.9            29
7  0.30         1                3      0.65              1.0            21
8  0.01         1                3      0.65              0.8           523
9  0.10         1                3      0.80              1.0            44
10 0.30         1                5      0.80              0.9            41
    min_RMSE
1  0.1271580
2  0.1275897
3  0.1293155
4  0.1307409
5  0.1308256
6  0.1312113
7  0.1312372
8  0.1314425
9  0.1314432
10 0.1316114</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># propNegBNT &lt;- runXGB(</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   d = propNegSRsN |&gt;  filter(speciesGG == "Brown trout", year &gt; 2001),</span></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   vars = c("riverGG", "year", "mT", "mF_log10", "nInd", "propNeg"),</span></span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   nRoundsIn = 150000,</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   params = hpPropNegBNT[1,]</span></span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a><span class="co"># save(propNegBNT, file = "./data/out/hyperParam/XGBpropNegBNT_250.RData")</span></span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"./data/out/hyperParam/XGBpropNegBNT_250.RData"</span>)</span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a>propNegBNT<span class="sc">$</span>xgb<span class="sc">$</span>best_iteration</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13581</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>propNegBNT<span class="sc">$</span>xgb<span class="sc">$</span>best_score</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0004765856</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plot</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>viBNT <span class="ot">&lt;-</span> <span class="fu">xgb.importance</span>(<span class="at">model =</span> propNegBNT<span class="sc">$</span>xgb)</span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(viBNT, <span class="at">top_n =</span> <span class="dv">10</span>, <span class="at">measure =</span> <span class="st">"Gain"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BNT-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="do">####################################################################</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="co">#s_propNegBNT &lt;- hstats(propNegBNT$xgb, v = propNegBNT$new_vars, X = propNegBNT$features_train)</span></span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a><span class="co"># s_propNegBNT</span></span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegBNT)</span></span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a><span class="co"># # top 5 2-way interactions</span></span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a><span class="co"># h2_pairwise(s_propNegBNT, normalize = FALSE, squared = FALSE, top_m = 8)</span></span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb152-9"><a href="#cb152-9" aria-hidden="true" tabindex="-1"></a><span class="co"># # 3-way interactions</span></span>
<span id="cb152-10"><a href="#cb152-10" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegBNT, which = 1:3, normalize = F, squared = F, facet_scales = "free_y", ncol = 1)</span></span>
<span id="cb152-11"><a href="#cb152-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-12"><a href="#cb152-12" aria-hidden="true" tabindex="-1"></a><span class="do">## Partial dep plots ################################################################</span></span>
<span id="cb152-13"><a href="#cb152-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-14"><a href="#cb152-14" aria-hidden="true" tabindex="-1"></a>pFlow_propNeg <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb152-15"><a href="#cb152-15" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb152-16"><a href="#cb152-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb152-17"><a href="#cb152-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb152-18"><a href="#cb152-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_y_discrete() +</span></span>
<span id="cb152-19"><a href="#cb152-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle("PDP")</span></span>
<span id="cb152-20"><a href="#cb152-20" aria-hidden="true" tabindex="-1"></a>pTemp_propNeg <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb152-21"><a href="#cb152-21" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb152-22"><a href="#cb152-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb152-23"><a href="#cb152-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb152-24"><a href="#cb152-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-25"><a href="#cb152-25" aria-hidden="true" tabindex="-1"></a>pNInd_propNeg <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb152-26"><a href="#cb152-26" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb152-27"><a href="#cb152-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb152-28"><a href="#cb152-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb152-29"><a href="#cb152-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-30"><a href="#cb152-30" aria-hidden="true" tabindex="-1"></a>pYear_propNeg <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb152-31"><a href="#cb152-31" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb152-32"><a href="#cb152-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb152-33"><a href="#cb152-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb152-34"><a href="#cb152-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-35"><a href="#cb152-35" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pFlow_propNeg, pTemp_propNeg, pNInd_propNeg, pYear_propNeg, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BNT-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="co"># all partials on one graph</span></span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a>pFlow_propNegDataBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mF_log10<span class="sc">-</span><span class="fu">mean</span>(mF_log10))<span class="sc">/</span><span class="fu">sd</span>(mF_log10),</span>
<span id="cb153-6"><a href="#cb153-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Flow"</span>,</span>
<span id="cb153-7"><a href="#cb153-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brown Trout"</span>)</span>
<span id="cb153-8"><a href="#cb153-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-9"><a href="#cb153-9" aria-hidden="true" tabindex="-1"></a>pMT_propNegDataBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb153-10"><a href="#cb153-10" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb153-11"><a href="#cb153-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mT<span class="sc">-</span><span class="fu">mean</span>(mT))<span class="sc">/</span><span class="fu">sd</span>(mT),</span>
<span id="cb153-12"><a href="#cb153-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Temperature"</span>,</span>
<span id="cb153-13"><a href="#cb153-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brown Trout"</span>)</span>
<span id="cb153-14"><a href="#cb153-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-15"><a href="#cb153-15" aria-hidden="true" tabindex="-1"></a>pNInd_propNegDataBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb153-16"><a href="#cb153-16" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb153-17"><a href="#cb153-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (nInd<span class="sc">-</span><span class="fu">mean</span>(nInd))<span class="sc">/</span><span class="fu">sd</span>(nInd),</span>
<span id="cb153-18"><a href="#cb153-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Num inds"</span>,</span>
<span id="cb153-19"><a href="#cb153-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brown Trout"</span>)</span>
<span id="cb153-20"><a href="#cb153-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-21"><a href="#cb153-21" aria-hidden="true" tabindex="-1"></a>pYear_propNegDataBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb153-22"><a href="#cb153-22" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb153-23"><a href="#cb153-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (year<span class="sc">-</span><span class="fu">mean</span>(year))<span class="sc">/</span><span class="fu">sd</span>(year),</span>
<span id="cb153-24"><a href="#cb153-24" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Year"</span>,</span>
<span id="cb153-25"><a href="#cb153-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brown Trout"</span>)</span>
<span id="cb153-26"><a href="#cb153-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-27"><a href="#cb153-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-28"><a href="#cb153-28" aria-hidden="true" tabindex="-1"></a>all_propNegDataBNT <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(pFlow_propNegDataBNT, pMT_propNegDataBNT, pNInd_propNegDataBNT, pYear_propNegDataBNT)</span>
<span id="cb153-29"><a href="#cb153-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-30"><a href="#cb153-30" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb153-31"><a href="#cb153-31" aria-hidden="true" tabindex="-1"></a>all_propNegDataBNT_gg <span class="ot">&lt;-</span> </span>
<span id="cb153-32"><a href="#cb153-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(all_propNegDataBNT, <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> var)) <span class="sc">+</span></span>
<span id="cb153-33"><a href="#cb153-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb153-34"><a href="#cb153-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb153-35"><a href="#cb153-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb153-36"><a href="#cb153-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Scaled value"</span>)</span>
<span id="cb153-37"><a href="#cb153-37" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BNT-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="co"># All river on one graph</span></span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>partialWBBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_West_Brook"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"West Brook"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_West_Brook"</span>)</span>
<span id="cb154-7"><a href="#cb154-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-8"><a href="#cb154-8" aria-hidden="true" tabindex="-1"></a>partialOLBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb154-9"><a href="#cb154-9" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_Open_Large"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train)<span class="sc">|&gt;</span> </span>
<span id="cb154-10"><a href="#cb154-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"Open Large"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb154-11"><a href="#cb154-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_Open_Large"</span>)</span>
<span id="cb154-12"><a href="#cb154-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-13"><a href="#cb154-13" aria-hidden="true" tabindex="-1"></a>partialOSBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb154-14"><a href="#cb154-14" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_Open_Small"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb154-15"><a href="#cb154-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"Open Small"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb154-16"><a href="#cb154-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_Open_Small"</span>)</span>
<span id="cb154-17"><a href="#cb154-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-18"><a href="#cb154-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-19"><a href="#cb154-19" aria-hidden="true" tabindex="-1"></a>partialRiversBNT <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(partialWBBNT, partialOLBNT, partialOSBNT) <span class="sc">|&gt;</span> </span>
<span id="cb154-20"><a href="#cb154-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb154-21"><a href="#cb154-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RiverEffect =</span> <span class="fu">ifelse</span>(x <span class="sc">==</span><span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>),</span>
<span id="cb154-22"><a href="#cb154-22" aria-hidden="true" tabindex="-1"></a>         <span class="at">riverOrdered =</span> <span class="fu">factor</span>(riverGG, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>, <span class="st">"Open Small"</span>), </span>
<span id="cb154-23"><a href="#cb154-23" aria-hidden="true" tabindex="-1"></a>                             <span class="at">ordered =</span> T))</span>
<span id="cb154-24"><a href="#cb154-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-25"><a href="#cb154-25" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(partialRiversBNT, <span class="fu">aes</span>(riverOrdered, yhat, <span class="at">fill =</span> <span class="fu">factor</span>(RiverEffect))) <span class="sc">+</span></span>
<span id="cb154-26"><a href="#cb154-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb154-27"><a href="#cb154-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BNT-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Interaction plots ##################################################################</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBNT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mT"</span>, <span class="at">X =</span> propNegBNT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mF_log10"</span>)) <span class="sc">+</span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mF_log10), <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BNT-5.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBNT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegBNT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mT"</span>)) <span class="sc">+</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mT), <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BNT-6.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBNT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegBNT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="fu">c</span>(<span class="st">"nInd"</span>))) <span class="sc">+</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> nInd), <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_BNT-7.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="atlantic-salmon-6" class="level3" data-number="16.7.5">
<h3 data-number="16.7.5" class="anchored" data-anchor-id="atlantic-salmon-6"><span class="header-section-number">16.7.5</span> Atlantic salmon</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/runXGB_ATS_01adef182375fe0c11fdba865dabffa9">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hpPropNegATS &lt;- runHyperparamSearch(</span></span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   d = propNegSRsN |&gt;  filter(speciesGG == "Atlantic salmon", riverGG == "West Brook", year &lt; 2007),</span></span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   vars = c("year", "mT", "mF_log10", "nInd", "propNeg"),</span></span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   early_stopping_roundsIn = 250</span></span>
<span id="cb159-5"><a href="#cb159-5" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb159-6"><a href="#cb159-6" aria-hidden="true" tabindex="-1"></a><span class="co"># save(hpPropNegATS, file = "./data/out/hyperParam/hpPropNegATS_250.RData")</span></span>
<span id="cb159-7"><a href="#cb159-7" aria-hidden="true" tabindex="-1"></a><span class="co">#load("./data/out/hyperParam/hpPropNegATS_250.RData")</span></span>
<span id="cb159-8"><a href="#cb159-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-9"><a href="#cb159-9" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"./data/out/hyperParam/hpPropNegATS.RData"</span>)</span>
<span id="cb159-10"><a href="#cb159-10" aria-hidden="true" tabindex="-1"></a>hpPropNegATS[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    eta max_depth min_child_weight subsample colsample_bytree optimal_trees
1  0.05         1                1      0.80              1.0           115
2  0.01         7                7      1.00              1.0           506
3  0.05         5                5      0.65              0.8           144
4  0.05         7                1      0.80              0.8           289
5  0.01         5                1      0.65              0.8           483
6  0.01         7                1      0.65              0.8           324
7  0.30         1                3      0.80              1.0            14
8  0.05         7                1      0.65              0.9            46
9  0.01         1                1      0.65              0.8           407
10 0.30         1                5      0.80              0.8            22
    min_RMSE
1  0.1807860
2  0.1832993
3  0.1867800
4  0.1889252
5  0.1890422
6  0.1890700
7  0.1906360
8  0.1914079
9  0.1914957
10 0.1916818</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Atlantic salmon"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, n, <span class="at">color =</span> seasonGG)) <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>riverGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_ATS-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>propNegATS <span class="ot">&lt;-</span> <span class="fu">runXGB</span>(</span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Atlantic salmon"</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>, year <span class="sc">&lt;</span> <span class="dv">2007</span>),</span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"mT"</span>, <span class="st">"mF_log10"</span>, <span class="st">"nInd"</span>, <span class="st">"propNeg"</span>),</span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">params =</span> hpPropNegATS[<span class="dv">1</span>,]</span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] train-rmse:0.375570 
Will train until train_rmse hasn't improved in 250 rounds.

[2] train-rmse:0.361932 
[3] train-rmse:0.350218 
[4] train-rmse:0.340152 
[5] train-rmse:0.329529 
[6] train-rmse:0.319500 
[7] train-rmse:0.310963 
[8] train-rmse:0.302312 
[9] train-rmse:0.293768 
[10]    train-rmse:0.286623 
[11]    train-rmse:0.280123 
[12]    train-rmse:0.273573 
[13]    train-rmse:0.266664 
[14]    train-rmse:0.261517 
[15]    train-rmse:0.255872 
[16]    train-rmse:0.250037 
[17]    train-rmse:0.244625 
[18]    train-rmse:0.239870 
[19]    train-rmse:0.234707 
[20]    train-rmse:0.230414 
[21]    train-rmse:0.226597 
[22]    train-rmse:0.222078 
[23]    train-rmse:0.218472 
[24]    train-rmse:0.214918 
[25]    train-rmse:0.211529 
[26]    train-rmse:0.207963 
[27]    train-rmse:0.205186 
[28]    train-rmse:0.201973 
[29]    train-rmse:0.199553 
[30]    train-rmse:0.196810 
[31]    train-rmse:0.194202 
[32]    train-rmse:0.191536 
[33]    train-rmse:0.189581 
[34]    train-rmse:0.187808 
[35]    train-rmse:0.185704 
[36]    train-rmse:0.183933 
[37]    train-rmse:0.182013 
[38]    train-rmse:0.180306 
[39]    train-rmse:0.177501 
[40]    train-rmse:0.175790 
[41]    train-rmse:0.174396 
[42]    train-rmse:0.172825 
[43]    train-rmse:0.171360 
[44]    train-rmse:0.169973 
[45]    train-rmse:0.168574 
[46]    train-rmse:0.167284 
[47]    train-rmse:0.165807 
[48]    train-rmse:0.165013 
[49]    train-rmse:0.163492 
[50]    train-rmse:0.162116 
[51]    train-rmse:0.160880 
[52]    train-rmse:0.159852 
[53]    train-rmse:0.158669 
[54]    train-rmse:0.157401 
[55]    train-rmse:0.156190 
[56]    train-rmse:0.155239 
[57]    train-rmse:0.154088 
[58]    train-rmse:0.153003 
[59]    train-rmse:0.152303 
[60]    train-rmse:0.151140 
[61]    train-rmse:0.150327 
[62]    train-rmse:0.149470 
[63]    train-rmse:0.148561 
[64]    train-rmse:0.147757 
[65]    train-rmse:0.146651 
[66]    train-rmse:0.145863 
[67]    train-rmse:0.145142 
[68]    train-rmse:0.144428 
[69]    train-rmse:0.143750 
[70]    train-rmse:0.142838 
[71]    train-rmse:0.142226 
[72]    train-rmse:0.141535 
[73]    train-rmse:0.140744 
[74]    train-rmse:0.140362 
[75]    train-rmse:0.139596 
[76]    train-rmse:0.138889 
[77]    train-rmse:0.138238 
[78]    train-rmse:0.137520 
[79]    train-rmse:0.136917 
[80]    train-rmse:0.136365 
[81]    train-rmse:0.136045 
[82]    train-rmse:0.135510 
[83]    train-rmse:0.135082 
[84]    train-rmse:0.134458 
[85]    train-rmse:0.133897 
[86]    train-rmse:0.133307 
[87]    train-rmse:0.132781 
[88]    train-rmse:0.132229 
[89]    train-rmse:0.131944 
[90]    train-rmse:0.131404 
[91]    train-rmse:0.130862 
[92]    train-rmse:0.130388 
[93]    train-rmse:0.129923 
[94]    train-rmse:0.129599 
[95]    train-rmse:0.129182 
[96]    train-rmse:0.128851 
[97]    train-rmse:0.128482 
[98]    train-rmse:0.128074 
[99]    train-rmse:0.127675 
[100]   train-rmse:0.127382 
[101]   train-rmse:0.127012 
[102]   train-rmse:0.126678 
[103]   train-rmse:0.126283 
[104]   train-rmse:0.125962 
[105]   train-rmse:0.125687 
[106]   train-rmse:0.125303 
[107]   train-rmse:0.125021 
[108]   train-rmse:0.124662 
[109]   train-rmse:0.124259 
[110]   train-rmse:0.123906 
[111]   train-rmse:0.123466 
[112]   train-rmse:0.123133 
[113]   train-rmse:0.122872 
[114]   train-rmse:0.122173 
[115]   train-rmse:0.121848 
[116]   train-rmse:0.121468 
[117]   train-rmse:0.121232 
[118]   train-rmse:0.120894 
[119]   train-rmse:0.120529 
[120]   train-rmse:0.120244 
[121]   train-rmse:0.120047 
[122]   train-rmse:0.119771 
[123]   train-rmse:0.119535 
[124]   train-rmse:0.119223 
[125]   train-rmse:0.119028 
[126]   train-rmse:0.118715 
[127]   train-rmse:0.118595 
[128]   train-rmse:0.118240 
[129]   train-rmse:0.117948 
[130]   train-rmse:0.117622 
[131]   train-rmse:0.117320 
[132]   train-rmse:0.117024 
[133]   train-rmse:0.116735 
[134]   train-rmse:0.116483 
[135]   train-rmse:0.116270 
[136]   train-rmse:0.116048 
[137]   train-rmse:0.115732 
[138]   train-rmse:0.115365 
[139]   train-rmse:0.114942 
[140]   train-rmse:0.114674 
[141]   train-rmse:0.114545 
[142]   train-rmse:0.114297 
[143]   train-rmse:0.114054 
[144]   train-rmse:0.113836 
[145]   train-rmse:0.113602 
[146]   train-rmse:0.113518 
[147]   train-rmse:0.113178 
[148]   train-rmse:0.112840 
[149]   train-rmse:0.112569 
[150]   train-rmse:0.112271 
[151]   train-rmse:0.111957 
[152]   train-rmse:0.111705 
[153]   train-rmse:0.111440 
[154]   train-rmse:0.111181 
[155]   train-rmse:0.110904 
[156]   train-rmse:0.110660 
[157]   train-rmse:0.110400 
[158]   train-rmse:0.110334 
[159]   train-rmse:0.110010 
[160]   train-rmse:0.109991 
[161]   train-rmse:0.109778 
[162]   train-rmse:0.109599 
[163]   train-rmse:0.109450 
[164]   train-rmse:0.109266 
[165]   train-rmse:0.108976 
[166]   train-rmse:0.108776 
[167]   train-rmse:0.108557 
[168]   train-rmse:0.108274 
[169]   train-rmse:0.108066 
[170]   train-rmse:0.107824 
[171]   train-rmse:0.107579 
[172]   train-rmse:0.107328 
[173]   train-rmse:0.107128 
[174]   train-rmse:0.106863 
[175]   train-rmse:0.106641 
[176]   train-rmse:0.106363 
[177]   train-rmse:0.106114 
[178]   train-rmse:0.105921 
[179]   train-rmse:0.105850 
[180]   train-rmse:0.105638 
[181]   train-rmse:0.105383 
[182]   train-rmse:0.105152 
[183]   train-rmse:0.104833 
[184]   train-rmse:0.104626 
[185]   train-rmse:0.104419 
[186]   train-rmse:0.104087 
[187]   train-rmse:0.103795 
[188]   train-rmse:0.103630 
[189]   train-rmse:0.103309 
[190]   train-rmse:0.103058 
[191]   train-rmse:0.102827 
[192]   train-rmse:0.102483 
[193]   train-rmse:0.102425 
[194]   train-rmse:0.102190 
[195]   train-rmse:0.101853 
[196]   train-rmse:0.101615 
[197]   train-rmse:0.101427 
[198]   train-rmse:0.101198 
[199]   train-rmse:0.100963 
[200]   train-rmse:0.100695 
[201]   train-rmse:0.100459 
[202]   train-rmse:0.100272 
[203]   train-rmse:0.100010 
[204]   train-rmse:0.100104 
[205]   train-rmse:0.099909 
[206]   train-rmse:0.099722 
[207]   train-rmse:0.099470 
[208]   train-rmse:0.099225 
[209]   train-rmse:0.098973 
[210]   train-rmse:0.098725 
[211]   train-rmse:0.098460 
[212]   train-rmse:0.098212 
[213]   train-rmse:0.097984 
[214]   train-rmse:0.097736 
[215]   train-rmse:0.097623 
[216]   train-rmse:0.097365 
[217]   train-rmse:0.097127 
[218]   train-rmse:0.097206 
[219]   train-rmse:0.096993 
[220]   train-rmse:0.096728 
[221]   train-rmse:0.096533 
[222]   train-rmse:0.096376 
[223]   train-rmse:0.096219 
[224]   train-rmse:0.096057 
[225]   train-rmse:0.095878 
[226]   train-rmse:0.095620 
[227]   train-rmse:0.095442 
[228]   train-rmse:0.095252 
[229]   train-rmse:0.095018 
[230]   train-rmse:0.094780 
[231]   train-rmse:0.094489 
[232]   train-rmse:0.094349 
[233]   train-rmse:0.094178 
[234]   train-rmse:0.094017 
[235]   train-rmse:0.093766 
[236]   train-rmse:0.093541 
[237]   train-rmse:0.093294 
[238]   train-rmse:0.093046 
[239]   train-rmse:0.092836 
[240]   train-rmse:0.092618 
[241]   train-rmse:0.092436 
[242]   train-rmse:0.092217 
[243]   train-rmse:0.092038 
[244]   train-rmse:0.091912 
[245]   train-rmse:0.091774 
[246]   train-rmse:0.091606 
[247]   train-rmse:0.091448 
[248]   train-rmse:0.091249 
[249]   train-rmse:0.091064 
[250]   train-rmse:0.090842 
[251]   train-rmse:0.090648 
[252]   train-rmse:0.090564 
[253]   train-rmse:0.090681 
[254]   train-rmse:0.090579 
[255]   train-rmse:0.090438 
[256]   train-rmse:0.090184 
[257]   train-rmse:0.090160 
[258]   train-rmse:0.089996 
[259]   train-rmse:0.089793 
[260]   train-rmse:0.089624 
[261]   train-rmse:0.089602 
[262]   train-rmse:0.089480 
[263]   train-rmse:0.089365 
[264]   train-rmse:0.089162 
[265]   train-rmse:0.088959 
[266]   train-rmse:0.088773 
[267]   train-rmse:0.088651 
[268]   train-rmse:0.088451 
[269]   train-rmse:0.088309 
[270]   train-rmse:0.088145 
[271]   train-rmse:0.087967 
[272]   train-rmse:0.087798 
[273]   train-rmse:0.087664 
[274]   train-rmse:0.087511 
[275]   train-rmse:0.087322 
[276]   train-rmse:0.087152 
[277]   train-rmse:0.087008 
[278]   train-rmse:0.086786 
[279]   train-rmse:0.086635 
[280]   train-rmse:0.086481 
[281]   train-rmse:0.086333 
[282]   train-rmse:0.086225 
[283]   train-rmse:0.086084 
[284]   train-rmse:0.085940 
[285]   train-rmse:0.085778 
[286]   train-rmse:0.085580 
[287]   train-rmse:0.085406 
[288]   train-rmse:0.085308 
[289]   train-rmse:0.085151 
[290]   train-rmse:0.084975 
[291]   train-rmse:0.084885 
[292]   train-rmse:0.084732 
[293]   train-rmse:0.084572 
[294]   train-rmse:0.084477 
[295]   train-rmse:0.084353 
[296]   train-rmse:0.084043 
[297]   train-rmse:0.083871 
[298]   train-rmse:0.083761 
[299]   train-rmse:0.083684 
[300]   train-rmse:0.083504 
[301]   train-rmse:0.083333 
[302]   train-rmse:0.083154 
[303]   train-rmse:0.083154 
[304]   train-rmse:0.082960 
[305]   train-rmse:0.082851 
[306]   train-rmse:0.082768 
[307]   train-rmse:0.082580 
[308]   train-rmse:0.082413 
[309]   train-rmse:0.082281 
[310]   train-rmse:0.082099 
[311]   train-rmse:0.081890 
[312]   train-rmse:0.081791 
[313]   train-rmse:0.081660 
[314]   train-rmse:0.081492 
[315]   train-rmse:0.081362 
[316]   train-rmse:0.081435 
[317]   train-rmse:0.081257 
[318]   train-rmse:0.081091 
[319]   train-rmse:0.080935 
[320]   train-rmse:0.080857 
[321]   train-rmse:0.080773 
[322]   train-rmse:0.080619 
[323]   train-rmse:0.080497 
[324]   train-rmse:0.080343 
[325]   train-rmse:0.080192 
[326]   train-rmse:0.080047 
[327]   train-rmse:0.079910 
[328]   train-rmse:0.079769 
[329]   train-rmse:0.079658 
[330]   train-rmse:0.079479 
[331]   train-rmse:0.079423 
[332]   train-rmse:0.079316 
[333]   train-rmse:0.079221 
[334]   train-rmse:0.079146 
[335]   train-rmse:0.079001 
[336]   train-rmse:0.078896 
[337]   train-rmse:0.078732 
[338]   train-rmse:0.078596 
[339]   train-rmse:0.078473 
[340]   train-rmse:0.078355 
[341]   train-rmse:0.078302 
[342]   train-rmse:0.078093 
[343]   train-rmse:0.077964 
[344]   train-rmse:0.077947 
[345]   train-rmse:0.077857 
[346]   train-rmse:0.077709 
[347]   train-rmse:0.077565 
[348]   train-rmse:0.077428 
[349]   train-rmse:0.077342 
[350]   train-rmse:0.077229 
[351]   train-rmse:0.077131 
[352]   train-rmse:0.076891 
[353]   train-rmse:0.076736 
[354]   train-rmse:0.076606 
[355]   train-rmse:0.076466 
[356]   train-rmse:0.076340 
[357]   train-rmse:0.076190 
[358]   train-rmse:0.076127 
[359]   train-rmse:0.075996 
[360]   train-rmse:0.075933 
[361]   train-rmse:0.075835 
[362]   train-rmse:0.075794 
[363]   train-rmse:0.075679 
[364]   train-rmse:0.075558 
[365]   train-rmse:0.075571 
[366]   train-rmse:0.075557 
[367]   train-rmse:0.075423 
[368]   train-rmse:0.075329 
[369]   train-rmse:0.075240 
[370]   train-rmse:0.075155 
[371]   train-rmse:0.075002 
[372]   train-rmse:0.074925 
[373]   train-rmse:0.074797 
[374]   train-rmse:0.074611 
[375]   train-rmse:0.074490 
[376]   train-rmse:0.074400 
[377]   train-rmse:0.074299 
[378]   train-rmse:0.074192 
[379]   train-rmse:0.074099 
[380]   train-rmse:0.073983 
[381]   train-rmse:0.073769 
[382]   train-rmse:0.073702 
[383]   train-rmse:0.073593 
[384]   train-rmse:0.073526 
[385]   train-rmse:0.073465 
[386]   train-rmse:0.073265 
[387]   train-rmse:0.073188 
[388]   train-rmse:0.073036 
[389]   train-rmse:0.072963 
[390]   train-rmse:0.072864 
[391]   train-rmse:0.072719 
[392]   train-rmse:0.072571 
[393]   train-rmse:0.072435 
[394]   train-rmse:0.072354 
[395]   train-rmse:0.072232 
[396]   train-rmse:0.072141 
[397]   train-rmse:0.072021 
[398]   train-rmse:0.071906 
[399]   train-rmse:0.071827 
[400]   train-rmse:0.071695 
[401]   train-rmse:0.071528 
[402]   train-rmse:0.071361 
[403]   train-rmse:0.071215 
[404]   train-rmse:0.071156 
[405]   train-rmse:0.071050 
[406]   train-rmse:0.070961 
[407]   train-rmse:0.070867 
[408]   train-rmse:0.070859 
[409]   train-rmse:0.070737 
[410]   train-rmse:0.070651 
[411]   train-rmse:0.070510 
[412]   train-rmse:0.070403 
[413]   train-rmse:0.070323 
[414]   train-rmse:0.070244 
[415]   train-rmse:0.070076 
[416]   train-rmse:0.070047 
[417]   train-rmse:0.069978 
[418]   train-rmse:0.069848 
[419]   train-rmse:0.069775 
[420]   train-rmse:0.069684 
[421]   train-rmse:0.069536 
[422]   train-rmse:0.069451 
[423]   train-rmse:0.069337 
[424]   train-rmse:0.069196 
[425]   train-rmse:0.069099 
[426]   train-rmse:0.069013 
[427]   train-rmse:0.068946 
[428]   train-rmse:0.068846 
[429]   train-rmse:0.068709 
[430]   train-rmse:0.068641 
[431]   train-rmse:0.068595 
[432]   train-rmse:0.068489 
[433]   train-rmse:0.068392 
[434]   train-rmse:0.068284 
[435]   train-rmse:0.068151 
[436]   train-rmse:0.068066 
[437]   train-rmse:0.067966 
[438]   train-rmse:0.067851 
[439]   train-rmse:0.067754 
[440]   train-rmse:0.067678 
[441]   train-rmse:0.067606 
[442]   train-rmse:0.067521 
[443]   train-rmse:0.067443 
[444]   train-rmse:0.067450 
[445]   train-rmse:0.067323 
[446]   train-rmse:0.067225 
[447]   train-rmse:0.067169 
[448]   train-rmse:0.067097 
[449]   train-rmse:0.067114 
[450]   train-rmse:0.067068 
[451]   train-rmse:0.066956 
[452]   train-rmse:0.066792 
[453]   train-rmse:0.066675 
[454]   train-rmse:0.066601 
[455]   train-rmse:0.066472 
[456]   train-rmse:0.066340 
[457]   train-rmse:0.066263 
[458]   train-rmse:0.066140 
[459]   train-rmse:0.066024 
[460]   train-rmse:0.065902 
[461]   train-rmse:0.065840 
[462]   train-rmse:0.065778 
[463]   train-rmse:0.065653 
[464]   train-rmse:0.065548 
[465]   train-rmse:0.065393 
[466]   train-rmse:0.065299 
[467]   train-rmse:0.065166 
[468]   train-rmse:0.065118 
[469]   train-rmse:0.065023 
[470]   train-rmse:0.064920 
[471]   train-rmse:0.064918 
[472]   train-rmse:0.064820 
[473]   train-rmse:0.064711 
[474]   train-rmse:0.064717 
[475]   train-rmse:0.064640 
[476]   train-rmse:0.064560 
[477]   train-rmse:0.064510 
[478]   train-rmse:0.064452 
[479]   train-rmse:0.064359 
[480]   train-rmse:0.064282 
[481]   train-rmse:0.064210 
[482]   train-rmse:0.064128 
[483]   train-rmse:0.064040 
[484]   train-rmse:0.063914 
[485]   train-rmse:0.063868 
[486]   train-rmse:0.063753 
[487]   train-rmse:0.063638 
[488]   train-rmse:0.063558 
[489]   train-rmse:0.063469 
[490]   train-rmse:0.063343 
[491]   train-rmse:0.063298 
[492]   train-rmse:0.063177 
[493]   train-rmse:0.063016 
[494]   train-rmse:0.062912 
[495]   train-rmse:0.062780 
[496]   train-rmse:0.062732 
[497]   train-rmse:0.062663 
[498]   train-rmse:0.062569 
[499]   train-rmse:0.062465 
[500]   train-rmse:0.062364 
[501]   train-rmse:0.062310 
[502]   train-rmse:0.062207 
[503]   train-rmse:0.062104 
[504]   train-rmse:0.062081 
[505]   train-rmse:0.062060 
[506]   train-rmse:0.062002 
[507]   train-rmse:0.061962 
[508]   train-rmse:0.061922 
[509]   train-rmse:0.061864 
[510]   train-rmse:0.061805 
[511]   train-rmse:0.061684 
[512]   train-rmse:0.061653 
[513]   train-rmse:0.061573 
[514]   train-rmse:0.061452 
[515]   train-rmse:0.061383 
[516]   train-rmse:0.061265 
[517]   train-rmse:0.061232 
[518]   train-rmse:0.061132 
[519]   train-rmse:0.061096 
[520]   train-rmse:0.061022 
[521]   train-rmse:0.060952 
[522]   train-rmse:0.060857 
[523]   train-rmse:0.060779 
[524]   train-rmse:0.060672 
[525]   train-rmse:0.060606 
[526]   train-rmse:0.060497 
[527]   train-rmse:0.060387 
[528]   train-rmse:0.060326 
[529]   train-rmse:0.060216 
[530]   train-rmse:0.060113 
[531]   train-rmse:0.060151 
[532]   train-rmse:0.060072 
[533]   train-rmse:0.059952 
[534]   train-rmse:0.059906 
[535]   train-rmse:0.059798 
[536]   train-rmse:0.059711 
[537]   train-rmse:0.059565 
[538]   train-rmse:0.059511 
[539]   train-rmse:0.059445 
[540]   train-rmse:0.059355 
[541]   train-rmse:0.059279 
[542]   train-rmse:0.059226 
[543]   train-rmse:0.059240 
[544]   train-rmse:0.059166 
[545]   train-rmse:0.059080 
[546]   train-rmse:0.059017 
[547]   train-rmse:0.058962 
[548]   train-rmse:0.058856 
[549]   train-rmse:0.058774 
[550]   train-rmse:0.058718 
[551]   train-rmse:0.058625 
[552]   train-rmse:0.058593 
[553]   train-rmse:0.058496 
[554]   train-rmse:0.058428 
[555]   train-rmse:0.058348 
[556]   train-rmse:0.058286 
[557]   train-rmse:0.058186 
[558]   train-rmse:0.058191 
[559]   train-rmse:0.058132 
[560]   train-rmse:0.058064 
[561]   train-rmse:0.057956 
[562]   train-rmse:0.057896 
[563]   train-rmse:0.057831 
[564]   train-rmse:0.057773 
[565]   train-rmse:0.057711 
[566]   train-rmse:0.057604 
[567]   train-rmse:0.057513 
[568]   train-rmse:0.057432 
[569]   train-rmse:0.057387 
[570]   train-rmse:0.057226 
[571]   train-rmse:0.057138 
[572]   train-rmse:0.057103 
[573]   train-rmse:0.057095 
[574]   train-rmse:0.057001 
[575]   train-rmse:0.056878 
[576]   train-rmse:0.056841 
[577]   train-rmse:0.056733 
[578]   train-rmse:0.056708 
[579]   train-rmse:0.056623 
[580]   train-rmse:0.056537 
[581]   train-rmse:0.056478 
[582]   train-rmse:0.056390 
[583]   train-rmse:0.056296 
[584]   train-rmse:0.056289 
[585]   train-rmse:0.056224 
[586]   train-rmse:0.056168 
[587]   train-rmse:0.056115 
[588]   train-rmse:0.056072 
[589]   train-rmse:0.055999 
[590]   train-rmse:0.055922 
[591]   train-rmse:0.055859 
[592]   train-rmse:0.055814 
[593]   train-rmse:0.055735 
[594]   train-rmse:0.055715 
[595]   train-rmse:0.055614 
[596]   train-rmse:0.055561 
[597]   train-rmse:0.055480 
[598]   train-rmse:0.055403 
[599]   train-rmse:0.055380 
[600]   train-rmse:0.055381 
[601]   train-rmse:0.055277 
[602]   train-rmse:0.055183 
[603]   train-rmse:0.055034 
[604]   train-rmse:0.054990 
[605]   train-rmse:0.054990 
[606]   train-rmse:0.054914 
[607]   train-rmse:0.054849 
[608]   train-rmse:0.054697 
[609]   train-rmse:0.054627 
[610]   train-rmse:0.054588 
[611]   train-rmse:0.054498 
[612]   train-rmse:0.054497 
[613]   train-rmse:0.054409 
[614]   train-rmse:0.054390 
[615]   train-rmse:0.054279 
[616]   train-rmse:0.054199 
[617]   train-rmse:0.054108 
[618]   train-rmse:0.054029 
[619]   train-rmse:0.053966 
[620]   train-rmse:0.053909 
[621]   train-rmse:0.053878 
[622]   train-rmse:0.053785 
[623]   train-rmse:0.053670 
[624]   train-rmse:0.053577 
[625]   train-rmse:0.053528 
[626]   train-rmse:0.053477 
[627]   train-rmse:0.053421 
[628]   train-rmse:0.053360 
[629]   train-rmse:0.053301 
[630]   train-rmse:0.053199 
[631]   train-rmse:0.053110 
[632]   train-rmse:0.052996 
[633]   train-rmse:0.052944 
[634]   train-rmse:0.052835 
[635]   train-rmse:0.052749 
[636]   train-rmse:0.052700 
[637]   train-rmse:0.052694 
[638]   train-rmse:0.052645 
[639]   train-rmse:0.052601 
[640]   train-rmse:0.052543 
[641]   train-rmse:0.052469 
[642]   train-rmse:0.052375 
[643]   train-rmse:0.052316 
[644]   train-rmse:0.052206 
[645]   train-rmse:0.052179 
[646]   train-rmse:0.052130 
[647]   train-rmse:0.052061 
[648]   train-rmse:0.052005 
[649]   train-rmse:0.051960 
[650]   train-rmse:0.051903 
[651]   train-rmse:0.051842 
[652]   train-rmse:0.051761 
[653]   train-rmse:0.051682 
[654]   train-rmse:0.051596 
[655]   train-rmse:0.051524 
[656]   train-rmse:0.051447 
[657]   train-rmse:0.051399 
[658]   train-rmse:0.051366 
[659]   train-rmse:0.051314 
[660]   train-rmse:0.051297 
[661]   train-rmse:0.051223 
[662]   train-rmse:0.051138 
[663]   train-rmse:0.051125 
[664]   train-rmse:0.051055 
[665]   train-rmse:0.050998 
[666]   train-rmse:0.050910 
[667]   train-rmse:0.050807 
[668]   train-rmse:0.050740 
[669]   train-rmse:0.050663 
[670]   train-rmse:0.050633 
[671]   train-rmse:0.050627 
[672]   train-rmse:0.050576 
[673]   train-rmse:0.050532 
[674]   train-rmse:0.050508 
[675]   train-rmse:0.050457 
[676]   train-rmse:0.050375 
[677]   train-rmse:0.050319 
[678]   train-rmse:0.050224 
[679]   train-rmse:0.050180 
[680]   train-rmse:0.050120 
[681]   train-rmse:0.050058 
[682]   train-rmse:0.050011 
[683]   train-rmse:0.049972 
[684]   train-rmse:0.049947 
[685]   train-rmse:0.049944 
[686]   train-rmse:0.049877 
[687]   train-rmse:0.049827 
[688]   train-rmse:0.049742 
[689]   train-rmse:0.049660 
[690]   train-rmse:0.049609 
[691]   train-rmse:0.049578 
[692]   train-rmse:0.049529 
[693]   train-rmse:0.049479 
[694]   train-rmse:0.049375 
[695]   train-rmse:0.049333 
[696]   train-rmse:0.049335 
[697]   train-rmse:0.049282 
[698]   train-rmse:0.049246 
[699]   train-rmse:0.049177 
[700]   train-rmse:0.049098 
[701]   train-rmse:0.049042 
[702]   train-rmse:0.048982 
[703]   train-rmse:0.048922 
[704]   train-rmse:0.048919 
[705]   train-rmse:0.048882 
[706]   train-rmse:0.048819 
[707]   train-rmse:0.048773 
[708]   train-rmse:0.048734 
[709]   train-rmse:0.048665 
[710]   train-rmse:0.048602 
[711]   train-rmse:0.048544 
[712]   train-rmse:0.048493 
[713]   train-rmse:0.048455 
[714]   train-rmse:0.048393 
[715]   train-rmse:0.048364 
[716]   train-rmse:0.048305 
[717]   train-rmse:0.048260 
[718]   train-rmse:0.048205 
[719]   train-rmse:0.048101 
[720]   train-rmse:0.048021 
[721]   train-rmse:0.048001 
[722]   train-rmse:0.047911 
[723]   train-rmse:0.047844 
[724]   train-rmse:0.047774 
[725]   train-rmse:0.047760 
[726]   train-rmse:0.047704 
[727]   train-rmse:0.047684 
[728]   train-rmse:0.047622 
[729]   train-rmse:0.047532 
[730]   train-rmse:0.047476 
[731]   train-rmse:0.047437 
[732]   train-rmse:0.047385 
[733]   train-rmse:0.047329 
[734]   train-rmse:0.047244 
[735]   train-rmse:0.047165 
[736]   train-rmse:0.047084 
[737]   train-rmse:0.047024 
[738]   train-rmse:0.046956 
[739]   train-rmse:0.046869 
[740]   train-rmse:0.046802 
[741]   train-rmse:0.046746 
[742]   train-rmse:0.046726 
[743]   train-rmse:0.046686 
[744]   train-rmse:0.046619 
[745]   train-rmse:0.046561 
[746]   train-rmse:0.046538 
[747]   train-rmse:0.046470 
[748]   train-rmse:0.046405 
[749]   train-rmse:0.046388 
[750]   train-rmse:0.046325 
[751]   train-rmse:0.046262 
[752]   train-rmse:0.046239 
[753]   train-rmse:0.046177 
[754]   train-rmse:0.046142 
[755]   train-rmse:0.046090 
[756]   train-rmse:0.046028 
[757]   train-rmse:0.045938 
[758]   train-rmse:0.045882 
[759]   train-rmse:0.045802 
[760]   train-rmse:0.045777 
[761]   train-rmse:0.045707 
[762]   train-rmse:0.045646 
[763]   train-rmse:0.045611 
[764]   train-rmse:0.045544 
[765]   train-rmse:0.045498 
[766]   train-rmse:0.045436 
[767]   train-rmse:0.045377 
[768]   train-rmse:0.045316 
[769]   train-rmse:0.045304 
[770]   train-rmse:0.045261 
[771]   train-rmse:0.045219 
[772]   train-rmse:0.045173 
[773]   train-rmse:0.045145 
[774]   train-rmse:0.045135 
[775]   train-rmse:0.045104 
[776]   train-rmse:0.045084 
[777]   train-rmse:0.045093 
[778]   train-rmse:0.045127 
[779]   train-rmse:0.045082 
[780]   train-rmse:0.045020 
[781]   train-rmse:0.044964 
[782]   train-rmse:0.044960 
[783]   train-rmse:0.044902 
[784]   train-rmse:0.044853 
[785]   train-rmse:0.044788 
[786]   train-rmse:0.044764 
[787]   train-rmse:0.044699 
[788]   train-rmse:0.044624 
[789]   train-rmse:0.044551 
[790]   train-rmse:0.044495 
[791]   train-rmse:0.044440 
[792]   train-rmse:0.044419 
[793]   train-rmse:0.044367 
[794]   train-rmse:0.044346 
[795]   train-rmse:0.044244 
[796]   train-rmse:0.044192 
[797]   train-rmse:0.044172 
[798]   train-rmse:0.044107 
[799]   train-rmse:0.044035 
[800]   train-rmse:0.043992 
[801]   train-rmse:0.043931 
[802]   train-rmse:0.043912 
[803]   train-rmse:0.043864 
[804]   train-rmse:0.043793 
[805]   train-rmse:0.043759 
[806]   train-rmse:0.043719 
[807]   train-rmse:0.043657 
[808]   train-rmse:0.043589 
[809]   train-rmse:0.043532 
[810]   train-rmse:0.043471 
[811]   train-rmse:0.043467 
[812]   train-rmse:0.043401 
[813]   train-rmse:0.043355 
[814]   train-rmse:0.043296 
[815]   train-rmse:0.043240 
[816]   train-rmse:0.043224 
[817]   train-rmse:0.043208 
[818]   train-rmse:0.043175 
[819]   train-rmse:0.043123 
[820]   train-rmse:0.043031 
[821]   train-rmse:0.043011 
[822]   train-rmse:0.042954 
[823]   train-rmse:0.042896 
[824]   train-rmse:0.042876 
[825]   train-rmse:0.042801 
[826]   train-rmse:0.042745 
[827]   train-rmse:0.042702 
[828]   train-rmse:0.042664 
[829]   train-rmse:0.042599 
[830]   train-rmse:0.042564 
[831]   train-rmse:0.042521 
[832]   train-rmse:0.042513 
[833]   train-rmse:0.042474 
[834]   train-rmse:0.042429 
[835]   train-rmse:0.042429 
[836]   train-rmse:0.042391 
[837]   train-rmse:0.042350 
[838]   train-rmse:0.042286 
[839]   train-rmse:0.042249 
[840]   train-rmse:0.042229 
[841]   train-rmse:0.042182 
[842]   train-rmse:0.042127 
[843]   train-rmse:0.042094 
[844]   train-rmse:0.042051 
[845]   train-rmse:0.041987 
[846]   train-rmse:0.042032 
[847]   train-rmse:0.041996 
[848]   train-rmse:0.041935 
[849]   train-rmse:0.041874 
[850]   train-rmse:0.041824 
[851]   train-rmse:0.041763 
[852]   train-rmse:0.041697 
[853]   train-rmse:0.041677 
[854]   train-rmse:0.041620 
[855]   train-rmse:0.041572 
[856]   train-rmse:0.041529 
[857]   train-rmse:0.041462 
[858]   train-rmse:0.041420 
[859]   train-rmse:0.041382 
[860]   train-rmse:0.041349 
[861]   train-rmse:0.041293 
[862]   train-rmse:0.041251 
[863]   train-rmse:0.041204 
[864]   train-rmse:0.041167 
[865]   train-rmse:0.041113 
[866]   train-rmse:0.041084 
[867]   train-rmse:0.041000 
[868]   train-rmse:0.040961 
[869]   train-rmse:0.040928 
[870]   train-rmse:0.040886 
[871]   train-rmse:0.040877 
[872]   train-rmse:0.040844 
[873]   train-rmse:0.040788 
[874]   train-rmse:0.040747 
[875]   train-rmse:0.040690 
[876]   train-rmse:0.040664 
[877]   train-rmse:0.040609 
[878]   train-rmse:0.040560 
[879]   train-rmse:0.040541 
[880]   train-rmse:0.040512 
[881]   train-rmse:0.040487 
[882]   train-rmse:0.040435 
[883]   train-rmse:0.040362 
[884]   train-rmse:0.040327 
[885]   train-rmse:0.040294 
[886]   train-rmse:0.040282 
[887]   train-rmse:0.040293 
[888]   train-rmse:0.040249 
[889]   train-rmse:0.040226 
[890]   train-rmse:0.040188 
[891]   train-rmse:0.040150 
[892]   train-rmse:0.040147 
[893]   train-rmse:0.040125 
[894]   train-rmse:0.040077 
[895]   train-rmse:0.040039 
[896]   train-rmse:0.040007 
[897]   train-rmse:0.039966 
[898]   train-rmse:0.039959 
[899]   train-rmse:0.039946 
[900]   train-rmse:0.039950 
[901]   train-rmse:0.039913 
[902]   train-rmse:0.039851 
[903]   train-rmse:0.039835 
[904]   train-rmse:0.039791 
[905]   train-rmse:0.039738 
[906]   train-rmse:0.039707 
[907]   train-rmse:0.039650 
[908]   train-rmse:0.039605 
[909]   train-rmse:0.039553 
[910]   train-rmse:0.039510 
[911]   train-rmse:0.039468 
[912]   train-rmse:0.039426 
[913]   train-rmse:0.039373 
[914]   train-rmse:0.039340 
[915]   train-rmse:0.039271 
[916]   train-rmse:0.039228 
[917]   train-rmse:0.039183 
[918]   train-rmse:0.039136 
[919]   train-rmse:0.039110 
[920]   train-rmse:0.039100 
[921]   train-rmse:0.039071 
[922]   train-rmse:0.038996 
[923]   train-rmse:0.038950 
[924]   train-rmse:0.038912 
[925]   train-rmse:0.038866 
[926]   train-rmse:0.038879 
[927]   train-rmse:0.038826 
[928]   train-rmse:0.038783 
[929]   train-rmse:0.038746 
[930]   train-rmse:0.038719 
[931]   train-rmse:0.038675 
[932]   train-rmse:0.038620 
[933]   train-rmse:0.038583 
[934]   train-rmse:0.038533 
[935]   train-rmse:0.038506 
[936]   train-rmse:0.038450 
[937]   train-rmse:0.038393 
[938]   train-rmse:0.038367 
[939]   train-rmse:0.038342 
[940]   train-rmse:0.038300 
[941]   train-rmse:0.038255 
[942]   train-rmse:0.038194 
[943]   train-rmse:0.038185 
[944]   train-rmse:0.038135 
[945]   train-rmse:0.038107 
[946]   train-rmse:0.038057 
[947]   train-rmse:0.038005 
[948]   train-rmse:0.037983 
[949]   train-rmse:0.037931 
[950]   train-rmse:0.037909 
[951]   train-rmse:0.037854 
[952]   train-rmse:0.037794 
[953]   train-rmse:0.037792 
[954]   train-rmse:0.037742 
[955]   train-rmse:0.037724 
[956]   train-rmse:0.037691 
[957]   train-rmse:0.037657 
[958]   train-rmse:0.037625 
[959]   train-rmse:0.037622 
[960]   train-rmse:0.037598 
[961]   train-rmse:0.037612 
[962]   train-rmse:0.037564 
[963]   train-rmse:0.037488 
[964]   train-rmse:0.037433 
[965]   train-rmse:0.037393 
[966]   train-rmse:0.037383 
[967]   train-rmse:0.037333 
[968]   train-rmse:0.037313 
[969]   train-rmse:0.037287 
[970]   train-rmse:0.037283 
[971]   train-rmse:0.037242 
[972]   train-rmse:0.037240 
[973]   train-rmse:0.037216 
[974]   train-rmse:0.037187 
[975]   train-rmse:0.037157 
[976]   train-rmse:0.037090 
[977]   train-rmse:0.037092 
[978]   train-rmse:0.037053 
[979]   train-rmse:0.036995 
[980]   train-rmse:0.036943 
[981]   train-rmse:0.036946 
[982]   train-rmse:0.036931 
[983]   train-rmse:0.036883 
[984]   train-rmse:0.036873 
[985]   train-rmse:0.036851 
[986]   train-rmse:0.036819 
[987]   train-rmse:0.036779 
[988]   train-rmse:0.036720 
[989]   train-rmse:0.036752 
[990]   train-rmse:0.036710 
[991]   train-rmse:0.036676 
[992]   train-rmse:0.036644 
[993]   train-rmse:0.036587 
[994]   train-rmse:0.036547 
[995]   train-rmse:0.036544 
[996]   train-rmse:0.036517 
[997]   train-rmse:0.036485 
[998]   train-rmse:0.036433 
[999]   train-rmse:0.036401 
[1000]  train-rmse:0.036376 
[1001]  train-rmse:0.036329 
[1002]  train-rmse:0.036299 
[1003]  train-rmse:0.036278 
[1004]  train-rmse:0.036275 
[1005]  train-rmse:0.036229 
[1006]  train-rmse:0.036212 
[1007]  train-rmse:0.036145 
[1008]  train-rmse:0.036106 
[1009]  train-rmse:0.036062 
[1010]  train-rmse:0.036011 
[1011]  train-rmse:0.035971 
[1012]  train-rmse:0.035885 
[1013]  train-rmse:0.035845 
[1014]  train-rmse:0.035789 
[1015]  train-rmse:0.035788 
[1016]  train-rmse:0.035772 
[1017]  train-rmse:0.035738 
[1018]  train-rmse:0.035710 
[1019]  train-rmse:0.035717 
[1020]  train-rmse:0.035683 
[1021]  train-rmse:0.035613 
[1022]  train-rmse:0.035607 
[1023]  train-rmse:0.035548 
[1024]  train-rmse:0.035497 
[1025]  train-rmse:0.035456 
[1026]  train-rmse:0.035423 
[1027]  train-rmse:0.035363 
[1028]  train-rmse:0.035343 
[1029]  train-rmse:0.035298 
[1030]  train-rmse:0.035300 
[1031]  train-rmse:0.035268 
[1032]  train-rmse:0.035234 
[1033]  train-rmse:0.035203 
[1034]  train-rmse:0.035170 
[1035]  train-rmse:0.035132 
[1036]  train-rmse:0.035097 
[1037]  train-rmse:0.035064 
[1038]  train-rmse:0.035056 
[1039]  train-rmse:0.035014 
[1040]  train-rmse:0.034953 
[1041]  train-rmse:0.034924 
[1042]  train-rmse:0.034895 
[1043]  train-rmse:0.034853 
[1044]  train-rmse:0.034824 
[1045]  train-rmse:0.034798 
[1046]  train-rmse:0.034807 
[1047]  train-rmse:0.034790 
[1048]  train-rmse:0.034738 
[1049]  train-rmse:0.034694 
[1050]  train-rmse:0.034636 
[1051]  train-rmse:0.034587 
[1052]  train-rmse:0.034543 
[1053]  train-rmse:0.034512 
[1054]  train-rmse:0.034480 
[1055]  train-rmse:0.034440 
[1056]  train-rmse:0.034405 
[1057]  train-rmse:0.034418 
[1058]  train-rmse:0.034385 
[1059]  train-rmse:0.034342 
[1060]  train-rmse:0.034293 
[1061]  train-rmse:0.034264 
[1062]  train-rmse:0.034222 
[1063]  train-rmse:0.034177 
[1064]  train-rmse:0.034141 
[1065]  train-rmse:0.034115 
[1066]  train-rmse:0.034130 
[1067]  train-rmse:0.034114 
[1068]  train-rmse:0.034084 
[1069]  train-rmse:0.034040 
[1070]  train-rmse:0.034007 
[1071]  train-rmse:0.033968 
[1072]  train-rmse:0.033926 
[1073]  train-rmse:0.033855 
[1074]  train-rmse:0.033819 
[1075]  train-rmse:0.033769 
[1076]  train-rmse:0.033758 
[1077]  train-rmse:0.033725 
[1078]  train-rmse:0.033680 
[1079]  train-rmse:0.033698 
[1080]  train-rmse:0.033661 
[1081]  train-rmse:0.033633 
[1082]  train-rmse:0.033572 
[1083]  train-rmse:0.033536 
[1084]  train-rmse:0.033500 
[1085]  train-rmse:0.033472 
[1086]  train-rmse:0.033443 
[1087]  train-rmse:0.033413 
[1088]  train-rmse:0.033378 
[1089]  train-rmse:0.033335 
[1090]  train-rmse:0.033301 
[1091]  train-rmse:0.033250 
[1092]  train-rmse:0.033210 
[1093]  train-rmse:0.033157 
[1094]  train-rmse:0.033103 
[1095]  train-rmse:0.033064 
[1096]  train-rmse:0.033049 
[1097]  train-rmse:0.033008 
[1098]  train-rmse:0.032986 
[1099]  train-rmse:0.032955 
[1100]  train-rmse:0.032925 
[1101]  train-rmse:0.032880 
[1102]  train-rmse:0.032856 
[1103]  train-rmse:0.032825 
[1104]  train-rmse:0.032782 
[1105]  train-rmse:0.032759 
[1106]  train-rmse:0.032720 
[1107]  train-rmse:0.032687 
[1108]  train-rmse:0.032666 
[1109]  train-rmse:0.032677 
[1110]  train-rmse:0.032639 
[1111]  train-rmse:0.032625 
[1112]  train-rmse:0.032600 
[1113]  train-rmse:0.032587 
[1114]  train-rmse:0.032565 
[1115]  train-rmse:0.032530 
[1116]  train-rmse:0.032503 
[1117]  train-rmse:0.032464 
[1118]  train-rmse:0.032463 
[1119]  train-rmse:0.032436 
[1120]  train-rmse:0.032410 
[1121]  train-rmse:0.032395 
[1122]  train-rmse:0.032359 
[1123]  train-rmse:0.032358 
[1124]  train-rmse:0.032303 
[1125]  train-rmse:0.032265 
[1126]  train-rmse:0.032233 
[1127]  train-rmse:0.032196 
[1128]  train-rmse:0.032170 
[1129]  train-rmse:0.032135 
[1130]  train-rmse:0.032127 
[1131]  train-rmse:0.032092 
[1132]  train-rmse:0.032091 
[1133]  train-rmse:0.032063 
[1134]  train-rmse:0.032043 
[1135]  train-rmse:0.032008 
[1136]  train-rmse:0.031983 
[1137]  train-rmse:0.031946 
[1138]  train-rmse:0.031912 
[1139]  train-rmse:0.031905 
[1140]  train-rmse:0.031874 
[1141]  train-rmse:0.031849 
[1142]  train-rmse:0.031820 
[1143]  train-rmse:0.031788 
[1144]  train-rmse:0.031748 
[1145]  train-rmse:0.031707 
[1146]  train-rmse:0.031683 
[1147]  train-rmse:0.031655 
[1148]  train-rmse:0.031613 
[1149]  train-rmse:0.031601 
[1150]  train-rmse:0.031580 
[1151]  train-rmse:0.031566 
[1152]  train-rmse:0.031548 
[1153]  train-rmse:0.031521 
[1154]  train-rmse:0.031512 
[1155]  train-rmse:0.031481 
[1156]  train-rmse:0.031452 
[1157]  train-rmse:0.031420 
[1158]  train-rmse:0.031376 
[1159]  train-rmse:0.031346 
[1160]  train-rmse:0.031316 
[1161]  train-rmse:0.031276 
[1162]  train-rmse:0.031265 
[1163]  train-rmse:0.031235 
[1164]  train-rmse:0.031193 
[1165]  train-rmse:0.031129 
[1166]  train-rmse:0.031120 
[1167]  train-rmse:0.031055 
[1168]  train-rmse:0.031033 
[1169]  train-rmse:0.031013 
[1170]  train-rmse:0.030981 
[1171]  train-rmse:0.030942 
[1172]  train-rmse:0.030912 
[1173]  train-rmse:0.030891 
[1174]  train-rmse:0.030856 
[1175]  train-rmse:0.030797 
[1176]  train-rmse:0.030781 
[1177]  train-rmse:0.030742 
[1178]  train-rmse:0.030705 
[1179]  train-rmse:0.030666 
[1180]  train-rmse:0.030666 
[1181]  train-rmse:0.030656 
[1182]  train-rmse:0.030639 
[1183]  train-rmse:0.030617 
[1184]  train-rmse:0.030578 
[1185]  train-rmse:0.030551 
[1186]  train-rmse:0.030551 
[1187]  train-rmse:0.030515 
[1188]  train-rmse:0.030481 
[1189]  train-rmse:0.030456 
[1190]  train-rmse:0.030416 
[1191]  train-rmse:0.030385 
[1192]  train-rmse:0.030368 
[1193]  train-rmse:0.030373 
[1194]  train-rmse:0.030346 
[1195]  train-rmse:0.030315 
[1196]  train-rmse:0.030292 
[1197]  train-rmse:0.030261 
[1198]  train-rmse:0.030231 
[1199]  train-rmse:0.030205 
[1200]  train-rmse:0.030175 
[1201]  train-rmse:0.030148 
[1202]  train-rmse:0.030115 
[1203]  train-rmse:0.030082 
[1204]  train-rmse:0.030091 
[1205]  train-rmse:0.030061 
[1206]  train-rmse:0.030034 
[1207]  train-rmse:0.030034 
[1208]  train-rmse:0.030001 
[1209]  train-rmse:0.029974 
[1210]  train-rmse:0.029958 
[1211]  train-rmse:0.029937 
[1212]  train-rmse:0.029940 
[1213]  train-rmse:0.029898 
[1214]  train-rmse:0.029861 
[1215]  train-rmse:0.029840 
[1216]  train-rmse:0.029789 
[1217]  train-rmse:0.029761 
[1218]  train-rmse:0.029732 
[1219]  train-rmse:0.029696 
[1220]  train-rmse:0.029676 
[1221]  train-rmse:0.029641 
[1222]  train-rmse:0.029612 
[1223]  train-rmse:0.029602 
[1224]  train-rmse:0.029585 
[1225]  train-rmse:0.029552 
[1226]  train-rmse:0.029514 
[1227]  train-rmse:0.029481 
[1228]  train-rmse:0.029457 
[1229]  train-rmse:0.029421 
[1230]  train-rmse:0.029385 
[1231]  train-rmse:0.029381 
[1232]  train-rmse:0.029352 
[1233]  train-rmse:0.029310 
[1234]  train-rmse:0.029300 
[1235]  train-rmse:0.029276 
[1236]  train-rmse:0.029235 
[1237]  train-rmse:0.029227 
[1238]  train-rmse:0.029195 
[1239]  train-rmse:0.029179 
[1240]  train-rmse:0.029127 
[1241]  train-rmse:0.029124 
[1242]  train-rmse:0.029111 
[1243]  train-rmse:0.029093 
[1244]  train-rmse:0.029058 
[1245]  train-rmse:0.029026 
[1246]  train-rmse:0.029001 
[1247]  train-rmse:0.028972 
[1248]  train-rmse:0.028928 
[1249]  train-rmse:0.028932 
[1250]  train-rmse:0.028894 
[1251]  train-rmse:0.028866 
[1252]  train-rmse:0.028856 
[1253]  train-rmse:0.028866 
[1254]  train-rmse:0.028854 
[1255]  train-rmse:0.028833 
[1256]  train-rmse:0.028816 
[1257]  train-rmse:0.028789 
[1258]  train-rmse:0.028761 
[1259]  train-rmse:0.028737 
[1260]  train-rmse:0.028716 
[1261]  train-rmse:0.028689 
[1262]  train-rmse:0.028659 
[1263]  train-rmse:0.028654 
[1264]  train-rmse:0.028636 
[1265]  train-rmse:0.028621 
[1266]  train-rmse:0.028588 
[1267]  train-rmse:0.028574 
[1268]  train-rmse:0.028538 
[1269]  train-rmse:0.028494 
[1270]  train-rmse:0.028471 
[1271]  train-rmse:0.028454 
[1272]  train-rmse:0.028446 
[1273]  train-rmse:0.028431 
[1274]  train-rmse:0.028403 
[1275]  train-rmse:0.028375 
[1276]  train-rmse:0.028343 
[1277]  train-rmse:0.028318 
[1278]  train-rmse:0.028316 
[1279]  train-rmse:0.028296 
[1280]  train-rmse:0.028272 
[1281]  train-rmse:0.028250 
[1282]  train-rmse:0.028227 
[1283]  train-rmse:0.028186 
[1284]  train-rmse:0.028147 
[1285]  train-rmse:0.028123 
[1286]  train-rmse:0.028094 
[1287]  train-rmse:0.028069 
[1288]  train-rmse:0.028040 
[1289]  train-rmse:0.028011 
[1290]  train-rmse:0.027977 
[1291]  train-rmse:0.027957 
[1292]  train-rmse:0.027958 
[1293]  train-rmse:0.027939 
[1294]  train-rmse:0.027902 
[1295]  train-rmse:0.027872 
[1296]  train-rmse:0.027830 
[1297]  train-rmse:0.027799 
[1298]  train-rmse:0.027770 
[1299]  train-rmse:0.027738 
[1300]  train-rmse:0.027718 
[1301]  train-rmse:0.027721 
[1302]  train-rmse:0.027687 
[1303]  train-rmse:0.027654 
[1304]  train-rmse:0.027618 
[1305]  train-rmse:0.027603 
[1306]  train-rmse:0.027576 
[1307]  train-rmse:0.027553 
[1308]  train-rmse:0.027544 
[1309]  train-rmse:0.027523 
[1310]  train-rmse:0.027484 
[1311]  train-rmse:0.027465 
[1312]  train-rmse:0.027459 
[1313]  train-rmse:0.027442 
[1314]  train-rmse:0.027422 
[1315]  train-rmse:0.027391 
[1316]  train-rmse:0.027364 
[1317]  train-rmse:0.027353 
[1318]  train-rmse:0.027371 
[1319]  train-rmse:0.027349 
[1320]  train-rmse:0.027304 
[1321]  train-rmse:0.027265 
[1322]  train-rmse:0.027244 
[1323]  train-rmse:0.027256 
[1324]  train-rmse:0.027228 
[1325]  train-rmse:0.027200 
[1326]  train-rmse:0.027187 
[1327]  train-rmse:0.027176 
[1328]  train-rmse:0.027145 
[1329]  train-rmse:0.027120 
[1330]  train-rmse:0.027099 
[1331]  train-rmse:0.027073 
[1332]  train-rmse:0.027058 
[1333]  train-rmse:0.027040 
[1334]  train-rmse:0.027018 
[1335]  train-rmse:0.026992 
[1336]  train-rmse:0.026981 
[1337]  train-rmse:0.026955 
[1338]  train-rmse:0.026943 
[1339]  train-rmse:0.026920 
[1340]  train-rmse:0.026897 
[1341]  train-rmse:0.026871 
[1342]  train-rmse:0.026846 
[1343]  train-rmse:0.026833 
[1344]  train-rmse:0.026811 
[1345]  train-rmse:0.026792 
[1346]  train-rmse:0.026764 
[1347]  train-rmse:0.026774 
[1348]  train-rmse:0.026788 
[1349]  train-rmse:0.026747 
[1350]  train-rmse:0.026727 
[1351]  train-rmse:0.026695 
[1352]  train-rmse:0.026672 
[1353]  train-rmse:0.026636 
[1354]  train-rmse:0.026604 
[1355]  train-rmse:0.026575 
[1356]  train-rmse:0.026547 
[1357]  train-rmse:0.026514 
[1358]  train-rmse:0.026485 
[1359]  train-rmse:0.026459 
[1360]  train-rmse:0.026428 
[1361]  train-rmse:0.026408 
[1362]  train-rmse:0.026374 
[1363]  train-rmse:0.026360 
[1364]  train-rmse:0.026339 
[1365]  train-rmse:0.026315 
[1366]  train-rmse:0.026301 
[1367]  train-rmse:0.026287 
[1368]  train-rmse:0.026268 
[1369]  train-rmse:0.026241 
[1370]  train-rmse:0.026210 
[1371]  train-rmse:0.026200 
[1372]  train-rmse:0.026186 
[1373]  train-rmse:0.026175 
[1374]  train-rmse:0.026176 
[1375]  train-rmse:0.026148 
[1376]  train-rmse:0.026144 
[1377]  train-rmse:0.026107 
[1378]  train-rmse:0.026085 
[1379]  train-rmse:0.026045 
[1380]  train-rmse:0.026018 
[1381]  train-rmse:0.025995 
[1382]  train-rmse:0.025970 
[1383]  train-rmse:0.025946 
[1384]  train-rmse:0.025929 
[1385]  train-rmse:0.025902 
[1386]  train-rmse:0.025901 
[1387]  train-rmse:0.025885 
[1388]  train-rmse:0.025869 
[1389]  train-rmse:0.025844 
[1390]  train-rmse:0.025819 
[1391]  train-rmse:0.025798 
[1392]  train-rmse:0.025776 
[1393]  train-rmse:0.025759 
[1394]  train-rmse:0.025742 
[1395]  train-rmse:0.025746 
[1396]  train-rmse:0.025752 
[1397]  train-rmse:0.025738 
[1398]  train-rmse:0.025714 
[1399]  train-rmse:0.025694 
[1400]  train-rmse:0.025668 
[1401]  train-rmse:0.025658 
[1402]  train-rmse:0.025622 
[1403]  train-rmse:0.025604 
[1404]  train-rmse:0.025561 
[1405]  train-rmse:0.025545 
[1406]  train-rmse:0.025505 
[1407]  train-rmse:0.025481 
[1408]  train-rmse:0.025453 
[1409]  train-rmse:0.025433 
[1410]  train-rmse:0.025410 
[1411]  train-rmse:0.025402 
[1412]  train-rmse:0.025388 
[1413]  train-rmse:0.025364 
[1414]  train-rmse:0.025343 
[1415]  train-rmse:0.025330 
[1416]  train-rmse:0.025314 
[1417]  train-rmse:0.025299 
[1418]  train-rmse:0.025294 
[1419]  train-rmse:0.025278 
[1420]  train-rmse:0.025264 
[1421]  train-rmse:0.025253 
[1422]  train-rmse:0.025241 
[1423]  train-rmse:0.025208 
[1424]  train-rmse:0.025182 
[1425]  train-rmse:0.025151 
[1426]  train-rmse:0.025127 
[1427]  train-rmse:0.025111 
[1428]  train-rmse:0.025105 
[1429]  train-rmse:0.025085 
[1430]  train-rmse:0.025068 
[1431]  train-rmse:0.025041 
[1432]  train-rmse:0.025011 
[1433]  train-rmse:0.024986 
[1434]  train-rmse:0.024973 
[1435]  train-rmse:0.024959 
[1436]  train-rmse:0.024918 
[1437]  train-rmse:0.024896 
[1438]  train-rmse:0.024872 
[1439]  train-rmse:0.024844 
[1440]  train-rmse:0.024807 
[1441]  train-rmse:0.024784 
[1442]  train-rmse:0.024766 
[1443]  train-rmse:0.024751 
[1444]  train-rmse:0.024747 
[1445]  train-rmse:0.024731 
[1446]  train-rmse:0.024708 
[1447]  train-rmse:0.024687 
[1448]  train-rmse:0.024672 
[1449]  train-rmse:0.024641 
[1450]  train-rmse:0.024622 
[1451]  train-rmse:0.024606 
[1452]  train-rmse:0.024573 
[1453]  train-rmse:0.024544 
[1454]  train-rmse:0.024528 
[1455]  train-rmse:0.024506 
[1456]  train-rmse:0.024471 
[1457]  train-rmse:0.024444 
[1458]  train-rmse:0.024431 
[1459]  train-rmse:0.024415 
[1460]  train-rmse:0.024396 
[1461]  train-rmse:0.024366 
[1462]  train-rmse:0.024365 
[1463]  train-rmse:0.024340 
[1464]  train-rmse:0.024310 
[1465]  train-rmse:0.024300 
[1466]  train-rmse:0.024280 
[1467]  train-rmse:0.024251 
[1468]  train-rmse:0.024216 
[1469]  train-rmse:0.024191 
[1470]  train-rmse:0.024168 
[1471]  train-rmse:0.024141 
[1472]  train-rmse:0.024124 
[1473]  train-rmse:0.024107 
[1474]  train-rmse:0.024109 
[1475]  train-rmse:0.024082 
[1476]  train-rmse:0.024051 
[1477]  train-rmse:0.024030 
[1478]  train-rmse:0.024015 
[1479]  train-rmse:0.024011 
[1480]  train-rmse:0.023988 
[1481]  train-rmse:0.023990 
[1482]  train-rmse:0.023976 
[1483]  train-rmse:0.023954 
[1484]  train-rmse:0.023939 
[1485]  train-rmse:0.023920 
[1486]  train-rmse:0.023909 
[1487]  train-rmse:0.023875 
[1488]  train-rmse:0.023850 
[1489]  train-rmse:0.023832 
[1490]  train-rmse:0.023817 
[1491]  train-rmse:0.023806 
[1492]  train-rmse:0.023792 
[1493]  train-rmse:0.023775 
[1494]  train-rmse:0.023769 
[1495]  train-rmse:0.023750 
[1496]  train-rmse:0.023765 
[1497]  train-rmse:0.023748 
[1498]  train-rmse:0.023742 
[1499]  train-rmse:0.023717 
[1500]  train-rmse:0.023684 
[1501]  train-rmse:0.023672 
[1502]  train-rmse:0.023678 
[1503]  train-rmse:0.023653 
[1504]  train-rmse:0.023641 
[1505]  train-rmse:0.023621 
[1506]  train-rmse:0.023590 
[1507]  train-rmse:0.023596 
[1508]  train-rmse:0.023588 
[1509]  train-rmse:0.023561 
[1510]  train-rmse:0.023531 
[1511]  train-rmse:0.023513 
[1512]  train-rmse:0.023487 
[1513]  train-rmse:0.023470 
[1514]  train-rmse:0.023443 
[1515]  train-rmse:0.023413 
[1516]  train-rmse:0.023419 
[1517]  train-rmse:0.023389 
[1518]  train-rmse:0.023375 
[1519]  train-rmse:0.023337 
[1520]  train-rmse:0.023311 
[1521]  train-rmse:0.023292 
[1522]  train-rmse:0.023285 
[1523]  train-rmse:0.023258 
[1524]  train-rmse:0.023235 
[1525]  train-rmse:0.023237 
[1526]  train-rmse:0.023224 
[1527]  train-rmse:0.023203 
[1528]  train-rmse:0.023187 
[1529]  train-rmse:0.023167 
[1530]  train-rmse:0.023164 
[1531]  train-rmse:0.023151 
[1532]  train-rmse:0.023136 
[1533]  train-rmse:0.023123 
[1534]  train-rmse:0.023111 
[1535]  train-rmse:0.023075 
[1536]  train-rmse:0.023063 
[1537]  train-rmse:0.023049 
[1538]  train-rmse:0.023031 
[1539]  train-rmse:0.023011 
[1540]  train-rmse:0.022980 
[1541]  train-rmse:0.022956 
[1542]  train-rmse:0.022947 
[1543]  train-rmse:0.022936 
[1544]  train-rmse:0.022909 
[1545]  train-rmse:0.022897 
[1546]  train-rmse:0.022878 
[1547]  train-rmse:0.022865 
[1548]  train-rmse:0.022857 
[1549]  train-rmse:0.022830 
[1550]  train-rmse:0.022810 
[1551]  train-rmse:0.022789 
[1552]  train-rmse:0.022765 
[1553]  train-rmse:0.022734 
[1554]  train-rmse:0.022712 
[1555]  train-rmse:0.022682 
[1556]  train-rmse:0.022672 
[1557]  train-rmse:0.022656 
[1558]  train-rmse:0.022644 
[1559]  train-rmse:0.022626 
[1560]  train-rmse:0.022608 
[1561]  train-rmse:0.022587 
[1562]  train-rmse:0.022568 
[1563]  train-rmse:0.022538 
[1564]  train-rmse:0.022514 
[1565]  train-rmse:0.022495 
[1566]  train-rmse:0.022473 
[1567]  train-rmse:0.022445 
[1568]  train-rmse:0.022423 
[1569]  train-rmse:0.022399 
[1570]  train-rmse:0.022380 
[1571]  train-rmse:0.022379 
[1572]  train-rmse:0.022352 
[1573]  train-rmse:0.022321 
[1574]  train-rmse:0.022293 
[1575]  train-rmse:0.022283 
[1576]  train-rmse:0.022275 
[1577]  train-rmse:0.022254 
[1578]  train-rmse:0.022236 
[1579]  train-rmse:0.022219 
[1580]  train-rmse:0.022178 
[1581]  train-rmse:0.022156 
[1582]  train-rmse:0.022126 
[1583]  train-rmse:0.022101 
[1584]  train-rmse:0.022081 
[1585]  train-rmse:0.022066 
[1586]  train-rmse:0.022041 
[1587]  train-rmse:0.022016 
[1588]  train-rmse:0.021983 
[1589]  train-rmse:0.021974 
[1590]  train-rmse:0.021956 
[1591]  train-rmse:0.021940 
[1592]  train-rmse:0.021928 
[1593]  train-rmse:0.021919 
[1594]  train-rmse:0.021911 
[1595]  train-rmse:0.021883 
[1596]  train-rmse:0.021858 
[1597]  train-rmse:0.021836 
[1598]  train-rmse:0.021814 
[1599]  train-rmse:0.021803 
[1600]  train-rmse:0.021787 
[1601]  train-rmse:0.021788 
[1602]  train-rmse:0.021759 
[1603]  train-rmse:0.021748 
[1604]  train-rmse:0.021730 
[1605]  train-rmse:0.021707 
[1606]  train-rmse:0.021711 
[1607]  train-rmse:0.021695 
[1608]  train-rmse:0.021685 
[1609]  train-rmse:0.021672 
[1610]  train-rmse:0.021653 
[1611]  train-rmse:0.021629 
[1612]  train-rmse:0.021625 
[1613]  train-rmse:0.021599 
[1614]  train-rmse:0.021570 
[1615]  train-rmse:0.021543 
[1616]  train-rmse:0.021518 
[1617]  train-rmse:0.021522 
[1618]  train-rmse:0.021502 
[1619]  train-rmse:0.021485 
[1620]  train-rmse:0.021473 
[1621]  train-rmse:0.021464 
[1622]  train-rmse:0.021450 
[1623]  train-rmse:0.021428 
[1624]  train-rmse:0.021411 
[1625]  train-rmse:0.021393 
[1626]  train-rmse:0.021368 
[1627]  train-rmse:0.021350 
[1628]  train-rmse:0.021347 
[1629]  train-rmse:0.021328 
[1630]  train-rmse:0.021310 
[1631]  train-rmse:0.021302 
[1632]  train-rmse:0.021289 
[1633]  train-rmse:0.021273 
[1634]  train-rmse:0.021278 
[1635]  train-rmse:0.021268 
[1636]  train-rmse:0.021252 
[1637]  train-rmse:0.021238 
[1638]  train-rmse:0.021226 
[1639]  train-rmse:0.021210 
[1640]  train-rmse:0.021203 
[1641]  train-rmse:0.021189 
[1642]  train-rmse:0.021164 
[1643]  train-rmse:0.021153 
[1644]  train-rmse:0.021122 
[1645]  train-rmse:0.021107 
[1646]  train-rmse:0.021087 
[1647]  train-rmse:0.021068 
[1648]  train-rmse:0.021055 
[1649]  train-rmse:0.021047 
[1650]  train-rmse:0.021033 
[1651]  train-rmse:0.021037 
[1652]  train-rmse:0.021014 
[1653]  train-rmse:0.021002 
[1654]  train-rmse:0.020983 
[1655]  train-rmse:0.020968 
[1656]  train-rmse:0.020944 
[1657]  train-rmse:0.020933 
[1658]  train-rmse:0.020909 
[1659]  train-rmse:0.020884 
[1660]  train-rmse:0.020874 
[1661]  train-rmse:0.020867 
[1662]  train-rmse:0.020878 
[1663]  train-rmse:0.020863 
[1664]  train-rmse:0.020837 
[1665]  train-rmse:0.020817 
[1666]  train-rmse:0.020804 
[1667]  train-rmse:0.020783 
[1668]  train-rmse:0.020762 
[1669]  train-rmse:0.020740 
[1670]  train-rmse:0.020727 
[1671]  train-rmse:0.020723 
[1672]  train-rmse:0.020710 
[1673]  train-rmse:0.020688 
[1674]  train-rmse:0.020677 
[1675]  train-rmse:0.020657 
[1676]  train-rmse:0.020653 
[1677]  train-rmse:0.020653 
[1678]  train-rmse:0.020627 
[1679]  train-rmse:0.020608 
[1680]  train-rmse:0.020591 
[1681]  train-rmse:0.020566 
[1682]  train-rmse:0.020544 
[1683]  train-rmse:0.020531 
[1684]  train-rmse:0.020515 
[1685]  train-rmse:0.020496 
[1686]  train-rmse:0.020486 
[1687]  train-rmse:0.020470 
[1688]  train-rmse:0.020456 
[1689]  train-rmse:0.020455 
[1690]  train-rmse:0.020433 
[1691]  train-rmse:0.020417 
[1692]  train-rmse:0.020405 
[1693]  train-rmse:0.020391 
[1694]  train-rmse:0.020369 
[1695]  train-rmse:0.020353 
[1696]  train-rmse:0.020335 
[1697]  train-rmse:0.020323 
[1698]  train-rmse:0.020302 
[1699]  train-rmse:0.020291 
[1700]  train-rmse:0.020275 
[1701]  train-rmse:0.020257 
[1702]  train-rmse:0.020245 
[1703]  train-rmse:0.020249 
[1704]  train-rmse:0.020229 
[1705]  train-rmse:0.020214 
[1706]  train-rmse:0.020189 
[1707]  train-rmse:0.020177 
[1708]  train-rmse:0.020167 
[1709]  train-rmse:0.020161 
[1710]  train-rmse:0.020153 
[1711]  train-rmse:0.020145 
[1712]  train-rmse:0.020136 
[1713]  train-rmse:0.020115 
[1714]  train-rmse:0.020104 
[1715]  train-rmse:0.020092 
[1716]  train-rmse:0.020074 
[1717]  train-rmse:0.020056 
[1718]  train-rmse:0.020049 
[1719]  train-rmse:0.020016 
[1720]  train-rmse:0.019997 
[1721]  train-rmse:0.019986 
[1722]  train-rmse:0.019974 
[1723]  train-rmse:0.019974 
[1724]  train-rmse:0.019975 
[1725]  train-rmse:0.019960 
[1726]  train-rmse:0.019942 
[1727]  train-rmse:0.019947 
[1728]  train-rmse:0.019922 
[1729]  train-rmse:0.019912 
[1730]  train-rmse:0.019886 
[1731]  train-rmse:0.019869 
[1732]  train-rmse:0.019849 
[1733]  train-rmse:0.019833 
[1734]  train-rmse:0.019821 
[1735]  train-rmse:0.019811 
[1736]  train-rmse:0.019816 
[1737]  train-rmse:0.019811 
[1738]  train-rmse:0.019791 
[1739]  train-rmse:0.019778 
[1740]  train-rmse:0.019771 
[1741]  train-rmse:0.019759 
[1742]  train-rmse:0.019733 
[1743]  train-rmse:0.019712 
[1744]  train-rmse:0.019701 
[1745]  train-rmse:0.019670 
[1746]  train-rmse:0.019657 
[1747]  train-rmse:0.019617 
[1748]  train-rmse:0.019605 
[1749]  train-rmse:0.019595 
[1750]  train-rmse:0.019598 
[1751]  train-rmse:0.019591 
[1752]  train-rmse:0.019568 
[1753]  train-rmse:0.019559 
[1754]  train-rmse:0.019549 
[1755]  train-rmse:0.019529 
[1756]  train-rmse:0.019525 
[1757]  train-rmse:0.019520 
[1758]  train-rmse:0.019498 
[1759]  train-rmse:0.019498 
[1760]  train-rmse:0.019481 
[1761]  train-rmse:0.019451 
[1762]  train-rmse:0.019436 
[1763]  train-rmse:0.019425 
[1764]  train-rmse:0.019413 
[1765]  train-rmse:0.019397 
[1766]  train-rmse:0.019389 
[1767]  train-rmse:0.019366 
[1768]  train-rmse:0.019346 
[1769]  train-rmse:0.019336 
[1770]  train-rmse:0.019316 
[1771]  train-rmse:0.019284 
[1772]  train-rmse:0.019251 
[1773]  train-rmse:0.019236 
[1774]  train-rmse:0.019217 
[1775]  train-rmse:0.019199 
[1776]  train-rmse:0.019181 
[1777]  train-rmse:0.019164 
[1778]  train-rmse:0.019160 
[1779]  train-rmse:0.019152 
[1780]  train-rmse:0.019142 
[1781]  train-rmse:0.019135 
[1782]  train-rmse:0.019120 
[1783]  train-rmse:0.019103 
[1784]  train-rmse:0.019088 
[1785]  train-rmse:0.019061 
[1786]  train-rmse:0.019051 
[1787]  train-rmse:0.019033 
[1788]  train-rmse:0.019015 
[1789]  train-rmse:0.019002 
[1790]  train-rmse:0.018989 
[1791]  train-rmse:0.018979 
[1792]  train-rmse:0.018976 
[1793]  train-rmse:0.018961 
[1794]  train-rmse:0.018939 
[1795]  train-rmse:0.018919 
[1796]  train-rmse:0.018909 
[1797]  train-rmse:0.018900 
[1798]  train-rmse:0.018886 
[1799]  train-rmse:0.018871 
[1800]  train-rmse:0.018854 
[1801]  train-rmse:0.018835 
[1802]  train-rmse:0.018813 
[1803]  train-rmse:0.018805 
[1804]  train-rmse:0.018783 
[1805]  train-rmse:0.018764 
[1806]  train-rmse:0.018751 
[1807]  train-rmse:0.018740 
[1808]  train-rmse:0.018738 
[1809]  train-rmse:0.018722 
[1810]  train-rmse:0.018717 
[1811]  train-rmse:0.018696 
[1812]  train-rmse:0.018697 
[1813]  train-rmse:0.018686 
[1814]  train-rmse:0.018675 
[1815]  train-rmse:0.018668 
[1816]  train-rmse:0.018645 
[1817]  train-rmse:0.018647 
[1818]  train-rmse:0.018622 
[1819]  train-rmse:0.018619 
[1820]  train-rmse:0.018607 
[1821]  train-rmse:0.018593 
[1822]  train-rmse:0.018578 
[1823]  train-rmse:0.018562 
[1824]  train-rmse:0.018548 
[1825]  train-rmse:0.018529 
[1826]  train-rmse:0.018517 
[1827]  train-rmse:0.018499 
[1828]  train-rmse:0.018492 
[1829]  train-rmse:0.018484 
[1830]  train-rmse:0.018476 
[1831]  train-rmse:0.018466 
[1832]  train-rmse:0.018451 
[1833]  train-rmse:0.018439 
[1834]  train-rmse:0.018413 
[1835]  train-rmse:0.018406 
[1836]  train-rmse:0.018398 
[1837]  train-rmse:0.018373 
[1838]  train-rmse:0.018350 
[1839]  train-rmse:0.018338 
[1840]  train-rmse:0.018326 
[1841]  train-rmse:0.018306 
[1842]  train-rmse:0.018291 
[1843]  train-rmse:0.018281 
[1844]  train-rmse:0.018272 
[1845]  train-rmse:0.018259 
[1846]  train-rmse:0.018240 
[1847]  train-rmse:0.018263 
[1848]  train-rmse:0.018244 
[1849]  train-rmse:0.018233 
[1850]  train-rmse:0.018217 
[1851]  train-rmse:0.018218 
[1852]  train-rmse:0.018203 
[1853]  train-rmse:0.018192 
[1854]  train-rmse:0.018183 
[1855]  train-rmse:0.018165 
[1856]  train-rmse:0.018161 
[1857]  train-rmse:0.018147 
[1858]  train-rmse:0.018141 
[1859]  train-rmse:0.018137 
[1860]  train-rmse:0.018120 
[1861]  train-rmse:0.018102 
[1862]  train-rmse:0.018084 
[1863]  train-rmse:0.018062 
[1864]  train-rmse:0.018038 
[1865]  train-rmse:0.018030 
[1866]  train-rmse:0.018026 
[1867]  train-rmse:0.018025 
[1868]  train-rmse:0.018007 
[1869]  train-rmse:0.017996 
[1870]  train-rmse:0.017997 
[1871]  train-rmse:0.017986 
[1872]  train-rmse:0.017963 
[1873]  train-rmse:0.017955 
[1874]  train-rmse:0.017936 
[1875]  train-rmse:0.017939 
[1876]  train-rmse:0.017926 
[1877]  train-rmse:0.017910 
[1878]  train-rmse:0.017882 
[1879]  train-rmse:0.017869 
[1880]  train-rmse:0.017860 
[1881]  train-rmse:0.017841 
[1882]  train-rmse:0.017836 
[1883]  train-rmse:0.017822 
[1884]  train-rmse:0.017817 
[1885]  train-rmse:0.017808 
[1886]  train-rmse:0.017793 
[1887]  train-rmse:0.017784 
[1888]  train-rmse:0.017775 
[1889]  train-rmse:0.017763 
[1890]  train-rmse:0.017753 
[1891]  train-rmse:0.017737 
[1892]  train-rmse:0.017728 
[1893]  train-rmse:0.017721 
[1894]  train-rmse:0.017698 
[1895]  train-rmse:0.017685 
[1896]  train-rmse:0.017683 
[1897]  train-rmse:0.017655 
[1898]  train-rmse:0.017637 
[1899]  train-rmse:0.017624 
[1900]  train-rmse:0.017603 
[1901]  train-rmse:0.017588 
[1902]  train-rmse:0.017578 
[1903]  train-rmse:0.017559 
[1904]  train-rmse:0.017546 
[1905]  train-rmse:0.017537 
[1906]  train-rmse:0.017530 
[1907]  train-rmse:0.017519 
[1908]  train-rmse:0.017512 
[1909]  train-rmse:0.017496 
[1910]  train-rmse:0.017485 
[1911]  train-rmse:0.017470 
[1912]  train-rmse:0.017459 
[1913]  train-rmse:0.017437 
[1914]  train-rmse:0.017425 
[1915]  train-rmse:0.017408 
[1916]  train-rmse:0.017386 
[1917]  train-rmse:0.017378 
[1918]  train-rmse:0.017360 
[1919]  train-rmse:0.017345 
[1920]  train-rmse:0.017333 
[1921]  train-rmse:0.017322 
[1922]  train-rmse:0.017305 
[1923]  train-rmse:0.017282 
[1924]  train-rmse:0.017272 
[1925]  train-rmse:0.017264 
[1926]  train-rmse:0.017248 
[1927]  train-rmse:0.017235 
[1928]  train-rmse:0.017232 
[1929]  train-rmse:0.017211 
[1930]  train-rmse:0.017200 
[1931]  train-rmse:0.017181 
[1932]  train-rmse:0.017163 
[1933]  train-rmse:0.017153 
[1934]  train-rmse:0.017146 
[1935]  train-rmse:0.017127 
[1936]  train-rmse:0.017116 
[1937]  train-rmse:0.017106 
[1938]  train-rmse:0.017100 
[1939]  train-rmse:0.017080 
[1940]  train-rmse:0.017074 
[1941]  train-rmse:0.017064 
[1942]  train-rmse:0.017058 
[1943]  train-rmse:0.017033 
[1944]  train-rmse:0.017033 
[1945]  train-rmse:0.017015 
[1946]  train-rmse:0.017000 
[1947]  train-rmse:0.016989 
[1948]  train-rmse:0.016979 
[1949]  train-rmse:0.016973 
[1950]  train-rmse:0.016972 
[1951]  train-rmse:0.016962 
[1952]  train-rmse:0.016953 
[1953]  train-rmse:0.016941 
[1954]  train-rmse:0.016934 
[1955]  train-rmse:0.016925 
[1956]  train-rmse:0.016912 
[1957]  train-rmse:0.016901 
[1958]  train-rmse:0.016884 
[1959]  train-rmse:0.016879 
[1960]  train-rmse:0.016876 
[1961]  train-rmse:0.016861 
[1962]  train-rmse:0.016850 
[1963]  train-rmse:0.016843 
[1964]  train-rmse:0.016804 
[1965]  train-rmse:0.016798 
[1966]  train-rmse:0.016774 
[1967]  train-rmse:0.016764 
[1968]  train-rmse:0.016748 
[1969]  train-rmse:0.016737 
[1970]  train-rmse:0.016719 
[1971]  train-rmse:0.016724 
[1972]  train-rmse:0.016707 
[1973]  train-rmse:0.016695 
[1974]  train-rmse:0.016698 
[1975]  train-rmse:0.016686 
[1976]  train-rmse:0.016676 
[1977]  train-rmse:0.016669 
[1978]  train-rmse:0.016658 
[1979]  train-rmse:0.016643 
[1980]  train-rmse:0.016614 
[1981]  train-rmse:0.016602 
[1982]  train-rmse:0.016580 
[1983]  train-rmse:0.016574 
[1984]  train-rmse:0.016569 
[1985]  train-rmse:0.016567 
[1986]  train-rmse:0.016557 
[1987]  train-rmse:0.016563 
[1988]  train-rmse:0.016556 
[1989]  train-rmse:0.016546 
[1990]  train-rmse:0.016531 
[1991]  train-rmse:0.016518 
[1992]  train-rmse:0.016497 
[1993]  train-rmse:0.016487 
[1994]  train-rmse:0.016474 
[1995]  train-rmse:0.016469 
[1996]  train-rmse:0.016455 
[1997]  train-rmse:0.016442 
[1998]  train-rmse:0.016419 
[1999]  train-rmse:0.016409 
[2000]  train-rmse:0.016397 
[2001]  train-rmse:0.016379 
[2002]  train-rmse:0.016384 
[2003]  train-rmse:0.016378 
[2004]  train-rmse:0.016352 
[2005]  train-rmse:0.016339 
[2006]  train-rmse:0.016325 
[2007]  train-rmse:0.016315 
[2008]  train-rmse:0.016304 
[2009]  train-rmse:0.016298 
[2010]  train-rmse:0.016281 
[2011]  train-rmse:0.016274 
[2012]  train-rmse:0.016267 
[2013]  train-rmse:0.016251 
[2014]  train-rmse:0.016244 
[2015]  train-rmse:0.016235 
[2016]  train-rmse:0.016238 
[2017]  train-rmse:0.016229 
[2018]  train-rmse:0.016208 
[2019]  train-rmse:0.016199 
[2020]  train-rmse:0.016192 
[2021]  train-rmse:0.016188 
[2022]  train-rmse:0.016169 
[2023]  train-rmse:0.016159 
[2024]  train-rmse:0.016164 
[2025]  train-rmse:0.016150 
[2026]  train-rmse:0.016141 
[2027]  train-rmse:0.016136 
[2028]  train-rmse:0.016122 
[2029]  train-rmse:0.016111 
[2030]  train-rmse:0.016102 
[2031]  train-rmse:0.016090 
[2032]  train-rmse:0.016075 
[2033]  train-rmse:0.016062 
[2034]  train-rmse:0.016047 
[2035]  train-rmse:0.016034 
[2036]  train-rmse:0.016021 
[2037]  train-rmse:0.016002 
[2038]  train-rmse:0.015991 
[2039]  train-rmse:0.015985 
[2040]  train-rmse:0.015979 
[2041]  train-rmse:0.015963 
[2042]  train-rmse:0.015951 
[2043]  train-rmse:0.015938 
[2044]  train-rmse:0.015923 
[2045]  train-rmse:0.015913 
[2046]  train-rmse:0.015912 
[2047]  train-rmse:0.015906 
[2048]  train-rmse:0.015894 
[2049]  train-rmse:0.015875 
[2050]  train-rmse:0.015866 
[2051]  train-rmse:0.015869 
[2052]  train-rmse:0.015856 
[2053]  train-rmse:0.015841 
[2054]  train-rmse:0.015830 
[2055]  train-rmse:0.015815 
[2056]  train-rmse:0.015810 
[2057]  train-rmse:0.015801 
[2058]  train-rmse:0.015788 
[2059]  train-rmse:0.015777 
[2060]  train-rmse:0.015763 
[2061]  train-rmse:0.015749 
[2062]  train-rmse:0.015740 
[2063]  train-rmse:0.015731 
[2064]  train-rmse:0.015722 
[2065]  train-rmse:0.015709 
[2066]  train-rmse:0.015688 
[2067]  train-rmse:0.015675 
[2068]  train-rmse:0.015664 
[2069]  train-rmse:0.015655 
[2070]  train-rmse:0.015646 
[2071]  train-rmse:0.015635 
[2072]  train-rmse:0.015628 
[2073]  train-rmse:0.015614 
[2074]  train-rmse:0.015607 
[2075]  train-rmse:0.015600 
[2076]  train-rmse:0.015589 
[2077]  train-rmse:0.015582 
[2078]  train-rmse:0.015574 
[2079]  train-rmse:0.015562 
[2080]  train-rmse:0.015550 
[2081]  train-rmse:0.015537 
[2082]  train-rmse:0.015526 
[2083]  train-rmse:0.015510 
[2084]  train-rmse:0.015491 
[2085]  train-rmse:0.015481 
[2086]  train-rmse:0.015468 
[2087]  train-rmse:0.015460 
[2088]  train-rmse:0.015444 
[2089]  train-rmse:0.015431 
[2090]  train-rmse:0.015415 
[2091]  train-rmse:0.015404 
[2092]  train-rmse:0.015389 
[2093]  train-rmse:0.015374 
[2094]  train-rmse:0.015366 
[2095]  train-rmse:0.015371 
[2096]  train-rmse:0.015366 
[2097]  train-rmse:0.015358 
[2098]  train-rmse:0.015350 
[2099]  train-rmse:0.015346 
[2100]  train-rmse:0.015342 
[2101]  train-rmse:0.015328 
[2102]  train-rmse:0.015320 
[2103]  train-rmse:0.015318 
[2104]  train-rmse:0.015299 
[2105]  train-rmse:0.015289 
[2106]  train-rmse:0.015270 
[2107]  train-rmse:0.015253 
[2108]  train-rmse:0.015236 
[2109]  train-rmse:0.015226 
[2110]  train-rmse:0.015214 
[2111]  train-rmse:0.015212 
[2112]  train-rmse:0.015204 
[2113]  train-rmse:0.015193 
[2114]  train-rmse:0.015175 
[2115]  train-rmse:0.015173 
[2116]  train-rmse:0.015160 
[2117]  train-rmse:0.015146 
[2118]  train-rmse:0.015140 
[2119]  train-rmse:0.015127 
[2120]  train-rmse:0.015112 
[2121]  train-rmse:0.015101 
[2122]  train-rmse:0.015099 
[2123]  train-rmse:0.015087 
[2124]  train-rmse:0.015078 
[2125]  train-rmse:0.015068 
[2126]  train-rmse:0.015063 
[2127]  train-rmse:0.015053 
[2128]  train-rmse:0.015042 
[2129]  train-rmse:0.015033 
[2130]  train-rmse:0.015018 
[2131]  train-rmse:0.015009 
[2132]  train-rmse:0.014997 
[2133]  train-rmse:0.014985 
[2134]  train-rmse:0.014973 
[2135]  train-rmse:0.014965 
[2136]  train-rmse:0.014952 
[2137]  train-rmse:0.014940 
[2138]  train-rmse:0.014927 
[2139]  train-rmse:0.014914 
[2140]  train-rmse:0.014904 
[2141]  train-rmse:0.014897 
[2142]  train-rmse:0.014886 
[2143]  train-rmse:0.014877 
[2144]  train-rmse:0.014865 
[2145]  train-rmse:0.014861 
[2146]  train-rmse:0.014849 
[2147]  train-rmse:0.014837 
[2148]  train-rmse:0.014840 
[2149]  train-rmse:0.014826 
[2150]  train-rmse:0.014814 
[2151]  train-rmse:0.014806 
[2152]  train-rmse:0.014794 
[2153]  train-rmse:0.014782 
[2154]  train-rmse:0.014769 
[2155]  train-rmse:0.014761 
[2156]  train-rmse:0.014756 
[2157]  train-rmse:0.014749 
[2158]  train-rmse:0.014741 
[2159]  train-rmse:0.014737 
[2160]  train-rmse:0.014724 
[2161]  train-rmse:0.014716 
[2162]  train-rmse:0.014721 
[2163]  train-rmse:0.014712 
[2164]  train-rmse:0.014700 
[2165]  train-rmse:0.014692 
[2166]  train-rmse:0.014680 
[2167]  train-rmse:0.014665 
[2168]  train-rmse:0.014658 
[2169]  train-rmse:0.014637 
[2170]  train-rmse:0.014625 
[2171]  train-rmse:0.014617 
[2172]  train-rmse:0.014599 
[2173]  train-rmse:0.014589 
[2174]  train-rmse:0.014569 
[2175]  train-rmse:0.014558 
[2176]  train-rmse:0.014545 
[2177]  train-rmse:0.014539 
[2178]  train-rmse:0.014534 
[2179]  train-rmse:0.014520 
[2180]  train-rmse:0.014515 
[2181]  train-rmse:0.014500 
[2182]  train-rmse:0.014489 
[2183]  train-rmse:0.014477 
[2184]  train-rmse:0.014464 
[2185]  train-rmse:0.014456 
[2186]  train-rmse:0.014448 
[2187]  train-rmse:0.014440 
[2188]  train-rmse:0.014435 
[2189]  train-rmse:0.014421 
[2190]  train-rmse:0.014405 
[2191]  train-rmse:0.014387 
[2192]  train-rmse:0.014372 
[2193]  train-rmse:0.014369 
[2194]  train-rmse:0.014359 
[2195]  train-rmse:0.014343 
[2196]  train-rmse:0.014336 
[2197]  train-rmse:0.014323 
[2198]  train-rmse:0.014311 
[2199]  train-rmse:0.014302 
[2200]  train-rmse:0.014302 
[2201]  train-rmse:0.014295 
[2202]  train-rmse:0.014289 
[2203]  train-rmse:0.014278 
[2204]  train-rmse:0.014269 
[2205]  train-rmse:0.014258 
[2206]  train-rmse:0.014262 
[2207]  train-rmse:0.014249 
[2208]  train-rmse:0.014244 
[2209]  train-rmse:0.014230 
[2210]  train-rmse:0.014217 
[2211]  train-rmse:0.014210 
[2212]  train-rmse:0.014208 
[2213]  train-rmse:0.014196 
[2214]  train-rmse:0.014179 
[2215]  train-rmse:0.014170 
[2216]  train-rmse:0.014162 
[2217]  train-rmse:0.014167 
[2218]  train-rmse:0.014157 
[2219]  train-rmse:0.014150 
[2220]  train-rmse:0.014149 
[2221]  train-rmse:0.014136 
[2222]  train-rmse:0.014125 
[2223]  train-rmse:0.014115 
[2224]  train-rmse:0.014110 
[2225]  train-rmse:0.014107 
[2226]  train-rmse:0.014094 
[2227]  train-rmse:0.014082 
[2228]  train-rmse:0.014071 
[2229]  train-rmse:0.014062 
[2230]  train-rmse:0.014045 
[2231]  train-rmse:0.014037 
[2232]  train-rmse:0.014026 
[2233]  train-rmse:0.014027 
[2234]  train-rmse:0.014018 
[2235]  train-rmse:0.014008 
[2236]  train-rmse:0.013994 
[2237]  train-rmse:0.013987 
[2238]  train-rmse:0.013976 
[2239]  train-rmse:0.013970 
[2240]  train-rmse:0.013959 
[2241]  train-rmse:0.013960 
[2242]  train-rmse:0.013951 
[2243]  train-rmse:0.013939 
[2244]  train-rmse:0.013951 
[2245]  train-rmse:0.013952 
[2246]  train-rmse:0.013945 
[2247]  train-rmse:0.013933 
[2248]  train-rmse:0.013929 
[2249]  train-rmse:0.013918 
[2250]  train-rmse:0.013898 
[2251]  train-rmse:0.013886 
[2252]  train-rmse:0.013878 
[2253]  train-rmse:0.013868 
[2254]  train-rmse:0.013862 
[2255]  train-rmse:0.013856 
[2256]  train-rmse:0.013852 
[2257]  train-rmse:0.013843 
[2258]  train-rmse:0.013833 
[2259]  train-rmse:0.013829 
[2260]  train-rmse:0.013826 
[2261]  train-rmse:0.013817 
[2262]  train-rmse:0.013810 
[2263]  train-rmse:0.013789 
[2264]  train-rmse:0.013785 
[2265]  train-rmse:0.013770 
[2266]  train-rmse:0.013757 
[2267]  train-rmse:0.013750 
[2268]  train-rmse:0.013739 
[2269]  train-rmse:0.013729 
[2270]  train-rmse:0.013722 
[2271]  train-rmse:0.013718 
[2272]  train-rmse:0.013705 
[2273]  train-rmse:0.013699 
[2274]  train-rmse:0.013684 
[2275]  train-rmse:0.013679 
[2276]  train-rmse:0.013671 
[2277]  train-rmse:0.013657 
[2278]  train-rmse:0.013646 
[2279]  train-rmse:0.013637 
[2280]  train-rmse:0.013626 
[2281]  train-rmse:0.013621 
[2282]  train-rmse:0.013612 
[2283]  train-rmse:0.013604 
[2284]  train-rmse:0.013593 
[2285]  train-rmse:0.013585 
[2286]  train-rmse:0.013581 
[2287]  train-rmse:0.013573 
[2288]  train-rmse:0.013563 
[2289]  train-rmse:0.013554 
[2290]  train-rmse:0.013547 
[2291]  train-rmse:0.013542 
[2292]  train-rmse:0.013533 
[2293]  train-rmse:0.013524 
[2294]  train-rmse:0.013523 
[2295]  train-rmse:0.013518 
[2296]  train-rmse:0.013510 
[2297]  train-rmse:0.013496 
[2298]  train-rmse:0.013484 
[2299]  train-rmse:0.013478 
[2300]  train-rmse:0.013466 
[2301]  train-rmse:0.013456 
[2302]  train-rmse:0.013445 
[2303]  train-rmse:0.013436 
[2304]  train-rmse:0.013428 
[2305]  train-rmse:0.013412 
[2306]  train-rmse:0.013400 
[2307]  train-rmse:0.013389 
[2308]  train-rmse:0.013383 
[2309]  train-rmse:0.013381 
[2310]  train-rmse:0.013374 
[2311]  train-rmse:0.013364 
[2312]  train-rmse:0.013357 
[2313]  train-rmse:0.013347 
[2314]  train-rmse:0.013342 
[2315]  train-rmse:0.013330 
[2316]  train-rmse:0.013323 
[2317]  train-rmse:0.013308 
[2318]  train-rmse:0.013304 
[2319]  train-rmse:0.013296 
[2320]  train-rmse:0.013289 
[2321]  train-rmse:0.013278 
[2322]  train-rmse:0.013270 
[2323]  train-rmse:0.013260 
[2324]  train-rmse:0.013251 
[2325]  train-rmse:0.013243 
[2326]  train-rmse:0.013241 
[2327]  train-rmse:0.013232 
[2328]  train-rmse:0.013222 
[2329]  train-rmse:0.013222 
[2330]  train-rmse:0.013211 
[2331]  train-rmse:0.013200 
[2332]  train-rmse:0.013197 
[2333]  train-rmse:0.013180 
[2334]  train-rmse:0.013170 
[2335]  train-rmse:0.013155 
[2336]  train-rmse:0.013143 
[2337]  train-rmse:0.013143 
[2338]  train-rmse:0.013137 
[2339]  train-rmse:0.013134 
[2340]  train-rmse:0.013120 
[2341]  train-rmse:0.013112 
[2342]  train-rmse:0.013099 
[2343]  train-rmse:0.013088 
[2344]  train-rmse:0.013073 
[2345]  train-rmse:0.013065 
[2346]  train-rmse:0.013067 
[2347]  train-rmse:0.013064 
[2348]  train-rmse:0.013060 
[2349]  train-rmse:0.013051 
[2350]  train-rmse:0.013040 
[2351]  train-rmse:0.013043 
[2352]  train-rmse:0.013038 
[2353]  train-rmse:0.013030 
[2354]  train-rmse:0.013012 
[2355]  train-rmse:0.013000 
[2356]  train-rmse:0.012991 
[2357]  train-rmse:0.012983 
[2358]  train-rmse:0.012974 
[2359]  train-rmse:0.012961 
[2360]  train-rmse:0.012953 
[2361]  train-rmse:0.012946 
[2362]  train-rmse:0.012931 
[2363]  train-rmse:0.012920 
[2364]  train-rmse:0.012913 
[2365]  train-rmse:0.012899 
[2366]  train-rmse:0.012880 
[2367]  train-rmse:0.012878 
[2368]  train-rmse:0.012869 
[2369]  train-rmse:0.012862 
[2370]  train-rmse:0.012855 
[2371]  train-rmse:0.012848 
[2372]  train-rmse:0.012841 
[2373]  train-rmse:0.012828 
[2374]  train-rmse:0.012816 
[2375]  train-rmse:0.012809 
[2376]  train-rmse:0.012800 
[2377]  train-rmse:0.012801 
[2378]  train-rmse:0.012790 
[2379]  train-rmse:0.012793 
[2380]  train-rmse:0.012788 
[2381]  train-rmse:0.012784 
[2382]  train-rmse:0.012774 
[2383]  train-rmse:0.012765 
[2384]  train-rmse:0.012756 
[2385]  train-rmse:0.012748 
[2386]  train-rmse:0.012748 
[2387]  train-rmse:0.012737 
[2388]  train-rmse:0.012727 
[2389]  train-rmse:0.012712 
[2390]  train-rmse:0.012692 
[2391]  train-rmse:0.012678 
[2392]  train-rmse:0.012673 
[2393]  train-rmse:0.012673 
[2394]  train-rmse:0.012661 
[2395]  train-rmse:0.012661 
[2396]  train-rmse:0.012653 
[2397]  train-rmse:0.012638 
[2398]  train-rmse:0.012622 
[2399]  train-rmse:0.012613 
[2400]  train-rmse:0.012601 
[2401]  train-rmse:0.012592 
[2402]  train-rmse:0.012583 
[2403]  train-rmse:0.012576 
[2404]  train-rmse:0.012579 
[2405]  train-rmse:0.012571 
[2406]  train-rmse:0.012563 
[2407]  train-rmse:0.012561 
[2408]  train-rmse:0.012550 
[2409]  train-rmse:0.012540 
[2410]  train-rmse:0.012539 
[2411]  train-rmse:0.012530 
[2412]  train-rmse:0.012521 
[2413]  train-rmse:0.012513 
[2414]  train-rmse:0.012506 
[2415]  train-rmse:0.012495 
[2416]  train-rmse:0.012485 
[2417]  train-rmse:0.012480 
[2418]  train-rmse:0.012478 
[2419]  train-rmse:0.012467 
[2420]  train-rmse:0.012463 
[2421]  train-rmse:0.012452 
[2422]  train-rmse:0.012446 
[2423]  train-rmse:0.012443 
[2424]  train-rmse:0.012437 
[2425]  train-rmse:0.012431 
[2426]  train-rmse:0.012418 
[2427]  train-rmse:0.012407 
[2428]  train-rmse:0.012398 
[2429]  train-rmse:0.012387 
[2430]  train-rmse:0.012378 
[2431]  train-rmse:0.012365 
[2432]  train-rmse:0.012359 
[2433]  train-rmse:0.012362 
[2434]  train-rmse:0.012359 
[2435]  train-rmse:0.012359 
[2436]  train-rmse:0.012359 
[2437]  train-rmse:0.012346 
[2438]  train-rmse:0.012336 
[2439]  train-rmse:0.012327 
[2440]  train-rmse:0.012320 
[2441]  train-rmse:0.012311 
[2442]  train-rmse:0.012305 
[2443]  train-rmse:0.012298 
[2444]  train-rmse:0.012297 
[2445]  train-rmse:0.012290 
[2446]  train-rmse:0.012278 
[2447]  train-rmse:0.012277 
[2448]  train-rmse:0.012268 
[2449]  train-rmse:0.012257 
[2450]  train-rmse:0.012241 
[2451]  train-rmse:0.012236 
[2452]  train-rmse:0.012243 
[2453]  train-rmse:0.012238 
[2454]  train-rmse:0.012228 
[2455]  train-rmse:0.012226 
[2456]  train-rmse:0.012214 
[2457]  train-rmse:0.012202 
[2458]  train-rmse:0.012198 
[2459]  train-rmse:0.012189 
[2460]  train-rmse:0.012178 
[2461]  train-rmse:0.012171 
[2462]  train-rmse:0.012166 
[2463]  train-rmse:0.012162 
[2464]  train-rmse:0.012151 
[2465]  train-rmse:0.012144 
[2466]  train-rmse:0.012142 
[2467]  train-rmse:0.012129 
[2468]  train-rmse:0.012122 
[2469]  train-rmse:0.012122 
[2470]  train-rmse:0.012113 
[2471]  train-rmse:0.012115 
[2472]  train-rmse:0.012103 
[2473]  train-rmse:0.012093 
[2474]  train-rmse:0.012096 
[2475]  train-rmse:0.012090 
[2476]  train-rmse:0.012090 
[2477]  train-rmse:0.012083 
[2478]  train-rmse:0.012074 
[2479]  train-rmse:0.012064 
[2480]  train-rmse:0.012052 
[2481]  train-rmse:0.012043 
[2482]  train-rmse:0.012038 
[2483]  train-rmse:0.012030 
[2484]  train-rmse:0.012023 
[2485]  train-rmse:0.012014 
[2486]  train-rmse:0.011995 
[2487]  train-rmse:0.011985 
[2488]  train-rmse:0.011984 
[2489]  train-rmse:0.011985 
[2490]  train-rmse:0.011970 
[2491]  train-rmse:0.011957 
[2492]  train-rmse:0.011947 
[2493]  train-rmse:0.011935 
[2494]  train-rmse:0.011922 
[2495]  train-rmse:0.011922 
[2496]  train-rmse:0.011912 
[2497]  train-rmse:0.011909 
[2498]  train-rmse:0.011901 
[2499]  train-rmse:0.011892 
[2500]  train-rmse:0.011887 
[2501]  train-rmse:0.011880 
[2502]  train-rmse:0.011870 
[2503]  train-rmse:0.011860 
[2504]  train-rmse:0.011852 
[2505]  train-rmse:0.011840 
[2506]  train-rmse:0.011826 
[2507]  train-rmse:0.011819 
[2508]  train-rmse:0.011807 
[2509]  train-rmse:0.011800 
[2510]  train-rmse:0.011791 
[2511]  train-rmse:0.011786 
[2512]  train-rmse:0.011777 
[2513]  train-rmse:0.011785 
[2514]  train-rmse:0.011780 
[2515]  train-rmse:0.011788 
[2516]  train-rmse:0.011782 
[2517]  train-rmse:0.011778 
[2518]  train-rmse:0.011774 
[2519]  train-rmse:0.011767 
[2520]  train-rmse:0.011757 
[2521]  train-rmse:0.011752 
[2522]  train-rmse:0.011746 
[2523]  train-rmse:0.011740 
[2524]  train-rmse:0.011725 
[2525]  train-rmse:0.011719 
[2526]  train-rmse:0.011705 
[2527]  train-rmse:0.011701 
[2528]  train-rmse:0.011695 
[2529]  train-rmse:0.011682 
[2530]  train-rmse:0.011680 
[2531]  train-rmse:0.011672 
[2532]  train-rmse:0.011663 
[2533]  train-rmse:0.011649 
[2534]  train-rmse:0.011638 
[2535]  train-rmse:0.011629 
[2536]  train-rmse:0.011622 
[2537]  train-rmse:0.011616 
[2538]  train-rmse:0.011607 
[2539]  train-rmse:0.011601 
[2540]  train-rmse:0.011597 
[2541]  train-rmse:0.011587 
[2542]  train-rmse:0.011578 
[2543]  train-rmse:0.011570 
[2544]  train-rmse:0.011562 
[2545]  train-rmse:0.011552 
[2546]  train-rmse:0.011542 
[2547]  train-rmse:0.011531 
[2548]  train-rmse:0.011523 
[2549]  train-rmse:0.011517 
[2550]  train-rmse:0.011514 
[2551]  train-rmse:0.011505 
[2552]  train-rmse:0.011493 
[2553]  train-rmse:0.011486 
[2554]  train-rmse:0.011478 
[2555]  train-rmse:0.011473 
[2556]  train-rmse:0.011465 
[2557]  train-rmse:0.011457 
[2558]  train-rmse:0.011445 
[2559]  train-rmse:0.011438 
[2560]  train-rmse:0.011428 
[2561]  train-rmse:0.011420 
[2562]  train-rmse:0.011418 
[2563]  train-rmse:0.011409 
[2564]  train-rmse:0.011400 
[2565]  train-rmse:0.011393 
[2566]  train-rmse:0.011383 
[2567]  train-rmse:0.011378 
[2568]  train-rmse:0.011368 
[2569]  train-rmse:0.011357 
[2570]  train-rmse:0.011357 
[2571]  train-rmse:0.011351 
[2572]  train-rmse:0.011344 
[2573]  train-rmse:0.011339 
[2574]  train-rmse:0.011332 
[2575]  train-rmse:0.011327 
[2576]  train-rmse:0.011316 
[2577]  train-rmse:0.011311 
[2578]  train-rmse:0.011306 
[2579]  train-rmse:0.011296 
[2580]  train-rmse:0.011288 
[2581]  train-rmse:0.011283 
[2582]  train-rmse:0.011275 
[2583]  train-rmse:0.011269 
[2584]  train-rmse:0.011261 
[2585]  train-rmse:0.011249 
[2586]  train-rmse:0.011249 
[2587]  train-rmse:0.011237 
[2588]  train-rmse:0.011231 
[2589]  train-rmse:0.011223 
[2590]  train-rmse:0.011214 
[2591]  train-rmse:0.011205 
[2592]  train-rmse:0.011199 
[2593]  train-rmse:0.011190 
[2594]  train-rmse:0.011186 
[2595]  train-rmse:0.011187 
[2596]  train-rmse:0.011178 
[2597]  train-rmse:0.011173 
[2598]  train-rmse:0.011166 
[2599]  train-rmse:0.011164 
[2600]  train-rmse:0.011157 
[2601]  train-rmse:0.011149 
[2602]  train-rmse:0.011148 
[2603]  train-rmse:0.011137 
[2604]  train-rmse:0.011131 
[2605]  train-rmse:0.011127 
[2606]  train-rmse:0.011121 
[2607]  train-rmse:0.011114 
[2608]  train-rmse:0.011112 
[2609]  train-rmse:0.011106 
[2610]  train-rmse:0.011104 
[2611]  train-rmse:0.011093 
[2612]  train-rmse:0.011086 
[2613]  train-rmse:0.011078 
[2614]  train-rmse:0.011072 
[2615]  train-rmse:0.011066 
[2616]  train-rmse:0.011066 
[2617]  train-rmse:0.011056 
[2618]  train-rmse:0.011057 
[2619]  train-rmse:0.011050 
[2620]  train-rmse:0.011050 
[2621]  train-rmse:0.011045 
[2622]  train-rmse:0.011035 
[2623]  train-rmse:0.011036 
[2624]  train-rmse:0.011030 
[2625]  train-rmse:0.011024 
[2626]  train-rmse:0.011013 
[2627]  train-rmse:0.011003 
[2628]  train-rmse:0.010989 
[2629]  train-rmse:0.010983 
[2630]  train-rmse:0.010974 
[2631]  train-rmse:0.010971 
[2632]  train-rmse:0.010974 
[2633]  train-rmse:0.010966 
[2634]  train-rmse:0.010961 
[2635]  train-rmse:0.010956 
[2636]  train-rmse:0.010947 
[2637]  train-rmse:0.010948 
[2638]  train-rmse:0.010934 
[2639]  train-rmse:0.010920 
[2640]  train-rmse:0.010914 
[2641]  train-rmse:0.010911 
[2642]  train-rmse:0.010902 
[2643]  train-rmse:0.010896 
[2644]  train-rmse:0.010893 
[2645]  train-rmse:0.010883 
[2646]  train-rmse:0.010878 
[2647]  train-rmse:0.010867 
[2648]  train-rmse:0.010861 
[2649]  train-rmse:0.010862 
[2650]  train-rmse:0.010861 
[2651]  train-rmse:0.010852 
[2652]  train-rmse:0.010834 
[2653]  train-rmse:0.010828 
[2654]  train-rmse:0.010818 
[2655]  train-rmse:0.010803 
[2656]  train-rmse:0.010795 
[2657]  train-rmse:0.010789 
[2658]  train-rmse:0.010787 
[2659]  train-rmse:0.010786 
[2660]  train-rmse:0.010781 
[2661]  train-rmse:0.010774 
[2662]  train-rmse:0.010767 
[2663]  train-rmse:0.010761 
[2664]  train-rmse:0.010749 
[2665]  train-rmse:0.010741 
[2666]  train-rmse:0.010734 
[2667]  train-rmse:0.010724 
[2668]  train-rmse:0.010717 
[2669]  train-rmse:0.010716 
[2670]  train-rmse:0.010709 
[2671]  train-rmse:0.010697 
[2672]  train-rmse:0.010695 
[2673]  train-rmse:0.010688 
[2674]  train-rmse:0.010675 
[2675]  train-rmse:0.010672 
[2676]  train-rmse:0.010672 
[2677]  train-rmse:0.010660 
[2678]  train-rmse:0.010651 
[2679]  train-rmse:0.010641 
[2680]  train-rmse:0.010633 
[2681]  train-rmse:0.010629 
[2682]  train-rmse:0.010619 
[2683]  train-rmse:0.010612 
[2684]  train-rmse:0.010605 
[2685]  train-rmse:0.010607 
[2686]  train-rmse:0.010598 
[2687]  train-rmse:0.010592 
[2688]  train-rmse:0.010580 
[2689]  train-rmse:0.010575 
[2690]  train-rmse:0.010569 
[2691]  train-rmse:0.010564 
[2692]  train-rmse:0.010560 
[2693]  train-rmse:0.010549 
[2694]  train-rmse:0.010547 
[2695]  train-rmse:0.010540 
[2696]  train-rmse:0.010541 
[2697]  train-rmse:0.010538 
[2698]  train-rmse:0.010531 
[2699]  train-rmse:0.010525 
[2700]  train-rmse:0.010517 
[2701]  train-rmse:0.010510 
[2702]  train-rmse:0.010505 
[2703]  train-rmse:0.010495 
[2704]  train-rmse:0.010495 
[2705]  train-rmse:0.010491 
[2706]  train-rmse:0.010483 
[2707]  train-rmse:0.010477 
[2708]  train-rmse:0.010468 
[2709]  train-rmse:0.010456 
[2710]  train-rmse:0.010452 
[2711]  train-rmse:0.010440 
[2712]  train-rmse:0.010436 
[2713]  train-rmse:0.010429 
[2714]  train-rmse:0.010425 
[2715]  train-rmse:0.010420 
[2716]  train-rmse:0.010412 
[2717]  train-rmse:0.010401 
[2718]  train-rmse:0.010395 
[2719]  train-rmse:0.010389 
[2720]  train-rmse:0.010380 
[2721]  train-rmse:0.010372 
[2722]  train-rmse:0.010366 
[2723]  train-rmse:0.010357 
[2724]  train-rmse:0.010348 
[2725]  train-rmse:0.010343 
[2726]  train-rmse:0.010334 
[2727]  train-rmse:0.010334 
[2728]  train-rmse:0.010327 
[2729]  train-rmse:0.010315 
[2730]  train-rmse:0.010305 
[2731]  train-rmse:0.010301 
[2732]  train-rmse:0.010292 
[2733]  train-rmse:0.010279 
[2734]  train-rmse:0.010273 
[2735]  train-rmse:0.010269 
[2736]  train-rmse:0.010262 
[2737]  train-rmse:0.010257 
[2738]  train-rmse:0.010250 
[2739]  train-rmse:0.010250 
[2740]  train-rmse:0.010242 
[2741]  train-rmse:0.010236 
[2742]  train-rmse:0.010238 
[2743]  train-rmse:0.010228 
[2744]  train-rmse:0.010218 
[2745]  train-rmse:0.010216 
[2746]  train-rmse:0.010207 
[2747]  train-rmse:0.010199 
[2748]  train-rmse:0.010190 
[2749]  train-rmse:0.010182 
[2750]  train-rmse:0.010178 
[2751]  train-rmse:0.010171 
[2752]  train-rmse:0.010166 
[2753]  train-rmse:0.010156 
[2754]  train-rmse:0.010148 
[2755]  train-rmse:0.010140 
[2756]  train-rmse:0.010136 
[2757]  train-rmse:0.010128 
[2758]  train-rmse:0.010122 
[2759]  train-rmse:0.010118 
[2760]  train-rmse:0.010114 
[2761]  train-rmse:0.010107 
[2762]  train-rmse:0.010107 
[2763]  train-rmse:0.010101 
[2764]  train-rmse:0.010104 
[2765]  train-rmse:0.010093 
[2766]  train-rmse:0.010083 
[2767]  train-rmse:0.010082 
[2768]  train-rmse:0.010071 
[2769]  train-rmse:0.010066 
[2770]  train-rmse:0.010053 
[2771]  train-rmse:0.010044 
[2772]  train-rmse:0.010041 
[2773]  train-rmse:0.010034 
[2774]  train-rmse:0.010023 
[2775]  train-rmse:0.010021 
[2776]  train-rmse:0.010014 
[2777]  train-rmse:0.009996 
[2778]  train-rmse:0.009995 
[2779]  train-rmse:0.009984 
[2780]  train-rmse:0.009980 
[2781]  train-rmse:0.009974 
[2782]  train-rmse:0.009966 
[2783]  train-rmse:0.009962 
[2784]  train-rmse:0.009958 
[2785]  train-rmse:0.009952 
[2786]  train-rmse:0.009944 
[2787]  train-rmse:0.009940 
[2788]  train-rmse:0.009930 
[2789]  train-rmse:0.009925 
[2790]  train-rmse:0.009921 
[2791]  train-rmse:0.009912 
[2792]  train-rmse:0.009896 
[2793]  train-rmse:0.009895 
[2794]  train-rmse:0.009886 
[2795]  train-rmse:0.009884 
[2796]  train-rmse:0.009877 
[2797]  train-rmse:0.009879 
[2798]  train-rmse:0.009872 
[2799]  train-rmse:0.009863 
[2800]  train-rmse:0.009857 
[2801]  train-rmse:0.009854 
[2802]  train-rmse:0.009845 
[2803]  train-rmse:0.009833 
[2804]  train-rmse:0.009828 
[2805]  train-rmse:0.009824 
[2806]  train-rmse:0.009819 
[2807]  train-rmse:0.009813 
[2808]  train-rmse:0.009803 
[2809]  train-rmse:0.009796 
[2810]  train-rmse:0.009787 
[2811]  train-rmse:0.009780 
[2812]  train-rmse:0.009776 
[2813]  train-rmse:0.009772 
[2814]  train-rmse:0.009762 
[2815]  train-rmse:0.009752 
[2816]  train-rmse:0.009747 
[2817]  train-rmse:0.009738 
[2818]  train-rmse:0.009730 
[2819]  train-rmse:0.009723 
[2820]  train-rmse:0.009712 
[2821]  train-rmse:0.009704 
[2822]  train-rmse:0.009698 
[2823]  train-rmse:0.009693 
[2824]  train-rmse:0.009685 
[2825]  train-rmse:0.009680 
[2826]  train-rmse:0.009671 
[2827]  train-rmse:0.009662 
[2828]  train-rmse:0.009656 
[2829]  train-rmse:0.009654 
[2830]  train-rmse:0.009654 
[2831]  train-rmse:0.009649 
[2832]  train-rmse:0.009648 
[2833]  train-rmse:0.009643 
[2834]  train-rmse:0.009634 
[2835]  train-rmse:0.009631 
[2836]  train-rmse:0.009627 
[2837]  train-rmse:0.009618 
[2838]  train-rmse:0.009613 
[2839]  train-rmse:0.009602 
[2840]  train-rmse:0.009604 
[2841]  train-rmse:0.009599 
[2842]  train-rmse:0.009592 
[2843]  train-rmse:0.009583 
[2844]  train-rmse:0.009578 
[2845]  train-rmse:0.009571 
[2846]  train-rmse:0.009564 
[2847]  train-rmse:0.009556 
[2848]  train-rmse:0.009552 
[2849]  train-rmse:0.009545 
[2850]  train-rmse:0.009540 
[2851]  train-rmse:0.009536 
[2852]  train-rmse:0.009529 
[2853]  train-rmse:0.009520 
[2854]  train-rmse:0.009512 
[2855]  train-rmse:0.009503 
[2856]  train-rmse:0.009494 
[2857]  train-rmse:0.009488 
[2858]  train-rmse:0.009480 
[2859]  train-rmse:0.009470 
[2860]  train-rmse:0.009470 
[2861]  train-rmse:0.009462 
[2862]  train-rmse:0.009457 
[2863]  train-rmse:0.009450 
[2864]  train-rmse:0.009441 
[2865]  train-rmse:0.009432 
[2866]  train-rmse:0.009429 
[2867]  train-rmse:0.009423 
[2868]  train-rmse:0.009421 
[2869]  train-rmse:0.009412 
[2870]  train-rmse:0.009407 
[2871]  train-rmse:0.009402 
[2872]  train-rmse:0.009395 
[2873]  train-rmse:0.009392 
[2874]  train-rmse:0.009387 
[2875]  train-rmse:0.009378 
[2876]  train-rmse:0.009369 
[2877]  train-rmse:0.009360 
[2878]  train-rmse:0.009353 
[2879]  train-rmse:0.009344 
[2880]  train-rmse:0.009338 
[2881]  train-rmse:0.009331 
[2882]  train-rmse:0.009330 
[2883]  train-rmse:0.009328 
[2884]  train-rmse:0.009328 
[2885]  train-rmse:0.009328 
[2886]  train-rmse:0.009323 
[2887]  train-rmse:0.009320 
[2888]  train-rmse:0.009314 
[2889]  train-rmse:0.009311 
[2890]  train-rmse:0.009301 
[2891]  train-rmse:0.009295 
[2892]  train-rmse:0.009287 
[2893]  train-rmse:0.009280 
[2894]  train-rmse:0.009270 
[2895]  train-rmse:0.009266 
[2896]  train-rmse:0.009263 
[2897]  train-rmse:0.009256 
[2898]  train-rmse:0.009251 
[2899]  train-rmse:0.009241 
[2900]  train-rmse:0.009234 
[2901]  train-rmse:0.009230 
[2902]  train-rmse:0.009223 
[2903]  train-rmse:0.009216 
[2904]  train-rmse:0.009210 
[2905]  train-rmse:0.009201 
[2906]  train-rmse:0.009192 
[2907]  train-rmse:0.009187 
[2908]  train-rmse:0.009185 
[2909]  train-rmse:0.009182 
[2910]  train-rmse:0.009172 
[2911]  train-rmse:0.009161 
[2912]  train-rmse:0.009157 
[2913]  train-rmse:0.009152 
[2914]  train-rmse:0.009145 
[2915]  train-rmse:0.009137 
[2916]  train-rmse:0.009138 
[2917]  train-rmse:0.009131 
[2918]  train-rmse:0.009123 
[2919]  train-rmse:0.009118 
[2920]  train-rmse:0.009110 
[2921]  train-rmse:0.009105 
[2922]  train-rmse:0.009110 
[2923]  train-rmse:0.009106 
[2924]  train-rmse:0.009100 
[2925]  train-rmse:0.009090 
[2926]  train-rmse:0.009081 
[2927]  train-rmse:0.009076 
[2928]  train-rmse:0.009076 
[2929]  train-rmse:0.009069 
[2930]  train-rmse:0.009069 
[2931]  train-rmse:0.009064 
[2932]  train-rmse:0.009056 
[2933]  train-rmse:0.009053 
[2934]  train-rmse:0.009048 
[2935]  train-rmse:0.009040 
[2936]  train-rmse:0.009030 
[2937]  train-rmse:0.009028 
[2938]  train-rmse:0.009023 
[2939]  train-rmse:0.009023 
[2940]  train-rmse:0.009021 
[2941]  train-rmse:0.009020 
[2942]  train-rmse:0.009008 
[2943]  train-rmse:0.009006 
[2944]  train-rmse:0.009002 
[2945]  train-rmse:0.008995 
[2946]  train-rmse:0.008992 
[2947]  train-rmse:0.008985 
[2948]  train-rmse:0.008979 
[2949]  train-rmse:0.008972 
[2950]  train-rmse:0.008966 
[2951]  train-rmse:0.008965 
[2952]  train-rmse:0.008955 
[2953]  train-rmse:0.008951 
[2954]  train-rmse:0.008944 
[2955]  train-rmse:0.008942 
[2956]  train-rmse:0.008935 
[2957]  train-rmse:0.008929 
[2958]  train-rmse:0.008932 
[2959]  train-rmse:0.008921 
[2960]  train-rmse:0.008916 
[2961]  train-rmse:0.008906 
[2962]  train-rmse:0.008900 
[2963]  train-rmse:0.008898 
[2964]  train-rmse:0.008892 
[2965]  train-rmse:0.008884 
[2966]  train-rmse:0.008875 
[2967]  train-rmse:0.008867 
[2968]  train-rmse:0.008863 
[2969]  train-rmse:0.008868 
[2970]  train-rmse:0.008871 
[2971]  train-rmse:0.008864 
[2972]  train-rmse:0.008861 
[2973]  train-rmse:0.008855 
[2974]  train-rmse:0.008848 
[2975]  train-rmse:0.008839 
[2976]  train-rmse:0.008836 
[2977]  train-rmse:0.008833 
[2978]  train-rmse:0.008832 
[2979]  train-rmse:0.008824 
[2980]  train-rmse:0.008818 
[2981]  train-rmse:0.008812 
[2982]  train-rmse:0.008806 
[2983]  train-rmse:0.008797 
[2984]  train-rmse:0.008791 
[2985]  train-rmse:0.008783 
[2986]  train-rmse:0.008778 
[2987]  train-rmse:0.008774 
[2988]  train-rmse:0.008771 
[2989]  train-rmse:0.008764 
[2990]  train-rmse:0.008761 
[2991]  train-rmse:0.008755 
[2992]  train-rmse:0.008746 
[2993]  train-rmse:0.008743 
[2994]  train-rmse:0.008735 
[2995]  train-rmse:0.008726 
[2996]  train-rmse:0.008720 
[2997]  train-rmse:0.008721 
[2998]  train-rmse:0.008717 
[2999]  train-rmse:0.008712 
[3000]  train-rmse:0.008708 
[3001]  train-rmse:0.008701 
[3002]  train-rmse:0.008693 
[3003]  train-rmse:0.008686 
[3004]  train-rmse:0.008684 
[3005]  train-rmse:0.008680 
[3006]  train-rmse:0.008677 
[3007]  train-rmse:0.008671 
[3008]  train-rmse:0.008666 
[3009]  train-rmse:0.008663 
[3010]  train-rmse:0.008658 
[3011]  train-rmse:0.008652 
[3012]  train-rmse:0.008649 
[3013]  train-rmse:0.008637 
[3014]  train-rmse:0.008628 
[3015]  train-rmse:0.008629 
[3016]  train-rmse:0.008622 
[3017]  train-rmse:0.008614 
[3018]  train-rmse:0.008605 
[3019]  train-rmse:0.008598 
[3020]  train-rmse:0.008599 
[3021]  train-rmse:0.008589 
[3022]  train-rmse:0.008587 
[3023]  train-rmse:0.008588 
[3024]  train-rmse:0.008581 
[3025]  train-rmse:0.008573 
[3026]  train-rmse:0.008570 
[3027]  train-rmse:0.008567 
[3028]  train-rmse:0.008560 
[3029]  train-rmse:0.008556 
[3030]  train-rmse:0.008549 
[3031]  train-rmse:0.008545 
[3032]  train-rmse:0.008547 
[3033]  train-rmse:0.008535 
[3034]  train-rmse:0.008528 
[3035]  train-rmse:0.008519 
[3036]  train-rmse:0.008514 
[3037]  train-rmse:0.008510 
[3038]  train-rmse:0.008505 
[3039]  train-rmse:0.008499 
[3040]  train-rmse:0.008496 
[3041]  train-rmse:0.008492 
[3042]  train-rmse:0.008490 
[3043]  train-rmse:0.008483 
[3044]  train-rmse:0.008481 
[3045]  train-rmse:0.008472 
[3046]  train-rmse:0.008467 
[3047]  train-rmse:0.008463 
[3048]  train-rmse:0.008461 
[3049]  train-rmse:0.008458 
[3050]  train-rmse:0.008449 
[3051]  train-rmse:0.008441 
[3052]  train-rmse:0.008433 
[3053]  train-rmse:0.008424 
[3054]  train-rmse:0.008420 
[3055]  train-rmse:0.008411 
[3056]  train-rmse:0.008413 
[3057]  train-rmse:0.008415 
[3058]  train-rmse:0.008406 
[3059]  train-rmse:0.008401 
[3060]  train-rmse:0.008399 
[3061]  train-rmse:0.008393 
[3062]  train-rmse:0.008390 
[3063]  train-rmse:0.008386 
[3064]  train-rmse:0.008376 
[3065]  train-rmse:0.008366 
[3066]  train-rmse:0.008365 
[3067]  train-rmse:0.008358 
[3068]  train-rmse:0.008355 
[3069]  train-rmse:0.008348 
[3070]  train-rmse:0.008341 
[3071]  train-rmse:0.008334 
[3072]  train-rmse:0.008328 
[3073]  train-rmse:0.008318 
[3074]  train-rmse:0.008312 
[3075]  train-rmse:0.008304 
[3076]  train-rmse:0.008300 
[3077]  train-rmse:0.008291 
[3078]  train-rmse:0.008289 
[3079]  train-rmse:0.008290 
[3080]  train-rmse:0.008286 
[3081]  train-rmse:0.008276 
[3082]  train-rmse:0.008269 
[3083]  train-rmse:0.008261 
[3084]  train-rmse:0.008253 
[3085]  train-rmse:0.008251 
[3086]  train-rmse:0.008244 
[3087]  train-rmse:0.008235 
[3088]  train-rmse:0.008230 
[3089]  train-rmse:0.008225 
[3090]  train-rmse:0.008220 
[3091]  train-rmse:0.008215 
[3092]  train-rmse:0.008210 
[3093]  train-rmse:0.008208 
[3094]  train-rmse:0.008199 
[3095]  train-rmse:0.008192 
[3096]  train-rmse:0.008184 
[3097]  train-rmse:0.008183 
[3098]  train-rmse:0.008178 
[3099]  train-rmse:0.008171 
[3100]  train-rmse:0.008167 
[3101]  train-rmse:0.008165 
[3102]  train-rmse:0.008160 
[3103]  train-rmse:0.008159 
[3104]  train-rmse:0.008153 
[3105]  train-rmse:0.008144 
[3106]  train-rmse:0.008142 
[3107]  train-rmse:0.008141 
[3108]  train-rmse:0.008135 
[3109]  train-rmse:0.008127 
[3110]  train-rmse:0.008120 
[3111]  train-rmse:0.008112 
[3112]  train-rmse:0.008107 
[3113]  train-rmse:0.008104 
[3114]  train-rmse:0.008097 
[3115]  train-rmse:0.008090 
[3116]  train-rmse:0.008084 
[3117]  train-rmse:0.008080 
[3118]  train-rmse:0.008074 
[3119]  train-rmse:0.008069 
[3120]  train-rmse:0.008065 
[3121]  train-rmse:0.008062 
[3122]  train-rmse:0.008060 
[3123]  train-rmse:0.008055 
[3124]  train-rmse:0.008050 
[3125]  train-rmse:0.008048 
[3126]  train-rmse:0.008045 
[3127]  train-rmse:0.008036 
[3128]  train-rmse:0.008035 
[3129]  train-rmse:0.008029 
[3130]  train-rmse:0.008029 
[3131]  train-rmse:0.008024 
[3132]  train-rmse:0.008019 
[3133]  train-rmse:0.008015 
[3134]  train-rmse:0.008016 
[3135]  train-rmse:0.008016 
[3136]  train-rmse:0.008012 
[3137]  train-rmse:0.008003 
[3138]  train-rmse:0.007996 
[3139]  train-rmse:0.007993 
[3140]  train-rmse:0.007991 
[3141]  train-rmse:0.007984 
[3142]  train-rmse:0.007979 
[3143]  train-rmse:0.007972 
[3144]  train-rmse:0.007968 
[3145]  train-rmse:0.007962 
[3146]  train-rmse:0.007958 
[3147]  train-rmse:0.007952 
[3148]  train-rmse:0.007944 
[3149]  train-rmse:0.007940 
[3150]  train-rmse:0.007935 
[3151]  train-rmse:0.007931 
[3152]  train-rmse:0.007925 
[3153]  train-rmse:0.007925 
[3154]  train-rmse:0.007913 
[3155]  train-rmse:0.007906 
[3156]  train-rmse:0.007899 
[3157]  train-rmse:0.007893 
[3158]  train-rmse:0.007887 
[3159]  train-rmse:0.007880 
[3160]  train-rmse:0.007874 
[3161]  train-rmse:0.007871 
[3162]  train-rmse:0.007867 
[3163]  train-rmse:0.007864 
[3164]  train-rmse:0.007855 
[3165]  train-rmse:0.007850 
[3166]  train-rmse:0.007839 
[3167]  train-rmse:0.007832 
[3168]  train-rmse:0.007830 
[3169]  train-rmse:0.007826 
[3170]  train-rmse:0.007820 
[3171]  train-rmse:0.007819 
[3172]  train-rmse:0.007816 
[3173]  train-rmse:0.007810 
[3174]  train-rmse:0.007804 
[3175]  train-rmse:0.007799 
[3176]  train-rmse:0.007792 
[3177]  train-rmse:0.007788 
[3178]  train-rmse:0.007783 
[3179]  train-rmse:0.007775 
[3180]  train-rmse:0.007769 
[3181]  train-rmse:0.007765 
[3182]  train-rmse:0.007760 
[3183]  train-rmse:0.007754 
[3184]  train-rmse:0.007749 
[3185]  train-rmse:0.007746 
[3186]  train-rmse:0.007742 
[3187]  train-rmse:0.007735 
[3188]  train-rmse:0.007728 
[3189]  train-rmse:0.007724 
[3190]  train-rmse:0.007718 
[3191]  train-rmse:0.007712 
[3192]  train-rmse:0.007710 
[3193]  train-rmse:0.007704 
[3194]  train-rmse:0.007695 
[3195]  train-rmse:0.007692 
[3196]  train-rmse:0.007688 
[3197]  train-rmse:0.007685 
[3198]  train-rmse:0.007683 
[3199]  train-rmse:0.007678 
[3200]  train-rmse:0.007671 
[3201]  train-rmse:0.007664 
[3202]  train-rmse:0.007657 
[3203]  train-rmse:0.007648 
[3204]  train-rmse:0.007643 
[3205]  train-rmse:0.007640 
[3206]  train-rmse:0.007636 
[3207]  train-rmse:0.007629 
[3208]  train-rmse:0.007627 
[3209]  train-rmse:0.007621 
[3210]  train-rmse:0.007616 
[3211]  train-rmse:0.007611 
[3212]  train-rmse:0.007604 
[3213]  train-rmse:0.007598 
[3214]  train-rmse:0.007597 
[3215]  train-rmse:0.007589 
[3216]  train-rmse:0.007586 
[3217]  train-rmse:0.007578 
[3218]  train-rmse:0.007572 
[3219]  train-rmse:0.007568 
[3220]  train-rmse:0.007561 
[3221]  train-rmse:0.007556 
[3222]  train-rmse:0.007551 
[3223]  train-rmse:0.007546 
[3224]  train-rmse:0.007545 
[3225]  train-rmse:0.007540 
[3226]  train-rmse:0.007536 
[3227]  train-rmse:0.007530 
[3228]  train-rmse:0.007524 
[3229]  train-rmse:0.007521 
[3230]  train-rmse:0.007515 
[3231]  train-rmse:0.007511 
[3232]  train-rmse:0.007511 
[3233]  train-rmse:0.007507 
[3234]  train-rmse:0.007500 
[3235]  train-rmse:0.007494 
[3236]  train-rmse:0.007491 
[3237]  train-rmse:0.007491 
[3238]  train-rmse:0.007480 
[3239]  train-rmse:0.007469 
[3240]  train-rmse:0.007466 
[3241]  train-rmse:0.007463 
[3242]  train-rmse:0.007458 
[3243]  train-rmse:0.007454 
[3244]  train-rmse:0.007451 
[3245]  train-rmse:0.007449 
[3246]  train-rmse:0.007447 
[3247]  train-rmse:0.007444 
[3248]  train-rmse:0.007443 
[3249]  train-rmse:0.007436 
[3250]  train-rmse:0.007428 
[3251]  train-rmse:0.007426 
[3252]  train-rmse:0.007424 
[3253]  train-rmse:0.007419 
[3254]  train-rmse:0.007411 
[3255]  train-rmse:0.007403 
[3256]  train-rmse:0.007399 
[3257]  train-rmse:0.007395 
[3258]  train-rmse:0.007389 
[3259]  train-rmse:0.007383 
[3260]  train-rmse:0.007375 
[3261]  train-rmse:0.007372 
[3262]  train-rmse:0.007369 
[3263]  train-rmse:0.007366 
[3264]  train-rmse:0.007365 
[3265]  train-rmse:0.007356 
[3266]  train-rmse:0.007350 
[3267]  train-rmse:0.007342 
[3268]  train-rmse:0.007335 
[3269]  train-rmse:0.007330 
[3270]  train-rmse:0.007325 
[3271]  train-rmse:0.007320 
[3272]  train-rmse:0.007313 
[3273]  train-rmse:0.007309 
[3274]  train-rmse:0.007305 
[3275]  train-rmse:0.007298 
[3276]  train-rmse:0.007291 
[3277]  train-rmse:0.007287 
[3278]  train-rmse:0.007282 
[3279]  train-rmse:0.007279 
[3280]  train-rmse:0.007278 
[3281]  train-rmse:0.007273 
[3282]  train-rmse:0.007270 
[3283]  train-rmse:0.007261 
[3284]  train-rmse:0.007255 
[3285]  train-rmse:0.007251 
[3286]  train-rmse:0.007240 
[3287]  train-rmse:0.007239 
[3288]  train-rmse:0.007234 
[3289]  train-rmse:0.007232 
[3290]  train-rmse:0.007221 
[3291]  train-rmse:0.007216 
[3292]  train-rmse:0.007212 
[3293]  train-rmse:0.007208 
[3294]  train-rmse:0.007202 
[3295]  train-rmse:0.007201 
[3296]  train-rmse:0.007196 
[3297]  train-rmse:0.007192 
[3298]  train-rmse:0.007182 
[3299]  train-rmse:0.007178 
[3300]  train-rmse:0.007175 
[3301]  train-rmse:0.007170 
[3302]  train-rmse:0.007166 
[3303]  train-rmse:0.007160 
[3304]  train-rmse:0.007156 
[3305]  train-rmse:0.007147 
[3306]  train-rmse:0.007141 
[3307]  train-rmse:0.007137 
[3308]  train-rmse:0.007129 
[3309]  train-rmse:0.007119 
[3310]  train-rmse:0.007114 
[3311]  train-rmse:0.007111 
[3312]  train-rmse:0.007104 
[3313]  train-rmse:0.007100 
[3314]  train-rmse:0.007096 
[3315]  train-rmse:0.007091 
[3316]  train-rmse:0.007089 
[3317]  train-rmse:0.007086 
[3318]  train-rmse:0.007086 
[3319]  train-rmse:0.007079 
[3320]  train-rmse:0.007077 
[3321]  train-rmse:0.007075 
[3322]  train-rmse:0.007068 
[3323]  train-rmse:0.007063 
[3324]  train-rmse:0.007062 
[3325]  train-rmse:0.007056 
[3326]  train-rmse:0.007054 
[3327]  train-rmse:0.007053 
[3328]  train-rmse:0.007046 
[3329]  train-rmse:0.007039 
[3330]  train-rmse:0.007030 
[3331]  train-rmse:0.007022 
[3332]  train-rmse:0.007016 
[3333]  train-rmse:0.007011 
[3334]  train-rmse:0.007008 
[3335]  train-rmse:0.007005 
[3336]  train-rmse:0.007003 
[3337]  train-rmse:0.006999 
[3338]  train-rmse:0.006999 
[3339]  train-rmse:0.006992 
[3340]  train-rmse:0.006986 
[3341]  train-rmse:0.006983 
[3342]  train-rmse:0.006978 
[3343]  train-rmse:0.006970 
[3344]  train-rmse:0.006966 
[3345]  train-rmse:0.006962 
[3346]  train-rmse:0.006956 
[3347]  train-rmse:0.006949 
[3348]  train-rmse:0.006944 
[3349]  train-rmse:0.006941 
[3350]  train-rmse:0.006938 
[3351]  train-rmse:0.006931 
[3352]  train-rmse:0.006924 
[3353]  train-rmse:0.006921 
[3354]  train-rmse:0.006921 
[3355]  train-rmse:0.006914 
[3356]  train-rmse:0.006910 
[3357]  train-rmse:0.006908 
[3358]  train-rmse:0.006903 
[3359]  train-rmse:0.006900 
[3360]  train-rmse:0.006900 
[3361]  train-rmse:0.006895 
[3362]  train-rmse:0.006892 
[3363]  train-rmse:0.006888 
[3364]  train-rmse:0.006882 
[3365]  train-rmse:0.006878 
[3366]  train-rmse:0.006879 
[3367]  train-rmse:0.006876 
[3368]  train-rmse:0.006873 
[3369]  train-rmse:0.006867 
[3370]  train-rmse:0.006865 
[3371]  train-rmse:0.006858 
[3372]  train-rmse:0.006854 
[3373]  train-rmse:0.006850 
[3374]  train-rmse:0.006845 
[3375]  train-rmse:0.006840 
[3376]  train-rmse:0.006836 
[3377]  train-rmse:0.006831 
[3378]  train-rmse:0.006827 
[3379]  train-rmse:0.006819 
[3380]  train-rmse:0.006816 
[3381]  train-rmse:0.006810 
[3382]  train-rmse:0.006807 
[3383]  train-rmse:0.006806 
[3384]  train-rmse:0.006803 
[3385]  train-rmse:0.006796 
[3386]  train-rmse:0.006791 
[3387]  train-rmse:0.006785 
[3388]  train-rmse:0.006782 
[3389]  train-rmse:0.006777 
[3390]  train-rmse:0.006772 
[3391]  train-rmse:0.006771 
[3392]  train-rmse:0.006763 
[3393]  train-rmse:0.006758 
[3394]  train-rmse:0.006755 
[3395]  train-rmse:0.006747 
[3396]  train-rmse:0.006741 
[3397]  train-rmse:0.006738 
[3398]  train-rmse:0.006730 
[3399]  train-rmse:0.006724 
[3400]  train-rmse:0.006717 
[3401]  train-rmse:0.006714 
[3402]  train-rmse:0.006707 
[3403]  train-rmse:0.006704 
[3404]  train-rmse:0.006698 
[3405]  train-rmse:0.006694 
[3406]  train-rmse:0.006691 
[3407]  train-rmse:0.006686 
[3408]  train-rmse:0.006684 
[3409]  train-rmse:0.006681 
[3410]  train-rmse:0.006680 
[3411]  train-rmse:0.006677 
[3412]  train-rmse:0.006674 
[3413]  train-rmse:0.006667 
[3414]  train-rmse:0.006662 
[3415]  train-rmse:0.006656 
[3416]  train-rmse:0.006655 
[3417]  train-rmse:0.006649 
[3418]  train-rmse:0.006644 
[3419]  train-rmse:0.006641 
[3420]  train-rmse:0.006637 
[3421]  train-rmse:0.006634 
[3422]  train-rmse:0.006627 
[3423]  train-rmse:0.006624 
[3424]  train-rmse:0.006619 
[3425]  train-rmse:0.006614 
[3426]  train-rmse:0.006613 
[3427]  train-rmse:0.006607 
[3428]  train-rmse:0.006603 
[3429]  train-rmse:0.006601 
[3430]  train-rmse:0.006603 
[3431]  train-rmse:0.006597 
[3432]  train-rmse:0.006594 
[3433]  train-rmse:0.006588 
[3434]  train-rmse:0.006584 
[3435]  train-rmse:0.006584 
[3436]  train-rmse:0.006578 
[3437]  train-rmse:0.006573 
[3438]  train-rmse:0.006567 
[3439]  train-rmse:0.006563 
[3440]  train-rmse:0.006560 
[3441]  train-rmse:0.006555 
[3442]  train-rmse:0.006549 
[3443]  train-rmse:0.006543 
[3444]  train-rmse:0.006538 
[3445]  train-rmse:0.006528 
[3446]  train-rmse:0.006528 
[3447]  train-rmse:0.006525 
[3448]  train-rmse:0.006524 
[3449]  train-rmse:0.006520 
[3450]  train-rmse:0.006519 
[3451]  train-rmse:0.006518 
[3452]  train-rmse:0.006512 
[3453]  train-rmse:0.006508 
[3454]  train-rmse:0.006500 
[3455]  train-rmse:0.006497 
[3456]  train-rmse:0.006491 
[3457]  train-rmse:0.006487 
[3458]  train-rmse:0.006479 
[3459]  train-rmse:0.006479 
[3460]  train-rmse:0.006477 
[3461]  train-rmse:0.006474 
[3462]  train-rmse:0.006472 
[3463]  train-rmse:0.006466 
[3464]  train-rmse:0.006456 
[3465]  train-rmse:0.006454 
[3466]  train-rmse:0.006450 
[3467]  train-rmse:0.006440 
[3468]  train-rmse:0.006432 
[3469]  train-rmse:0.006428 
[3470]  train-rmse:0.006424 
[3471]  train-rmse:0.006420 
[3472]  train-rmse:0.006416 
[3473]  train-rmse:0.006414 
[3474]  train-rmse:0.006412 
[3475]  train-rmse:0.006410 
[3476]  train-rmse:0.006404 
[3477]  train-rmse:0.006400 
[3478]  train-rmse:0.006399 
[3479]  train-rmse:0.006391 
[3480]  train-rmse:0.006386 
[3481]  train-rmse:0.006380 
[3482]  train-rmse:0.006375 
[3483]  train-rmse:0.006372 
[3484]  train-rmse:0.006367 
[3485]  train-rmse:0.006364 
[3486]  train-rmse:0.006360 
[3487]  train-rmse:0.006360 
[3488]  train-rmse:0.006357 
[3489]  train-rmse:0.006355 
[3490]  train-rmse:0.006344 
[3491]  train-rmse:0.006339 
[3492]  train-rmse:0.006336 
[3493]  train-rmse:0.006329 
[3494]  train-rmse:0.006325 
[3495]  train-rmse:0.006320 
[3496]  train-rmse:0.006315 
[3497]  train-rmse:0.006307 
[3498]  train-rmse:0.006302 
[3499]  train-rmse:0.006297 
[3500]  train-rmse:0.006290 
[3501]  train-rmse:0.006285 
[3502]  train-rmse:0.006280 
[3503]  train-rmse:0.006274 
[3504]  train-rmse:0.006271 
[3505]  train-rmse:0.006267 
[3506]  train-rmse:0.006260 
[3507]  train-rmse:0.006262 
[3508]  train-rmse:0.006257 
[3509]  train-rmse:0.006252 
[3510]  train-rmse:0.006246 
[3511]  train-rmse:0.006240 
[3512]  train-rmse:0.006234 
[3513]  train-rmse:0.006228 
[3514]  train-rmse:0.006223 
[3515]  train-rmse:0.006219 
[3516]  train-rmse:0.006213 
[3517]  train-rmse:0.006210 
[3518]  train-rmse:0.006209 
[3519]  train-rmse:0.006204 
[3520]  train-rmse:0.006206 
[3521]  train-rmse:0.006203 
[3522]  train-rmse:0.006200 
[3523]  train-rmse:0.006196 
[3524]  train-rmse:0.006193 
[3525]  train-rmse:0.006186 
[3526]  train-rmse:0.006180 
[3527]  train-rmse:0.006177 
[3528]  train-rmse:0.006171 
[3529]  train-rmse:0.006171 
[3530]  train-rmse:0.006165 
[3531]  train-rmse:0.006162 
[3532]  train-rmse:0.006157 
[3533]  train-rmse:0.006155 
[3534]  train-rmse:0.006150 
[3535]  train-rmse:0.006151 
[3536]  train-rmse:0.006148 
[3537]  train-rmse:0.006145 
[3538]  train-rmse:0.006143 
[3539]  train-rmse:0.006140 
[3540]  train-rmse:0.006136 
[3541]  train-rmse:0.006133 
[3542]  train-rmse:0.006127 
[3543]  train-rmse:0.006122 
[3544]  train-rmse:0.006116 
[3545]  train-rmse:0.006111 
[3546]  train-rmse:0.006105 
[3547]  train-rmse:0.006103 
[3548]  train-rmse:0.006099 
[3549]  train-rmse:0.006097 
[3550]  train-rmse:0.006092 
[3551]  train-rmse:0.006090 
[3552]  train-rmse:0.006084 
[3553]  train-rmse:0.006076 
[3554]  train-rmse:0.006072 
[3555]  train-rmse:0.006073 
[3556]  train-rmse:0.006072 
[3557]  train-rmse:0.006070 
[3558]  train-rmse:0.006064 
[3559]  train-rmse:0.006061 
[3560]  train-rmse:0.006059 
[3561]  train-rmse:0.006056 
[3562]  train-rmse:0.006050 
[3563]  train-rmse:0.006043 
[3564]  train-rmse:0.006037 
[3565]  train-rmse:0.006036 
[3566]  train-rmse:0.006031 
[3567]  train-rmse:0.006031 
[3568]  train-rmse:0.006026 
[3569]  train-rmse:0.006021 
[3570]  train-rmse:0.006018 
[3571]  train-rmse:0.006012 
[3572]  train-rmse:0.006010 
[3573]  train-rmse:0.006005 
[3574]  train-rmse:0.006004 
[3575]  train-rmse:0.006000 
[3576]  train-rmse:0.005995 
[3577]  train-rmse:0.005993 
[3578]  train-rmse:0.005992 
[3579]  train-rmse:0.005989 
[3580]  train-rmse:0.005984 
[3581]  train-rmse:0.005980 
[3582]  train-rmse:0.005977 
[3583]  train-rmse:0.005977 
[3584]  train-rmse:0.005973 
[3585]  train-rmse:0.005971 
[3586]  train-rmse:0.005970 
[3587]  train-rmse:0.005966 
[3588]  train-rmse:0.005961 
[3589]  train-rmse:0.005954 
[3590]  train-rmse:0.005952 
[3591]  train-rmse:0.005946 
[3592]  train-rmse:0.005938 
[3593]  train-rmse:0.005931 
[3594]  train-rmse:0.005925 
[3595]  train-rmse:0.005922 
[3596]  train-rmse:0.005917 
[3597]  train-rmse:0.005909 
[3598]  train-rmse:0.005904 
[3599]  train-rmse:0.005898 
[3600]  train-rmse:0.005894 
[3601]  train-rmse:0.005891 
[3602]  train-rmse:0.005887 
[3603]  train-rmse:0.005883 
[3604]  train-rmse:0.005884 
[3605]  train-rmse:0.005882 
[3606]  train-rmse:0.005876 
[3607]  train-rmse:0.005873 
[3608]  train-rmse:0.005870 
[3609]  train-rmse:0.005868 
[3610]  train-rmse:0.005865 
[3611]  train-rmse:0.005860 
[3612]  train-rmse:0.005858 
[3613]  train-rmse:0.005856 
[3614]  train-rmse:0.005849 
[3615]  train-rmse:0.005844 
[3616]  train-rmse:0.005838 
[3617]  train-rmse:0.005834 
[3618]  train-rmse:0.005828 
[3619]  train-rmse:0.005823 
[3620]  train-rmse:0.005818 
[3621]  train-rmse:0.005819 
[3622]  train-rmse:0.005817 
[3623]  train-rmse:0.005813 
[3624]  train-rmse:0.005810 
[3625]  train-rmse:0.005806 
[3626]  train-rmse:0.005803 
[3627]  train-rmse:0.005798 
[3628]  train-rmse:0.005793 
[3629]  train-rmse:0.005787 
[3630]  train-rmse:0.005785 
[3631]  train-rmse:0.005782 
[3632]  train-rmse:0.005780 
[3633]  train-rmse:0.005775 
[3634]  train-rmse:0.005776 
[3635]  train-rmse:0.005774 
[3636]  train-rmse:0.005769 
[3637]  train-rmse:0.005764 
[3638]  train-rmse:0.005761 
[3639]  train-rmse:0.005756 
[3640]  train-rmse:0.005751 
[3641]  train-rmse:0.005743 
[3642]  train-rmse:0.005740 
[3643]  train-rmse:0.005736 
[3644]  train-rmse:0.005732 
[3645]  train-rmse:0.005728 
[3646]  train-rmse:0.005724 
[3647]  train-rmse:0.005719 
[3648]  train-rmse:0.005714 
[3649]  train-rmse:0.005710 
[3650]  train-rmse:0.005707 
[3651]  train-rmse:0.005703 
[3652]  train-rmse:0.005698 
[3653]  train-rmse:0.005697 
[3654]  train-rmse:0.005690 
[3655]  train-rmse:0.005685 
[3656]  train-rmse:0.005683 
[3657]  train-rmse:0.005682 
[3658]  train-rmse:0.005677 
[3659]  train-rmse:0.005671 
[3660]  train-rmse:0.005667 
[3661]  train-rmse:0.005667 
[3662]  train-rmse:0.005661 
[3663]  train-rmse:0.005656 
[3664]  train-rmse:0.005652 
[3665]  train-rmse:0.005647 
[3666]  train-rmse:0.005645 
[3667]  train-rmse:0.005643 
[3668]  train-rmse:0.005639 
[3669]  train-rmse:0.005637 
[3670]  train-rmse:0.005629 
[3671]  train-rmse:0.005630 
[3672]  train-rmse:0.005627 
[3673]  train-rmse:0.005623 
[3674]  train-rmse:0.005620 
[3675]  train-rmse:0.005621 
[3676]  train-rmse:0.005618 
[3677]  train-rmse:0.005617 
[3678]  train-rmse:0.005610 
[3679]  train-rmse:0.005608 
[3680]  train-rmse:0.005602 
[3681]  train-rmse:0.005597 
[3682]  train-rmse:0.005595 
[3683]  train-rmse:0.005589 
[3684]  train-rmse:0.005591 
[3685]  train-rmse:0.005587 
[3686]  train-rmse:0.005581 
[3687]  train-rmse:0.005576 
[3688]  train-rmse:0.005574 
[3689]  train-rmse:0.005573 
[3690]  train-rmse:0.005570 
[3691]  train-rmse:0.005565 
[3692]  train-rmse:0.005560 
[3693]  train-rmse:0.005555 
[3694]  train-rmse:0.005554 
[3695]  train-rmse:0.005549 
[3696]  train-rmse:0.005544 
[3697]  train-rmse:0.005540 
[3698]  train-rmse:0.005537 
[3699]  train-rmse:0.005534 
[3700]  train-rmse:0.005529 
[3701]  train-rmse:0.005529 
[3702]  train-rmse:0.005523 
[3703]  train-rmse:0.005519 
[3704]  train-rmse:0.005521 
[3705]  train-rmse:0.005518 
[3706]  train-rmse:0.005515 
[3707]  train-rmse:0.005512 
[3708]  train-rmse:0.005509 
[3709]  train-rmse:0.005506 
[3710]  train-rmse:0.005498 
[3711]  train-rmse:0.005493 
[3712]  train-rmse:0.005491 
[3713]  train-rmse:0.005487 
[3714]  train-rmse:0.005486 
[3715]  train-rmse:0.005481 
[3716]  train-rmse:0.005479 
[3717]  train-rmse:0.005475 
[3718]  train-rmse:0.005470 
[3719]  train-rmse:0.005465 
[3720]  train-rmse:0.005460 
[3721]  train-rmse:0.005454 
[3722]  train-rmse:0.005449 
[3723]  train-rmse:0.005446 
[3724]  train-rmse:0.005444 
[3725]  train-rmse:0.005441 
[3726]  train-rmse:0.005437 
[3727]  train-rmse:0.005436 
[3728]  train-rmse:0.005434 
[3729]  train-rmse:0.005432 
[3730]  train-rmse:0.005427 
[3731]  train-rmse:0.005423 
[3732]  train-rmse:0.005419 
[3733]  train-rmse:0.005415 
[3734]  train-rmse:0.005412 
[3735]  train-rmse:0.005408 
[3736]  train-rmse:0.005404 
[3737]  train-rmse:0.005401 
[3738]  train-rmse:0.005399 
[3739]  train-rmse:0.005396 
[3740]  train-rmse:0.005391 
[3741]  train-rmse:0.005385 
[3742]  train-rmse:0.005380 
[3743]  train-rmse:0.005377 
[3744]  train-rmse:0.005374 
[3745]  train-rmse:0.005370 
[3746]  train-rmse:0.005366 
[3747]  train-rmse:0.005362 
[3748]  train-rmse:0.005358 
[3749]  train-rmse:0.005353 
[3750]  train-rmse:0.005352 
[3751]  train-rmse:0.005352 
[3752]  train-rmse:0.005348 
[3753]  train-rmse:0.005347 
[3754]  train-rmse:0.005344 
[3755]  train-rmse:0.005343 
[3756]  train-rmse:0.005340 
[3757]  train-rmse:0.005336 
[3758]  train-rmse:0.005333 
[3759]  train-rmse:0.005327 
[3760]  train-rmse:0.005325 
[3761]  train-rmse:0.005320 
[3762]  train-rmse:0.005319 
[3763]  train-rmse:0.005318 
[3764]  train-rmse:0.005319 
[3765]  train-rmse:0.005315 
[3766]  train-rmse:0.005314 
[3767]  train-rmse:0.005310 
[3768]  train-rmse:0.005305 
[3769]  train-rmse:0.005303 
[3770]  train-rmse:0.005303 
[3771]  train-rmse:0.005303 
[3772]  train-rmse:0.005300 
[3773]  train-rmse:0.005296 
[3774]  train-rmse:0.005292 
[3775]  train-rmse:0.005287 
[3776]  train-rmse:0.005284 
[3777]  train-rmse:0.005282 
[3778]  train-rmse:0.005277 
[3779]  train-rmse:0.005273 
[3780]  train-rmse:0.005270 
[3781]  train-rmse:0.005270 
[3782]  train-rmse:0.005264 
[3783]  train-rmse:0.005262 
[3784]  train-rmse:0.005257 
[3785]  train-rmse:0.005253 
[3786]  train-rmse:0.005250 
[3787]  train-rmse:0.005249 
[3788]  train-rmse:0.005246 
[3789]  train-rmse:0.005244 
[3790]  train-rmse:0.005244 
[3791]  train-rmse:0.005242 
[3792]  train-rmse:0.005239 
[3793]  train-rmse:0.005237 
[3794]  train-rmse:0.005233 
[3795]  train-rmse:0.005229 
[3796]  train-rmse:0.005225 
[3797]  train-rmse:0.005219 
[3798]  train-rmse:0.005217 
[3799]  train-rmse:0.005218 
[3800]  train-rmse:0.005215 
[3801]  train-rmse:0.005212 
[3802]  train-rmse:0.005210 
[3803]  train-rmse:0.005210 
[3804]  train-rmse:0.005205 
[3805]  train-rmse:0.005202 
[3806]  train-rmse:0.005200 
[3807]  train-rmse:0.005196 
[3808]  train-rmse:0.005194 
[3809]  train-rmse:0.005188 
[3810]  train-rmse:0.005184 
[3811]  train-rmse:0.005181 
[3812]  train-rmse:0.005181 
[3813]  train-rmse:0.005178 
[3814]  train-rmse:0.005178 
[3815]  train-rmse:0.005172 
[3816]  train-rmse:0.005169 
[3817]  train-rmse:0.005160 
[3818]  train-rmse:0.005161 
[3819]  train-rmse:0.005156 
[3820]  train-rmse:0.005153 
[3821]  train-rmse:0.005148 
[3822]  train-rmse:0.005146 
[3823]  train-rmse:0.005144 
[3824]  train-rmse:0.005142 
[3825]  train-rmse:0.005141 
[3826]  train-rmse:0.005139 
[3827]  train-rmse:0.005132 
[3828]  train-rmse:0.005126 
[3829]  train-rmse:0.005125 
[3830]  train-rmse:0.005120 
[3831]  train-rmse:0.005114 
[3832]  train-rmse:0.005111 
[3833]  train-rmse:0.005107 
[3834]  train-rmse:0.005101 
[3835]  train-rmse:0.005098 
[3836]  train-rmse:0.005096 
[3837]  train-rmse:0.005093 
[3838]  train-rmse:0.005090 
[3839]  train-rmse:0.005086 
[3840]  train-rmse:0.005081 
[3841]  train-rmse:0.005077 
[3842]  train-rmse:0.005075 
[3843]  train-rmse:0.005072 
[3844]  train-rmse:0.005067 
[3845]  train-rmse:0.005063 
[3846]  train-rmse:0.005060 
[3847]  train-rmse:0.005057 
[3848]  train-rmse:0.005058 
[3849]  train-rmse:0.005054 
[3850]  train-rmse:0.005051 
[3851]  train-rmse:0.005049 
[3852]  train-rmse:0.005045 
[3853]  train-rmse:0.005043 
[3854]  train-rmse:0.005041 
[3855]  train-rmse:0.005037 
[3856]  train-rmse:0.005034 
[3857]  train-rmse:0.005031 
[3858]  train-rmse:0.005027 
[3859]  train-rmse:0.005026 
[3860]  train-rmse:0.005023 
[3861]  train-rmse:0.005020 
[3862]  train-rmse:0.005019 
[3863]  train-rmse:0.005019 
[3864]  train-rmse:0.005015 
[3865]  train-rmse:0.005013 
[3866]  train-rmse:0.005009 
[3867]  train-rmse:0.005006 
[3868]  train-rmse:0.005002 
[3869]  train-rmse:0.004997 
[3870]  train-rmse:0.004994 
[3871]  train-rmse:0.004990 
[3872]  train-rmse:0.004988 
[3873]  train-rmse:0.004986 
[3874]  train-rmse:0.004981 
[3875]  train-rmse:0.004976 
[3876]  train-rmse:0.004972 
[3877]  train-rmse:0.004969 
[3878]  train-rmse:0.004965 
[3879]  train-rmse:0.004961 
[3880]  train-rmse:0.004957 
[3881]  train-rmse:0.004954 
[3882]  train-rmse:0.004949 
[3883]  train-rmse:0.004945 
[3884]  train-rmse:0.004942 
[3885]  train-rmse:0.004939 
[3886]  train-rmse:0.004935 
[3887]  train-rmse:0.004933 
[3888]  train-rmse:0.004929 
[3889]  train-rmse:0.004926 
[3890]  train-rmse:0.004923 
[3891]  train-rmse:0.004919 
[3892]  train-rmse:0.004915 
[3893]  train-rmse:0.004913 
[3894]  train-rmse:0.004912 
[3895]  train-rmse:0.004910 
[3896]  train-rmse:0.004909 
[3897]  train-rmse:0.004905 
[3898]  train-rmse:0.004906 
[3899]  train-rmse:0.004902 
[3900]  train-rmse:0.004898 
[3901]  train-rmse:0.004897 
[3902]  train-rmse:0.004894 
[3903]  train-rmse:0.004892 
[3904]  train-rmse:0.004889 
[3905]  train-rmse:0.004885 
[3906]  train-rmse:0.004881 
[3907]  train-rmse:0.004878 
[3908]  train-rmse:0.004876 
[3909]  train-rmse:0.004874 
[3910]  train-rmse:0.004872 
[3911]  train-rmse:0.004869 
[3912]  train-rmse:0.004862 
[3913]  train-rmse:0.004862 
[3914]  train-rmse:0.004861 
[3915]  train-rmse:0.004858 
[3916]  train-rmse:0.004858 
[3917]  train-rmse:0.004855 
[3918]  train-rmse:0.004852 
[3919]  train-rmse:0.004849 
[3920]  train-rmse:0.004846 
[3921]  train-rmse:0.004842 
[3922]  train-rmse:0.004842 
[3923]  train-rmse:0.004839 
[3924]  train-rmse:0.004836 
[3925]  train-rmse:0.004831 
[3926]  train-rmse:0.004832 
[3927]  train-rmse:0.004830 
[3928]  train-rmse:0.004826 
[3929]  train-rmse:0.004825 
[3930]  train-rmse:0.004821 
[3931]  train-rmse:0.004819 
[3932]  train-rmse:0.004814 
[3933]  train-rmse:0.004812 
[3934]  train-rmse:0.004808 
[3935]  train-rmse:0.004804 
[3936]  train-rmse:0.004802 
[3937]  train-rmse:0.004802 
[3938]  train-rmse:0.004798 
[3939]  train-rmse:0.004793 
[3940]  train-rmse:0.004791 
[3941]  train-rmse:0.004788 
[3942]  train-rmse:0.004787 
[3943]  train-rmse:0.004785 
[3944]  train-rmse:0.004782 
[3945]  train-rmse:0.004779 
[3946]  train-rmse:0.004778 
[3947]  train-rmse:0.004770 
[3948]  train-rmse:0.004767 
[3949]  train-rmse:0.004764 
[3950]  train-rmse:0.004763 
[3951]  train-rmse:0.004759 
[3952]  train-rmse:0.004756 
[3953]  train-rmse:0.004754 
[3954]  train-rmse:0.004753 
[3955]  train-rmse:0.004751 
[3956]  train-rmse:0.004748 
[3957]  train-rmse:0.004747 
[3958]  train-rmse:0.004741 
[3959]  train-rmse:0.004737 
[3960]  train-rmse:0.004736 
[3961]  train-rmse:0.004733 
[3962]  train-rmse:0.004729 
[3963]  train-rmse:0.004726 
[3964]  train-rmse:0.004726 
[3965]  train-rmse:0.004722 
[3966]  train-rmse:0.004722 
[3967]  train-rmse:0.004716 
[3968]  train-rmse:0.004714 
[3969]  train-rmse:0.004711 
[3970]  train-rmse:0.004709 
[3971]  train-rmse:0.004705 
[3972]  train-rmse:0.004702 
[3973]  train-rmse:0.004698 
[3974]  train-rmse:0.004695 
[3975]  train-rmse:0.004692 
[3976]  train-rmse:0.004688 
[3977]  train-rmse:0.004683 
[3978]  train-rmse:0.004680 
[3979]  train-rmse:0.004680 
[3980]  train-rmse:0.004676 
[3981]  train-rmse:0.004673 
[3982]  train-rmse:0.004671 
[3983]  train-rmse:0.004668 
[3984]  train-rmse:0.004664 
[3985]  train-rmse:0.004660 
[3986]  train-rmse:0.004659 
[3987]  train-rmse:0.004654 
[3988]  train-rmse:0.004652 
[3989]  train-rmse:0.004649 
[3990]  train-rmse:0.004647 
[3991]  train-rmse:0.004646 
[3992]  train-rmse:0.004642 
[3993]  train-rmse:0.004639 
[3994]  train-rmse:0.004637 
[3995]  train-rmse:0.004635 
[3996]  train-rmse:0.004634 
[3997]  train-rmse:0.004632 
[3998]  train-rmse:0.004630 
[3999]  train-rmse:0.004627 
[4000]  train-rmse:0.004627 
[4001]  train-rmse:0.004624 
[4002]  train-rmse:0.004623 
[4003]  train-rmse:0.004620 
[4004]  train-rmse:0.004618 
[4005]  train-rmse:0.004615 
[4006]  train-rmse:0.004612 
[4007]  train-rmse:0.004607 
[4008]  train-rmse:0.004604 
[4009]  train-rmse:0.004606 
[4010]  train-rmse:0.004600 
[4011]  train-rmse:0.004597 
[4012]  train-rmse:0.004596 
[4013]  train-rmse:0.004594 
[4014]  train-rmse:0.004589 
[4015]  train-rmse:0.004586 
[4016]  train-rmse:0.004582 
[4017]  train-rmse:0.004582 
[4018]  train-rmse:0.004579 
[4019]  train-rmse:0.004573 
[4020]  train-rmse:0.004570 
[4021]  train-rmse:0.004566 
[4022]  train-rmse:0.004561 
[4023]  train-rmse:0.004556 
[4024]  train-rmse:0.004551 
[4025]  train-rmse:0.004548 
[4026]  train-rmse:0.004546 
[4027]  train-rmse:0.004544 
[4028]  train-rmse:0.004540 
[4029]  train-rmse:0.004537 
[4030]  train-rmse:0.004535 
[4031]  train-rmse:0.004531 
[4032]  train-rmse:0.004526 
[4033]  train-rmse:0.004523 
[4034]  train-rmse:0.004523 
[4035]  train-rmse:0.004521 
[4036]  train-rmse:0.004519 
[4037]  train-rmse:0.004515 
[4038]  train-rmse:0.004514 
[4039]  train-rmse:0.004511 
[4040]  train-rmse:0.004509 
[4041]  train-rmse:0.004505 
[4042]  train-rmse:0.004504 
[4043]  train-rmse:0.004501 
[4044]  train-rmse:0.004496 
[4045]  train-rmse:0.004493 
[4046]  train-rmse:0.004491 
[4047]  train-rmse:0.004486 
[4048]  train-rmse:0.004485 
[4049]  train-rmse:0.004481 
[4050]  train-rmse:0.004478 
[4051]  train-rmse:0.004475 
[4052]  train-rmse:0.004473 
[4053]  train-rmse:0.004468 
[4054]  train-rmse:0.004466 
[4055]  train-rmse:0.004465 
[4056]  train-rmse:0.004460 
[4057]  train-rmse:0.004458 
[4058]  train-rmse:0.004454 
[4059]  train-rmse:0.004450 
[4060]  train-rmse:0.004447 
[4061]  train-rmse:0.004444 
[4062]  train-rmse:0.004442 
[4063]  train-rmse:0.004437 
[4064]  train-rmse:0.004434 
[4065]  train-rmse:0.004434 
[4066]  train-rmse:0.004431 
[4067]  train-rmse:0.004430 
[4068]  train-rmse:0.004428 
[4069]  train-rmse:0.004424 
[4070]  train-rmse:0.004420 
[4071]  train-rmse:0.004419 
[4072]  train-rmse:0.004418 
[4073]  train-rmse:0.004415 
[4074]  train-rmse:0.004413 
[4075]  train-rmse:0.004411 
[4076]  train-rmse:0.004408 
[4077]  train-rmse:0.004406 
[4078]  train-rmse:0.004403 
[4079]  train-rmse:0.004400 
[4080]  train-rmse:0.004398 
[4081]  train-rmse:0.004395 
[4082]  train-rmse:0.004392 
[4083]  train-rmse:0.004389 
[4084]  train-rmse:0.004387 
[4085]  train-rmse:0.004383 
[4086]  train-rmse:0.004382 
[4087]  train-rmse:0.004376 
[4088]  train-rmse:0.004373 
[4089]  train-rmse:0.004372 
[4090]  train-rmse:0.004373 
[4091]  train-rmse:0.004369 
[4092]  train-rmse:0.004365 
[4093]  train-rmse:0.004362 
[4094]  train-rmse:0.004360 
[4095]  train-rmse:0.004361 
[4096]  train-rmse:0.004356 
[4097]  train-rmse:0.004353 
[4098]  train-rmse:0.004350 
[4099]  train-rmse:0.004346 
[4100]  train-rmse:0.004342 
[4101]  train-rmse:0.004339 
[4102]  train-rmse:0.004335 
[4103]  train-rmse:0.004335 
[4104]  train-rmse:0.004333 
[4105]  train-rmse:0.004332 
[4106]  train-rmse:0.004329 
[4107]  train-rmse:0.004329 
[4108]  train-rmse:0.004327 
[4109]  train-rmse:0.004324 
[4110]  train-rmse:0.004321 
[4111]  train-rmse:0.004319 
[4112]  train-rmse:0.004317 
[4113]  train-rmse:0.004312 
[4114]  train-rmse:0.004307 
[4115]  train-rmse:0.004306 
[4116]  train-rmse:0.004306 
[4117]  train-rmse:0.004302 
[4118]  train-rmse:0.004298 
[4119]  train-rmse:0.004294 
[4120]  train-rmse:0.004293 
[4121]  train-rmse:0.004288 
[4122]  train-rmse:0.004283 
[4123]  train-rmse:0.004281 
[4124]  train-rmse:0.004276 
[4125]  train-rmse:0.004273 
[4126]  train-rmse:0.004271 
[4127]  train-rmse:0.004269 
[4128]  train-rmse:0.004266 
[4129]  train-rmse:0.004265 
[4130]  train-rmse:0.004263 
[4131]  train-rmse:0.004263 
[4132]  train-rmse:0.004262 
[4133]  train-rmse:0.004260 
[4134]  train-rmse:0.004258 
[4135]  train-rmse:0.004258 
[4136]  train-rmse:0.004252 
[4137]  train-rmse:0.004254 
[4138]  train-rmse:0.004253 
[4139]  train-rmse:0.004250 
[4140]  train-rmse:0.004247 
[4141]  train-rmse:0.004242 
[4142]  train-rmse:0.004241 
[4143]  train-rmse:0.004241 
[4144]  train-rmse:0.004235 
[4145]  train-rmse:0.004236 
[4146]  train-rmse:0.004231 
[4147]  train-rmse:0.004232 
[4148]  train-rmse:0.004227 
[4149]  train-rmse:0.004225 
[4150]  train-rmse:0.004225 
[4151]  train-rmse:0.004220 
[4152]  train-rmse:0.004219 
[4153]  train-rmse:0.004216 
[4154]  train-rmse:0.004212 
[4155]  train-rmse:0.004210 
[4156]  train-rmse:0.004209 
[4157]  train-rmse:0.004207 
[4158]  train-rmse:0.004206 
[4159]  train-rmse:0.004206 
[4160]  train-rmse:0.004200 
[4161]  train-rmse:0.004197 
[4162]  train-rmse:0.004195 
[4163]  train-rmse:0.004193 
[4164]  train-rmse:0.004192 
[4165]  train-rmse:0.004187 
[4166]  train-rmse:0.004185 
[4167]  train-rmse:0.004184 
[4168]  train-rmse:0.004181 
[4169]  train-rmse:0.004174 
[4170]  train-rmse:0.004170 
[4171]  train-rmse:0.004168 
[4172]  train-rmse:0.004168 
[4173]  train-rmse:0.004167 
[4174]  train-rmse:0.004163 
[4175]  train-rmse:0.004160 
[4176]  train-rmse:0.004158 
[4177]  train-rmse:0.004152 
[4178]  train-rmse:0.004150 
[4179]  train-rmse:0.004147 
[4180]  train-rmse:0.004146 
[4181]  train-rmse:0.004146 
[4182]  train-rmse:0.004144 
[4183]  train-rmse:0.004138 
[4184]  train-rmse:0.004135 
[4185]  train-rmse:0.004130 
[4186]  train-rmse:0.004127 
[4187]  train-rmse:0.004127 
[4188]  train-rmse:0.004123 
[4189]  train-rmse:0.004121 
[4190]  train-rmse:0.004120 
[4191]  train-rmse:0.004118 
[4192]  train-rmse:0.004117 
[4193]  train-rmse:0.004114 
[4194]  train-rmse:0.004108 
[4195]  train-rmse:0.004106 
[4196]  train-rmse:0.004100 
[4197]  train-rmse:0.004096 
[4198]  train-rmse:0.004092 
[4199]  train-rmse:0.004092 
[4200]  train-rmse:0.004092 
[4201]  train-rmse:0.004088 
[4202]  train-rmse:0.004086 
[4203]  train-rmse:0.004085 
[4204]  train-rmse:0.004081 
[4205]  train-rmse:0.004077 
[4206]  train-rmse:0.004077 
[4207]  train-rmse:0.004073 
[4208]  train-rmse:0.004068 
[4209]  train-rmse:0.004065 
[4210]  train-rmse:0.004065 
[4211]  train-rmse:0.004061 
[4212]  train-rmse:0.004058 
[4213]  train-rmse:0.004054 
[4214]  train-rmse:0.004051 
[4215]  train-rmse:0.004048 
[4216]  train-rmse:0.004045 
[4217]  train-rmse:0.004042 
[4218]  train-rmse:0.004042 
[4219]  train-rmse:0.004039 
[4220]  train-rmse:0.004036 
[4221]  train-rmse:0.004033 
[4222]  train-rmse:0.004031 
[4223]  train-rmse:0.004027 
[4224]  train-rmse:0.004020 
[4225]  train-rmse:0.004019 
[4226]  train-rmse:0.004016 
[4227]  train-rmse:0.004013 
[4228]  train-rmse:0.004011 
[4229]  train-rmse:0.004008 
[4230]  train-rmse:0.004004 
[4231]  train-rmse:0.004004 
[4232]  train-rmse:0.004004 
[4233]  train-rmse:0.004001 
[4234]  train-rmse:0.004000 
[4235]  train-rmse:0.003998 
[4236]  train-rmse:0.003994 
[4237]  train-rmse:0.003991 
[4238]  train-rmse:0.003991 
[4239]  train-rmse:0.003987 
[4240]  train-rmse:0.003984 
[4241]  train-rmse:0.003980 
[4242]  train-rmse:0.003977 
[4243]  train-rmse:0.003974 
[4244]  train-rmse:0.003974 
[4245]  train-rmse:0.003970 
[4246]  train-rmse:0.003968 
[4247]  train-rmse:0.003966 
[4248]  train-rmse:0.003964 
[4249]  train-rmse:0.003961 
[4250]  train-rmse:0.003961 
[4251]  train-rmse:0.003959 
[4252]  train-rmse:0.003957 
[4253]  train-rmse:0.003956 
[4254]  train-rmse:0.003953 
[4255]  train-rmse:0.003949 
[4256]  train-rmse:0.003949 
[4257]  train-rmse:0.003946 
[4258]  train-rmse:0.003943 
[4259]  train-rmse:0.003941 
[4260]  train-rmse:0.003938 
[4261]  train-rmse:0.003937 
[4262]  train-rmse:0.003931 
[4263]  train-rmse:0.003927 
[4264]  train-rmse:0.003923 
[4265]  train-rmse:0.003921 
[4266]  train-rmse:0.003918 
[4267]  train-rmse:0.003915 
[4268]  train-rmse:0.003912 
[4269]  train-rmse:0.003910 
[4270]  train-rmse:0.003908 
[4271]  train-rmse:0.003904 
[4272]  train-rmse:0.003901 
[4273]  train-rmse:0.003898 
[4274]  train-rmse:0.003896 
[4275]  train-rmse:0.003892 
[4276]  train-rmse:0.003889 
[4277]  train-rmse:0.003885 
[4278]  train-rmse:0.003883 
[4279]  train-rmse:0.003883 
[4280]  train-rmse:0.003881 
[4281]  train-rmse:0.003878 
[4282]  train-rmse:0.003873 
[4283]  train-rmse:0.003870 
[4284]  train-rmse:0.003869 
[4285]  train-rmse:0.003866 
[4286]  train-rmse:0.003864 
[4287]  train-rmse:0.003862 
[4288]  train-rmse:0.003860 
[4289]  train-rmse:0.003859 
[4290]  train-rmse:0.003856 
[4291]  train-rmse:0.003856 
[4292]  train-rmse:0.003854 
[4293]  train-rmse:0.003852 
[4294]  train-rmse:0.003848 
[4295]  train-rmse:0.003845 
[4296]  train-rmse:0.003843 
[4297]  train-rmse:0.003839 
[4298]  train-rmse:0.003838 
[4299]  train-rmse:0.003836 
[4300]  train-rmse:0.003834 
[4301]  train-rmse:0.003831 
[4302]  train-rmse:0.003828 
[4303]  train-rmse:0.003824 
[4304]  train-rmse:0.003827 
[4305]  train-rmse:0.003826 
[4306]  train-rmse:0.003823 
[4307]  train-rmse:0.003820 
[4308]  train-rmse:0.003817 
[4309]  train-rmse:0.003813 
[4310]  train-rmse:0.003811 
[4311]  train-rmse:0.003810 
[4312]  train-rmse:0.003808 
[4313]  train-rmse:0.003805 
[4314]  train-rmse:0.003804 
[4315]  train-rmse:0.003802 
[4316]  train-rmse:0.003800 
[4317]  train-rmse:0.003797 
[4318]  train-rmse:0.003795 
[4319]  train-rmse:0.003794 
[4320]  train-rmse:0.003793 
[4321]  train-rmse:0.003794 
[4322]  train-rmse:0.003791 
[4323]  train-rmse:0.003787 
[4324]  train-rmse:0.003784 
[4325]  train-rmse:0.003781 
[4326]  train-rmse:0.003779 
[4327]  train-rmse:0.003780 
[4328]  train-rmse:0.003777 
[4329]  train-rmse:0.003776 
[4330]  train-rmse:0.003773 
[4331]  train-rmse:0.003770 
[4332]  train-rmse:0.003767 
[4333]  train-rmse:0.003764 
[4334]  train-rmse:0.003761 
[4335]  train-rmse:0.003761 
[4336]  train-rmse:0.003758 
[4337]  train-rmse:0.003756 
[4338]  train-rmse:0.003753 
[4339]  train-rmse:0.003752 
[4340]  train-rmse:0.003748 
[4341]  train-rmse:0.003745 
[4342]  train-rmse:0.003744 
[4343]  train-rmse:0.003741 
[4344]  train-rmse:0.003739 
[4345]  train-rmse:0.003737 
[4346]  train-rmse:0.003735 
[4347]  train-rmse:0.003733 
[4348]  train-rmse:0.003732 
[4349]  train-rmse:0.003729 
[4350]  train-rmse:0.003727 
[4351]  train-rmse:0.003725 
[4352]  train-rmse:0.003722 
[4353]  train-rmse:0.003719 
[4354]  train-rmse:0.003716 
[4355]  train-rmse:0.003712 
[4356]  train-rmse:0.003710 
[4357]  train-rmse:0.003707 
[4358]  train-rmse:0.003707 
[4359]  train-rmse:0.003704 
[4360]  train-rmse:0.003703 
[4361]  train-rmse:0.003701 
[4362]  train-rmse:0.003697 
[4363]  train-rmse:0.003696 
[4364]  train-rmse:0.003692 
[4365]  train-rmse:0.003690 
[4366]  train-rmse:0.003686 
[4367]  train-rmse:0.003684 
[4368]  train-rmse:0.003683 
[4369]  train-rmse:0.003683 
[4370]  train-rmse:0.003684 
[4371]  train-rmse:0.003683 
[4372]  train-rmse:0.003681 
[4373]  train-rmse:0.003677 
[4374]  train-rmse:0.003674 
[4375]  train-rmse:0.003670 
[4376]  train-rmse:0.003666 
[4377]  train-rmse:0.003663 
[4378]  train-rmse:0.003661 
[4379]  train-rmse:0.003660 
[4380]  train-rmse:0.003658 
[4381]  train-rmse:0.003654 
[4382]  train-rmse:0.003651 
[4383]  train-rmse:0.003651 
[4384]  train-rmse:0.003647 
[4385]  train-rmse:0.003645 
[4386]  train-rmse:0.003643 
[4387]  train-rmse:0.003639 
[4388]  train-rmse:0.003637 
[4389]  train-rmse:0.003636 
[4390]  train-rmse:0.003633 
[4391]  train-rmse:0.003629 
[4392]  train-rmse:0.003627 
[4393]  train-rmse:0.003625 
[4394]  train-rmse:0.003622 
[4395]  train-rmse:0.003620 
[4396]  train-rmse:0.003617 
[4397]  train-rmse:0.003615 
[4398]  train-rmse:0.003614 
[4399]  train-rmse:0.003613 
[4400]  train-rmse:0.003611 
[4401]  train-rmse:0.003608 
[4402]  train-rmse:0.003606 
[4403]  train-rmse:0.003604 
[4404]  train-rmse:0.003602 
[4405]  train-rmse:0.003600 
[4406]  train-rmse:0.003598 
[4407]  train-rmse:0.003594 
[4408]  train-rmse:0.003593 
[4409]  train-rmse:0.003589 
[4410]  train-rmse:0.003590 
[4411]  train-rmse:0.003586 
[4412]  train-rmse:0.003583 
[4413]  train-rmse:0.003580 
[4414]  train-rmse:0.003578 
[4415]  train-rmse:0.003574 
[4416]  train-rmse:0.003571 
[4417]  train-rmse:0.003570 
[4418]  train-rmse:0.003569 
[4419]  train-rmse:0.003566 
[4420]  train-rmse:0.003563 
[4421]  train-rmse:0.003560 
[4422]  train-rmse:0.003558 
[4423]  train-rmse:0.003556 
[4424]  train-rmse:0.003555 
[4425]  train-rmse:0.003552 
[4426]  train-rmse:0.003549 
[4427]  train-rmse:0.003545 
[4428]  train-rmse:0.003542 
[4429]  train-rmse:0.003541 
[4430]  train-rmse:0.003538 
[4431]  train-rmse:0.003538 
[4432]  train-rmse:0.003534 
[4433]  train-rmse:0.003532 
[4434]  train-rmse:0.003528 
[4435]  train-rmse:0.003526 
[4436]  train-rmse:0.003523 
[4437]  train-rmse:0.003522 
[4438]  train-rmse:0.003521 
[4439]  train-rmse:0.003518 
[4440]  train-rmse:0.003514 
[4441]  train-rmse:0.003511 
[4442]  train-rmse:0.003509 
[4443]  train-rmse:0.003507 
[4444]  train-rmse:0.003505 
[4445]  train-rmse:0.003503 
[4446]  train-rmse:0.003500 
[4447]  train-rmse:0.003499 
[4448]  train-rmse:0.003499 
[4449]  train-rmse:0.003497 
[4450]  train-rmse:0.003494 
[4451]  train-rmse:0.003494 
[4452]  train-rmse:0.003493 
[4453]  train-rmse:0.003490 
[4454]  train-rmse:0.003489 
[4455]  train-rmse:0.003485 
[4456]  train-rmse:0.003482 
[4457]  train-rmse:0.003479 
[4458]  train-rmse:0.003478 
[4459]  train-rmse:0.003476 
[4460]  train-rmse:0.003473 
[4461]  train-rmse:0.003472 
[4462]  train-rmse:0.003468 
[4463]  train-rmse:0.003467 
[4464]  train-rmse:0.003464 
[4465]  train-rmse:0.003463 
[4466]  train-rmse:0.003461 
[4467]  train-rmse:0.003458 
[4468]  train-rmse:0.003455 
[4469]  train-rmse:0.003454 
[4470]  train-rmse:0.003453 
[4471]  train-rmse:0.003453 
[4472]  train-rmse:0.003450 
[4473]  train-rmse:0.003449 
[4474]  train-rmse:0.003449 
[4475]  train-rmse:0.003445 
[4476]  train-rmse:0.003443 
[4477]  train-rmse:0.003440 
[4478]  train-rmse:0.003440 
[4479]  train-rmse:0.003437 
[4480]  train-rmse:0.003437 
[4481]  train-rmse:0.003434 
[4482]  train-rmse:0.003432 
[4483]  train-rmse:0.003427 
[4484]  train-rmse:0.003424 
[4485]  train-rmse:0.003421 
[4486]  train-rmse:0.003419 
[4487]  train-rmse:0.003417 
[4488]  train-rmse:0.003417 
[4489]  train-rmse:0.003413 
[4490]  train-rmse:0.003411 
[4491]  train-rmse:0.003409 
[4492]  train-rmse:0.003406 
[4493]  train-rmse:0.003404 
[4494]  train-rmse:0.003401 
[4495]  train-rmse:0.003399 
[4496]  train-rmse:0.003398 
[4497]  train-rmse:0.003396 
[4498]  train-rmse:0.003394 
[4499]  train-rmse:0.003391 
[4500]  train-rmse:0.003389 
[4501]  train-rmse:0.003387 
[4502]  train-rmse:0.003385 
[4503]  train-rmse:0.003383 
[4504]  train-rmse:0.003381 
[4505]  train-rmse:0.003380 
[4506]  train-rmse:0.003376 
[4507]  train-rmse:0.003374 
[4508]  train-rmse:0.003371 
[4509]  train-rmse:0.003368 
[4510]  train-rmse:0.003367 
[4511]  train-rmse:0.003365 
[4512]  train-rmse:0.003363 
[4513]  train-rmse:0.003360 
[4514]  train-rmse:0.003357 
[4515]  train-rmse:0.003356 
[4516]  train-rmse:0.003354 
[4517]  train-rmse:0.003353 
[4518]  train-rmse:0.003352 
[4519]  train-rmse:0.003350 
[4520]  train-rmse:0.003349 
[4521]  train-rmse:0.003346 
[4522]  train-rmse:0.003345 
[4523]  train-rmse:0.003343 
[4524]  train-rmse:0.003341 
[4525]  train-rmse:0.003340 
[4526]  train-rmse:0.003337 
[4527]  train-rmse:0.003334 
[4528]  train-rmse:0.003331 
[4529]  train-rmse:0.003328 
[4530]  train-rmse:0.003327 
[4531]  train-rmse:0.003324 
[4532]  train-rmse:0.003322 
[4533]  train-rmse:0.003318 
[4534]  train-rmse:0.003317 
[4535]  train-rmse:0.003315 
[4536]  train-rmse:0.003312 
[4537]  train-rmse:0.003310 
[4538]  train-rmse:0.003309 
[4539]  train-rmse:0.003307 
[4540]  train-rmse:0.003305 
[4541]  train-rmse:0.003306 
[4542]  train-rmse:0.003305 
[4543]  train-rmse:0.003302 
[4544]  train-rmse:0.003298 
[4545]  train-rmse:0.003296 
[4546]  train-rmse:0.003296 
[4547]  train-rmse:0.003294 
[4548]  train-rmse:0.003292 
[4549]  train-rmse:0.003291 
[4550]  train-rmse:0.003287 
[4551]  train-rmse:0.003285 
[4552]  train-rmse:0.003282 
[4553]  train-rmse:0.003281 
[4554]  train-rmse:0.003279 
[4555]  train-rmse:0.003278 
[4556]  train-rmse:0.003276 
[4557]  train-rmse:0.003274 
[4558]  train-rmse:0.003272 
[4559]  train-rmse:0.003268 
[4560]  train-rmse:0.003265 
[4561]  train-rmse:0.003262 
[4562]  train-rmse:0.003262 
[4563]  train-rmse:0.003259 
[4564]  train-rmse:0.003258 
[4565]  train-rmse:0.003255 
[4566]  train-rmse:0.003254 
[4567]  train-rmse:0.003252 
[4568]  train-rmse:0.003248 
[4569]  train-rmse:0.003245 
[4570]  train-rmse:0.003245 
[4571]  train-rmse:0.003243 
[4572]  train-rmse:0.003241 
[4573]  train-rmse:0.003238 
[4574]  train-rmse:0.003238 
[4575]  train-rmse:0.003236 
[4576]  train-rmse:0.003234 
[4577]  train-rmse:0.003232 
[4578]  train-rmse:0.003230 
[4579]  train-rmse:0.003228 
[4580]  train-rmse:0.003225 
[4581]  train-rmse:0.003223 
[4582]  train-rmse:0.003222 
[4583]  train-rmse:0.003221 
[4584]  train-rmse:0.003219 
[4585]  train-rmse:0.003214 
[4586]  train-rmse:0.003212 
[4587]  train-rmse:0.003210 
[4588]  train-rmse:0.003209 
[4589]  train-rmse:0.003208 
[4590]  train-rmse:0.003204 
[4591]  train-rmse:0.003202 
[4592]  train-rmse:0.003201 
[4593]  train-rmse:0.003198 
[4594]  train-rmse:0.003196 
[4595]  train-rmse:0.003194 
[4596]  train-rmse:0.003193 
[4597]  train-rmse:0.003191 
[4598]  train-rmse:0.003189 
[4599]  train-rmse:0.003189 
[4600]  train-rmse:0.003186 
[4601]  train-rmse:0.003184 
[4602]  train-rmse:0.003182 
[4603]  train-rmse:0.003181 
[4604]  train-rmse:0.003181 
[4605]  train-rmse:0.003179 
[4606]  train-rmse:0.003179 
[4607]  train-rmse:0.003178 
[4608]  train-rmse:0.003177 
[4609]  train-rmse:0.003176 
[4610]  train-rmse:0.003171 
[4611]  train-rmse:0.003169 
[4612]  train-rmse:0.003169 
[4613]  train-rmse:0.003168 
[4614]  train-rmse:0.003166 
[4615]  train-rmse:0.003163 
[4616]  train-rmse:0.003158 
[4617]  train-rmse:0.003156 
[4618]  train-rmse:0.003155 
[4619]  train-rmse:0.003152 
[4620]  train-rmse:0.003149 
[4621]  train-rmse:0.003147 
[4622]  train-rmse:0.003146 
[4623]  train-rmse:0.003144 
[4624]  train-rmse:0.003142 
[4625]  train-rmse:0.003142 
[4626]  train-rmse:0.003139 
[4627]  train-rmse:0.003137 
[4628]  train-rmse:0.003134 
[4629]  train-rmse:0.003133 
[4630]  train-rmse:0.003130 
[4631]  train-rmse:0.003127 
[4632]  train-rmse:0.003125 
[4633]  train-rmse:0.003123 
[4634]  train-rmse:0.003119 
[4635]  train-rmse:0.003115 
[4636]  train-rmse:0.003112 
[4637]  train-rmse:0.003111 
[4638]  train-rmse:0.003112 
[4639]  train-rmse:0.003109 
[4640]  train-rmse:0.003106 
[4641]  train-rmse:0.003103 
[4642]  train-rmse:0.003103 
[4643]  train-rmse:0.003102 
[4644]  train-rmse:0.003100 
[4645]  train-rmse:0.003096 
[4646]  train-rmse:0.003099 
[4647]  train-rmse:0.003096 
[4648]  train-rmse:0.003094 
[4649]  train-rmse:0.003092 
[4650]  train-rmse:0.003090 
[4651]  train-rmse:0.003090 
[4652]  train-rmse:0.003089 
[4653]  train-rmse:0.003087 
[4654]  train-rmse:0.003084 
[4655]  train-rmse:0.003081 
[4656]  train-rmse:0.003080 
[4657]  train-rmse:0.003078 
[4658]  train-rmse:0.003075 
[4659]  train-rmse:0.003073 
[4660]  train-rmse:0.003073 
[4661]  train-rmse:0.003072 
[4662]  train-rmse:0.003071 
[4663]  train-rmse:0.003068 
[4664]  train-rmse:0.003065 
[4665]  train-rmse:0.003064 
[4666]  train-rmse:0.003062 
[4667]  train-rmse:0.003060 
[4668]  train-rmse:0.003059 
[4669]  train-rmse:0.003056 
[4670]  train-rmse:0.003056 
[4671]  train-rmse:0.003055 
[4672]  train-rmse:0.003052 
[4673]  train-rmse:0.003049 
[4674]  train-rmse:0.003046 
[4675]  train-rmse:0.003044 
[4676]  train-rmse:0.003043 
[4677]  train-rmse:0.003040 
[4678]  train-rmse:0.003039 
[4679]  train-rmse:0.003037 
[4680]  train-rmse:0.003037 
[4681]  train-rmse:0.003035 
[4682]  train-rmse:0.003034 
[4683]  train-rmse:0.003030 
[4684]  train-rmse:0.003028 
[4685]  train-rmse:0.003027 
[4686]  train-rmse:0.003027 
[4687]  train-rmse:0.003025 
[4688]  train-rmse:0.003022 
[4689]  train-rmse:0.003020 
[4690]  train-rmse:0.003018 
[4691]  train-rmse:0.003016 
[4692]  train-rmse:0.003014 
[4693]  train-rmse:0.003012 
[4694]  train-rmse:0.003009 
[4695]  train-rmse:0.003006 
[4696]  train-rmse:0.003004 
[4697]  train-rmse:0.003002 
[4698]  train-rmse:0.002999 
[4699]  train-rmse:0.002997 
[4700]  train-rmse:0.002994 
[4701]  train-rmse:0.002993 
[4702]  train-rmse:0.002991 
[4703]  train-rmse:0.002991 
[4704]  train-rmse:0.002989 
[4705]  train-rmse:0.002985 
[4706]  train-rmse:0.002984 
[4707]  train-rmse:0.002981 
[4708]  train-rmse:0.002979 
[4709]  train-rmse:0.002976 
[4710]  train-rmse:0.002974 
[4711]  train-rmse:0.002972 
[4712]  train-rmse:0.002969 
[4713]  train-rmse:0.002968 
[4714]  train-rmse:0.002966 
[4715]  train-rmse:0.002965 
[4716]  train-rmse:0.002963 
[4717]  train-rmse:0.002962 
[4718]  train-rmse:0.002961 
[4719]  train-rmse:0.002959 
[4720]  train-rmse:0.002955 
[4721]  train-rmse:0.002954 
[4722]  train-rmse:0.002954 
[4723]  train-rmse:0.002954 
[4724]  train-rmse:0.002955 
[4725]  train-rmse:0.002953 
[4726]  train-rmse:0.002952 
[4727]  train-rmse:0.002948 
[4728]  train-rmse:0.002947 
[4729]  train-rmse:0.002947 
[4730]  train-rmse:0.002945 
[4731]  train-rmse:0.002942 
[4732]  train-rmse:0.002939 
[4733]  train-rmse:0.002937 
[4734]  train-rmse:0.002936 
[4735]  train-rmse:0.002933 
[4736]  train-rmse:0.002932 
[4737]  train-rmse:0.002936 
[4738]  train-rmse:0.002934 
[4739]  train-rmse:0.002934 
[4740]  train-rmse:0.002932 
[4741]  train-rmse:0.002931 
[4742]  train-rmse:0.002927 
[4743]  train-rmse:0.002926 
[4744]  train-rmse:0.002925 
[4745]  train-rmse:0.002925 
[4746]  train-rmse:0.002923 
[4747]  train-rmse:0.002924 
[4748]  train-rmse:0.002921 
[4749]  train-rmse:0.002919 
[4750]  train-rmse:0.002917 
[4751]  train-rmse:0.002915 
[4752]  train-rmse:0.002914 
[4753]  train-rmse:0.002914 
[4754]  train-rmse:0.002911 
[4755]  train-rmse:0.002911 
[4756]  train-rmse:0.002910 
[4757]  train-rmse:0.002910 
[4758]  train-rmse:0.002906 
[4759]  train-rmse:0.002904 
[4760]  train-rmse:0.002901 
[4761]  train-rmse:0.002899 
[4762]  train-rmse:0.002898 
[4763]  train-rmse:0.002895 
[4764]  train-rmse:0.002894 
[4765]  train-rmse:0.002892 
[4766]  train-rmse:0.002888 
[4767]  train-rmse:0.002888 
[4768]  train-rmse:0.002885 
[4769]  train-rmse:0.002882 
[4770]  train-rmse:0.002879 
[4771]  train-rmse:0.002878 
[4772]  train-rmse:0.002876 
[4773]  train-rmse:0.002873 
[4774]  train-rmse:0.002873 
[4775]  train-rmse:0.002871 
[4776]  train-rmse:0.002869 
[4777]  train-rmse:0.002866 
[4778]  train-rmse:0.002863 
[4779]  train-rmse:0.002861 
[4780]  train-rmse:0.002860 
[4781]  train-rmse:0.002860 
[4782]  train-rmse:0.002858 
[4783]  train-rmse:0.002856 
[4784]  train-rmse:0.002857 
[4785]  train-rmse:0.002856 
[4786]  train-rmse:0.002854 
[4787]  train-rmse:0.002854 
[4788]  train-rmse:0.002853 
[4789]  train-rmse:0.002851 
[4790]  train-rmse:0.002848 
[4791]  train-rmse:0.002846 
[4792]  train-rmse:0.002842 
[4793]  train-rmse:0.002842 
[4794]  train-rmse:0.002841 
[4795]  train-rmse:0.002839 
[4796]  train-rmse:0.002836 
[4797]  train-rmse:0.002834 
[4798]  train-rmse:0.002833 
[4799]  train-rmse:0.002832 
[4800]  train-rmse:0.002832 
[4801]  train-rmse:0.002830 
[4802]  train-rmse:0.002828 
[4803]  train-rmse:0.002827 
[4804]  train-rmse:0.002826 
[4805]  train-rmse:0.002823 
[4806]  train-rmse:0.002821 
[4807]  train-rmse:0.002818 
[4808]  train-rmse:0.002815 
[4809]  train-rmse:0.002814 
[4810]  train-rmse:0.002812 
[4811]  train-rmse:0.002810 
[4812]  train-rmse:0.002809 
[4813]  train-rmse:0.002806 
[4814]  train-rmse:0.002804 
[4815]  train-rmse:0.002803 
[4816]  train-rmse:0.002801 
[4817]  train-rmse:0.002800 
[4818]  train-rmse:0.002798 
[4819]  train-rmse:0.002796 
[4820]  train-rmse:0.002796 
[4821]  train-rmse:0.002794 
[4822]  train-rmse:0.002792 
[4823]  train-rmse:0.002791 
[4824]  train-rmse:0.002792 
[4825]  train-rmse:0.002790 
[4826]  train-rmse:0.002790 
[4827]  train-rmse:0.002789 
[4828]  train-rmse:0.002788 
[4829]  train-rmse:0.002785 
[4830]  train-rmse:0.002784 
[4831]  train-rmse:0.002781 
[4832]  train-rmse:0.002781 
[4833]  train-rmse:0.002780 
[4834]  train-rmse:0.002781 
[4835]  train-rmse:0.002779 
[4836]  train-rmse:0.002776 
[4837]  train-rmse:0.002775 
[4838]  train-rmse:0.002772 
[4839]  train-rmse:0.002770 
[4840]  train-rmse:0.002769 
[4841]  train-rmse:0.002766 
[4842]  train-rmse:0.002764 
[4843]  train-rmse:0.002762 
[4844]  train-rmse:0.002760 
[4845]  train-rmse:0.002759 
[4846]  train-rmse:0.002755 
[4847]  train-rmse:0.002754 
[4848]  train-rmse:0.002754 
[4849]  train-rmse:0.002753 
[4850]  train-rmse:0.002752 
[4851]  train-rmse:0.002750 
[4852]  train-rmse:0.002748 
[4853]  train-rmse:0.002746 
[4854]  train-rmse:0.002744 
[4855]  train-rmse:0.002741 
[4856]  train-rmse:0.002740 
[4857]  train-rmse:0.002738 
[4858]  train-rmse:0.002735 
[4859]  train-rmse:0.002733 
[4860]  train-rmse:0.002731 
[4861]  train-rmse:0.002731 
[4862]  train-rmse:0.002729 
[4863]  train-rmse:0.002727 
[4864]  train-rmse:0.002725 
[4865]  train-rmse:0.002723 
[4866]  train-rmse:0.002720 
[4867]  train-rmse:0.002718 
[4868]  train-rmse:0.002716 
[4869]  train-rmse:0.002715 
[4870]  train-rmse:0.002714 
[4871]  train-rmse:0.002713 
[4872]  train-rmse:0.002710 
[4873]  train-rmse:0.002708 
[4874]  train-rmse:0.002705 
[4875]  train-rmse:0.002704 
[4876]  train-rmse:0.002700 
[4877]  train-rmse:0.002699 
[4878]  train-rmse:0.002697 
[4879]  train-rmse:0.002696 
[4880]  train-rmse:0.002695 
[4881]  train-rmse:0.002693 
[4882]  train-rmse:0.002691 
[4883]  train-rmse:0.002689 
[4884]  train-rmse:0.002687 
[4885]  train-rmse:0.002685 
[4886]  train-rmse:0.002685 
[4887]  train-rmse:0.002684 
[4888]  train-rmse:0.002682 
[4889]  train-rmse:0.002680 
[4890]  train-rmse:0.002678 
[4891]  train-rmse:0.002677 
[4892]  train-rmse:0.002676 
[4893]  train-rmse:0.002675 
[4894]  train-rmse:0.002674 
[4895]  train-rmse:0.002672 
[4896]  train-rmse:0.002670 
[4897]  train-rmse:0.002668 
[4898]  train-rmse:0.002665 
[4899]  train-rmse:0.002666 
[4900]  train-rmse:0.002664 
[4901]  train-rmse:0.002662 
[4902]  train-rmse:0.002660 
[4903]  train-rmse:0.002659 
[4904]  train-rmse:0.002656 
[4905]  train-rmse:0.002654 
[4906]  train-rmse:0.002654 
[4907]  train-rmse:0.002652 
[4908]  train-rmse:0.002650 
[4909]  train-rmse:0.002650 
[4910]  train-rmse:0.002649 
[4911]  train-rmse:0.002647 
[4912]  train-rmse:0.002646 
[4913]  train-rmse:0.002645 
[4914]  train-rmse:0.002643 
[4915]  train-rmse:0.002641 
[4916]  train-rmse:0.002639 
[4917]  train-rmse:0.002638 
[4918]  train-rmse:0.002636 
[4919]  train-rmse:0.002636 
[4920]  train-rmse:0.002636 
[4921]  train-rmse:0.002635 
[4922]  train-rmse:0.002634 
[4923]  train-rmse:0.002632 
[4924]  train-rmse:0.002630 
[4925]  train-rmse:0.002627 
[4926]  train-rmse:0.002626 
[4927]  train-rmse:0.002625 
[4928]  train-rmse:0.002626 
[4929]  train-rmse:0.002626 
[4930]  train-rmse:0.002624 
[4931]  train-rmse:0.002621 
[4932]  train-rmse:0.002621 
[4933]  train-rmse:0.002619 
[4934]  train-rmse:0.002618 
[4935]  train-rmse:0.002617 
[4936]  train-rmse:0.002614 
[4937]  train-rmse:0.002612 
[4938]  train-rmse:0.002612 
[4939]  train-rmse:0.002609 
[4940]  train-rmse:0.002608 
[4941]  train-rmse:0.002605 
[4942]  train-rmse:0.002604 
[4943]  train-rmse:0.002602 
[4944]  train-rmse:0.002600 
[4945]  train-rmse:0.002598 
[4946]  train-rmse:0.002597 
[4947]  train-rmse:0.002597 
[4948]  train-rmse:0.002597 
[4949]  train-rmse:0.002594 
[4950]  train-rmse:0.002592 
[4951]  train-rmse:0.002591 
[4952]  train-rmse:0.002589 
[4953]  train-rmse:0.002588 
[4954]  train-rmse:0.002586 
[4955]  train-rmse:0.002584 
[4956]  train-rmse:0.002582 
[4957]  train-rmse:0.002579 
[4958]  train-rmse:0.002577 
[4959]  train-rmse:0.002576 
[4960]  train-rmse:0.002574 
[4961]  train-rmse:0.002573 
[4962]  train-rmse:0.002571 
[4963]  train-rmse:0.002570 
[4964]  train-rmse:0.002568 
[4965]  train-rmse:0.002567 
[4966]  train-rmse:0.002565 
[4967]  train-rmse:0.002563 
[4968]  train-rmse:0.002559 
[4969]  train-rmse:0.002557 
[4970]  train-rmse:0.002555 
[4971]  train-rmse:0.002552 
[4972]  train-rmse:0.002550 
[4973]  train-rmse:0.002550 
[4974]  train-rmse:0.002547 
[4975]  train-rmse:0.002546 
[4976]  train-rmse:0.002544 
[4977]  train-rmse:0.002543 
[4978]  train-rmse:0.002541 
[4979]  train-rmse:0.002540 
[4980]  train-rmse:0.002539 
[4981]  train-rmse:0.002539 
[4982]  train-rmse:0.002538 
[4983]  train-rmse:0.002534 
[4984]  train-rmse:0.002532 
[4985]  train-rmse:0.002533 
[4986]  train-rmse:0.002532 
[4987]  train-rmse:0.002531 
[4988]  train-rmse:0.002531 
[4989]  train-rmse:0.002529 
[4990]  train-rmse:0.002527 
[4991]  train-rmse:0.002526 
[4992]  train-rmse:0.002523 
[4993]  train-rmse:0.002520 
[4994]  train-rmse:0.002518 
[4995]  train-rmse:0.002515 
[4996]  train-rmse:0.002513 
[4997]  train-rmse:0.002511 
[4998]  train-rmse:0.002511 
[4999]  train-rmse:0.002509 
[5000]  train-rmse:0.002508 
[5001]  train-rmse:0.002508 
[5002]  train-rmse:0.002505 
[5003]  train-rmse:0.002504 
[5004]  train-rmse:0.002500 
[5005]  train-rmse:0.002498 
[5006]  train-rmse:0.002499 
[5007]  train-rmse:0.002497 
[5008]  train-rmse:0.002496 
[5009]  train-rmse:0.002493 
[5010]  train-rmse:0.002492 
[5011]  train-rmse:0.002490 
[5012]  train-rmse:0.002489 
[5013]  train-rmse:0.002487 
[5014]  train-rmse:0.002485 
[5015]  train-rmse:0.002484 
[5016]  train-rmse:0.002483 
[5017]  train-rmse:0.002481 
[5018]  train-rmse:0.002480 
[5019]  train-rmse:0.002483 
[5020]  train-rmse:0.002482 
[5021]  train-rmse:0.002482 
[5022]  train-rmse:0.002481 
[5023]  train-rmse:0.002479 
[5024]  train-rmse:0.002477 
[5025]  train-rmse:0.002477 
[5026]  train-rmse:0.002473 
[5027]  train-rmse:0.002473 
[5028]  train-rmse:0.002473 
[5029]  train-rmse:0.002471 
[5030]  train-rmse:0.002469 
[5031]  train-rmse:0.002467 
[5032]  train-rmse:0.002465 
[5033]  train-rmse:0.002464 
[5034]  train-rmse:0.002462 
[5035]  train-rmse:0.002459 
[5036]  train-rmse:0.002458 
[5037]  train-rmse:0.002456 
[5038]  train-rmse:0.002454 
[5039]  train-rmse:0.002453 
[5040]  train-rmse:0.002451 
[5041]  train-rmse:0.002450 
[5042]  train-rmse:0.002448 
[5043]  train-rmse:0.002447 
[5044]  train-rmse:0.002446 
[5045]  train-rmse:0.002444 
[5046]  train-rmse:0.002443 
[5047]  train-rmse:0.002441 
[5048]  train-rmse:0.002440 
[5049]  train-rmse:0.002439 
[5050]  train-rmse:0.002437 
[5051]  train-rmse:0.002435 
[5052]  train-rmse:0.002434 
[5053]  train-rmse:0.002432 
[5054]  train-rmse:0.002431 
[5055]  train-rmse:0.002429 
[5056]  train-rmse:0.002426 
[5057]  train-rmse:0.002425 
[5058]  train-rmse:0.002423 
[5059]  train-rmse:0.002421 
[5060]  train-rmse:0.002420 
[5061]  train-rmse:0.002417 
[5062]  train-rmse:0.002415 
[5063]  train-rmse:0.002414 
[5064]  train-rmse:0.002414 
[5065]  train-rmse:0.002412 
[5066]  train-rmse:0.002411 
[5067]  train-rmse:0.002410 
[5068]  train-rmse:0.002409 
[5069]  train-rmse:0.002407 
[5070]  train-rmse:0.002406 
[5071]  train-rmse:0.002405 
[5072]  train-rmse:0.002403 
[5073]  train-rmse:0.002401 
[5074]  train-rmse:0.002400 
[5075]  train-rmse:0.002398 
[5076]  train-rmse:0.002397 
[5077]  train-rmse:0.002396 
[5078]  train-rmse:0.002394 
[5079]  train-rmse:0.002393 
[5080]  train-rmse:0.002391 
[5081]  train-rmse:0.002389 
[5082]  train-rmse:0.002388 
[5083]  train-rmse:0.002386 
[5084]  train-rmse:0.002384 
[5085]  train-rmse:0.002383 
[5086]  train-rmse:0.002381 
[5087]  train-rmse:0.002381 
[5088]  train-rmse:0.002378 
[5089]  train-rmse:0.002376 
[5090]  train-rmse:0.002376 
[5091]  train-rmse:0.002374 
[5092]  train-rmse:0.002373 
[5093]  train-rmse:0.002372 
[5094]  train-rmse:0.002371 
[5095]  train-rmse:0.002368 
[5096]  train-rmse:0.002367 
[5097]  train-rmse:0.002366 
[5098]  train-rmse:0.002365 
[5099]  train-rmse:0.002363 
[5100]  train-rmse:0.002362 
[5101]  train-rmse:0.002361 
[5102]  train-rmse:0.002359 
[5103]  train-rmse:0.002357 
[5104]  train-rmse:0.002357 
[5105]  train-rmse:0.002356 
[5106]  train-rmse:0.002356 
[5107]  train-rmse:0.002355 
[5108]  train-rmse:0.002353 
[5109]  train-rmse:0.002349 
[5110]  train-rmse:0.002347 
[5111]  train-rmse:0.002345 
[5112]  train-rmse:0.002342 
[5113]  train-rmse:0.002340 
[5114]  train-rmse:0.002338 
[5115]  train-rmse:0.002336 
[5116]  train-rmse:0.002335 
[5117]  train-rmse:0.002333 
[5118]  train-rmse:0.002330 
[5119]  train-rmse:0.002329 
[5120]  train-rmse:0.002329 
[5121]  train-rmse:0.002327 
[5122]  train-rmse:0.002325 
[5123]  train-rmse:0.002324 
[5124]  train-rmse:0.002323 
[5125]  train-rmse:0.002321 
[5126]  train-rmse:0.002319 
[5127]  train-rmse:0.002317 
[5128]  train-rmse:0.002316 
[5129]  train-rmse:0.002316 
[5130]  train-rmse:0.002314 
[5131]  train-rmse:0.002313 
[5132]  train-rmse:0.002311 
[5133]  train-rmse:0.002310 
[5134]  train-rmse:0.002310 
[5135]  train-rmse:0.002308 
[5136]  train-rmse:0.002306 
[5137]  train-rmse:0.002307 
[5138]  train-rmse:0.002305 
[5139]  train-rmse:0.002304 
[5140]  train-rmse:0.002304 
[5141]  train-rmse:0.002303 
[5142]  train-rmse:0.002302 
[5143]  train-rmse:0.002300 
[5144]  train-rmse:0.002299 
[5145]  train-rmse:0.002298 
[5146]  train-rmse:0.002296 
[5147]  train-rmse:0.002295 
[5148]  train-rmse:0.002293 
[5149]  train-rmse:0.002292 
[5150]  train-rmse:0.002291 
[5151]  train-rmse:0.002289 
[5152]  train-rmse:0.002289 
[5153]  train-rmse:0.002287 
[5154]  train-rmse:0.002285 
[5155]  train-rmse:0.002284 
[5156]  train-rmse:0.002283 
[5157]  train-rmse:0.002281 
[5158]  train-rmse:0.002280 
[5159]  train-rmse:0.002278 
[5160]  train-rmse:0.002277 
[5161]  train-rmse:0.002276 
[5162]  train-rmse:0.002273 
[5163]  train-rmse:0.002272 
[5164]  train-rmse:0.002270 
[5165]  train-rmse:0.002268 
[5166]  train-rmse:0.002267 
[5167]  train-rmse:0.002266 
[5168]  train-rmse:0.002265 
[5169]  train-rmse:0.002264 
[5170]  train-rmse:0.002263 
[5171]  train-rmse:0.002262 
[5172]  train-rmse:0.002261 
[5173]  train-rmse:0.002260 
[5174]  train-rmse:0.002258 
[5175]  train-rmse:0.002256 
[5176]  train-rmse:0.002254 
[5177]  train-rmse:0.002253 
[5178]  train-rmse:0.002255 
[5179]  train-rmse:0.002253 
[5180]  train-rmse:0.002253 
[5181]  train-rmse:0.002251 
[5182]  train-rmse:0.002250 
[5183]  train-rmse:0.002249 
[5184]  train-rmse:0.002248 
[5185]  train-rmse:0.002248 
[5186]  train-rmse:0.002246 
[5187]  train-rmse:0.002245 
[5188]  train-rmse:0.002243 
[5189]  train-rmse:0.002241 
[5190]  train-rmse:0.002240 
[5191]  train-rmse:0.002239 
[5192]  train-rmse:0.002238 
[5193]  train-rmse:0.002237 
[5194]  train-rmse:0.002235 
[5195]  train-rmse:0.002235 
[5196]  train-rmse:0.002234 
[5197]  train-rmse:0.002232 
[5198]  train-rmse:0.002229 
[5199]  train-rmse:0.002227 
[5200]  train-rmse:0.002226 
[5201]  train-rmse:0.002224 
[5202]  train-rmse:0.002223 
[5203]  train-rmse:0.002222 
[5204]  train-rmse:0.002222 
[5205]  train-rmse:0.002221 
[5206]  train-rmse:0.002220 
[5207]  train-rmse:0.002218 
[5208]  train-rmse:0.002216 
[5209]  train-rmse:0.002215 
[5210]  train-rmse:0.002214 
[5211]  train-rmse:0.002214 
[5212]  train-rmse:0.002212 
[5213]  train-rmse:0.002210 
[5214]  train-rmse:0.002209 
[5215]  train-rmse:0.002206 
[5216]  train-rmse:0.002205 
[5217]  train-rmse:0.002203 
[5218]  train-rmse:0.002201 
[5219]  train-rmse:0.002200 
[5220]  train-rmse:0.002198 
[5221]  train-rmse:0.002196 
[5222]  train-rmse:0.002194 
[5223]  train-rmse:0.002192 
[5224]  train-rmse:0.002192 
[5225]  train-rmse:0.002191 
[5226]  train-rmse:0.002189 
[5227]  train-rmse:0.002186 
[5228]  train-rmse:0.002185 
[5229]  train-rmse:0.002183 
[5230]  train-rmse:0.002182 
[5231]  train-rmse:0.002181 
[5232]  train-rmse:0.002178 
[5233]  train-rmse:0.002177 
[5234]  train-rmse:0.002175 
[5235]  train-rmse:0.002173 
[5236]  train-rmse:0.002171 
[5237]  train-rmse:0.002170 
[5238]  train-rmse:0.002169 
[5239]  train-rmse:0.002167 
[5240]  train-rmse:0.002165 
[5241]  train-rmse:0.002164 
[5242]  train-rmse:0.002163 
[5243]  train-rmse:0.002163 
[5244]  train-rmse:0.002161 
[5245]  train-rmse:0.002160 
[5246]  train-rmse:0.002159 
[5247]  train-rmse:0.002158 
[5248]  train-rmse:0.002156 
[5249]  train-rmse:0.002155 
[5250]  train-rmse:0.002155 
[5251]  train-rmse:0.002154 
[5252]  train-rmse:0.002153 
[5253]  train-rmse:0.002151 
[5254]  train-rmse:0.002150 
[5255]  train-rmse:0.002148 
[5256]  train-rmse:0.002147 
[5257]  train-rmse:0.002145 
[5258]  train-rmse:0.002143 
[5259]  train-rmse:0.002142 
[5260]  train-rmse:0.002141 
[5261]  train-rmse:0.002140 
[5262]  train-rmse:0.002138 
[5263]  train-rmse:0.002137 
[5264]  train-rmse:0.002137 
[5265]  train-rmse:0.002136 
[5266]  train-rmse:0.002134 
[5267]  train-rmse:0.002132 
[5268]  train-rmse:0.002130 
[5269]  train-rmse:0.002128 
[5270]  train-rmse:0.002126 
[5271]  train-rmse:0.002124 
[5272]  train-rmse:0.002122 
[5273]  train-rmse:0.002120 
[5274]  train-rmse:0.002119 
[5275]  train-rmse:0.002118 
[5276]  train-rmse:0.002118 
[5277]  train-rmse:0.002115 
[5278]  train-rmse:0.002114 
[5279]  train-rmse:0.002112 
[5280]  train-rmse:0.002110 
[5281]  train-rmse:0.002110 
[5282]  train-rmse:0.002109 
[5283]  train-rmse:0.002107 
[5284]  train-rmse:0.002106 
[5285]  train-rmse:0.002104 
[5286]  train-rmse:0.002103 
[5287]  train-rmse:0.002101 
[5288]  train-rmse:0.002101 
[5289]  train-rmse:0.002098 
[5290]  train-rmse:0.002096 
[5291]  train-rmse:0.002095 
[5292]  train-rmse:0.002094 
[5293]  train-rmse:0.002093 
[5294]  train-rmse:0.002091 
[5295]  train-rmse:0.002090 
[5296]  train-rmse:0.002089 
[5297]  train-rmse:0.002087 
[5298]  train-rmse:0.002085 
[5299]  train-rmse:0.002083 
[5300]  train-rmse:0.002082 
[5301]  train-rmse:0.002082 
[5302]  train-rmse:0.002082 
[5303]  train-rmse:0.002080 
[5304]  train-rmse:0.002080 
[5305]  train-rmse:0.002078 
[5306]  train-rmse:0.002078 
[5307]  train-rmse:0.002077 
[5308]  train-rmse:0.002075 
[5309]  train-rmse:0.002074 
[5310]  train-rmse:0.002073 
[5311]  train-rmse:0.002071 
[5312]  train-rmse:0.002070 
[5313]  train-rmse:0.002069 
[5314]  train-rmse:0.002069 
[5315]  train-rmse:0.002066 
[5316]  train-rmse:0.002064 
[5317]  train-rmse:0.002065 
[5318]  train-rmse:0.002064 
[5319]  train-rmse:0.002062 
[5320]  train-rmse:0.002059 
[5321]  train-rmse:0.002059 
[5322]  train-rmse:0.002057 
[5323]  train-rmse:0.002056 
[5324]  train-rmse:0.002054 
[5325]  train-rmse:0.002053 
[5326]  train-rmse:0.002051 
[5327]  train-rmse:0.002050 
[5328]  train-rmse:0.002048 
[5329]  train-rmse:0.002046 
[5330]  train-rmse:0.002045 
[5331]  train-rmse:0.002044 
[5332]  train-rmse:0.002042 
[5333]  train-rmse:0.002041 
[5334]  train-rmse:0.002039 
[5335]  train-rmse:0.002037 
[5336]  train-rmse:0.002035 
[5337]  train-rmse:0.002035 
[5338]  train-rmse:0.002035 
[5339]  train-rmse:0.002035 
[5340]  train-rmse:0.002035 
[5341]  train-rmse:0.002034 
[5342]  train-rmse:0.002033 
[5343]  train-rmse:0.002031 
[5344]  train-rmse:0.002031 
[5345]  train-rmse:0.002029 
[5346]  train-rmse:0.002027 
[5347]  train-rmse:0.002027 
[5348]  train-rmse:0.002024 
[5349]  train-rmse:0.002023 
[5350]  train-rmse:0.002022 
[5351]  train-rmse:0.002019 
[5352]  train-rmse:0.002019 
[5353]  train-rmse:0.002018 
[5354]  train-rmse:0.002017 
[5355]  train-rmse:0.002015 
[5356]  train-rmse:0.002013 
[5357]  train-rmse:0.002012 
[5358]  train-rmse:0.002012 
[5359]  train-rmse:0.002011 
[5360]  train-rmse:0.002010 
[5361]  train-rmse:0.002008 
[5362]  train-rmse:0.002006 
[5363]  train-rmse:0.002005 
[5364]  train-rmse:0.002003 
[5365]  train-rmse:0.002002 
[5366]  train-rmse:0.002001 
[5367]  train-rmse:0.001999 
[5368]  train-rmse:0.001998 
[5369]  train-rmse:0.001997 
[5370]  train-rmse:0.001996 
[5371]  train-rmse:0.001995 
[5372]  train-rmse:0.001995 
[5373]  train-rmse:0.001994 
[5374]  train-rmse:0.001993 
[5375]  train-rmse:0.001992 
[5376]  train-rmse:0.001990 
[5377]  train-rmse:0.001988 
[5378]  train-rmse:0.001989 
[5379]  train-rmse:0.001987 
[5380]  train-rmse:0.001985 
[5381]  train-rmse:0.001984 
[5382]  train-rmse:0.001982 
[5383]  train-rmse:0.001981 
[5384]  train-rmse:0.001980 
[5385]  train-rmse:0.001978 
[5386]  train-rmse:0.001977 
[5387]  train-rmse:0.001977 
[5388]  train-rmse:0.001975 
[5389]  train-rmse:0.001974 
[5390]  train-rmse:0.001973 
[5391]  train-rmse:0.001971 
[5392]  train-rmse:0.001971 
[5393]  train-rmse:0.001972 
[5394]  train-rmse:0.001971 
[5395]  train-rmse:0.001970 
[5396]  train-rmse:0.001968 
[5397]  train-rmse:0.001966 
[5398]  train-rmse:0.001965 
[5399]  train-rmse:0.001964 
[5400]  train-rmse:0.001965 
[5401]  train-rmse:0.001964 
[5402]  train-rmse:0.001962 
[5403]  train-rmse:0.001961 
[5404]  train-rmse:0.001959 
[5405]  train-rmse:0.001958 
[5406]  train-rmse:0.001956 
[5407]  train-rmse:0.001954 
[5408]  train-rmse:0.001953 
[5409]  train-rmse:0.001952 
[5410]  train-rmse:0.001951 
[5411]  train-rmse:0.001950 
[5412]  train-rmse:0.001948 
[5413]  train-rmse:0.001946 
[5414]  train-rmse:0.001945 
[5415]  train-rmse:0.001944 
[5416]  train-rmse:0.001941 
[5417]  train-rmse:0.001940 
[5418]  train-rmse:0.001939 
[5419]  train-rmse:0.001937 
[5420]  train-rmse:0.001936 
[5421]  train-rmse:0.001935 
[5422]  train-rmse:0.001933 
[5423]  train-rmse:0.001932 
[5424]  train-rmse:0.001931 
[5425]  train-rmse:0.001929 
[5426]  train-rmse:0.001928 
[5427]  train-rmse:0.001927 
[5428]  train-rmse:0.001925 
[5429]  train-rmse:0.001924 
[5430]  train-rmse:0.001923 
[5431]  train-rmse:0.001922 
[5432]  train-rmse:0.001922 
[5433]  train-rmse:0.001920 
[5434]  train-rmse:0.001919 
[5435]  train-rmse:0.001918 
[5436]  train-rmse:0.001916 
[5437]  train-rmse:0.001915 
[5438]  train-rmse:0.001915 
[5439]  train-rmse:0.001914 
[5440]  train-rmse:0.001912 
[5441]  train-rmse:0.001910 
[5442]  train-rmse:0.001909 
[5443]  train-rmse:0.001907 
[5444]  train-rmse:0.001907 
[5445]  train-rmse:0.001905 
[5446]  train-rmse:0.001904 
[5447]  train-rmse:0.001903 
[5448]  train-rmse:0.001901 
[5449]  train-rmse:0.001900 
[5450]  train-rmse:0.001899 
[5451]  train-rmse:0.001898 
[5452]  train-rmse:0.001896 
[5453]  train-rmse:0.001895 
[5454]  train-rmse:0.001894 
[5455]  train-rmse:0.001893 
[5456]  train-rmse:0.001892 
[5457]  train-rmse:0.001891 
[5458]  train-rmse:0.001890 
[5459]  train-rmse:0.001889 
[5460]  train-rmse:0.001887 
[5461]  train-rmse:0.001886 
[5462]  train-rmse:0.001886 
[5463]  train-rmse:0.001885 
[5464]  train-rmse:0.001884 
[5465]  train-rmse:0.001882 
[5466]  train-rmse:0.001880 
[5467]  train-rmse:0.001878 
[5468]  train-rmse:0.001876 
[5469]  train-rmse:0.001874 
[5470]  train-rmse:0.001873 
[5471]  train-rmse:0.001871 
[5472]  train-rmse:0.001870 
[5473]  train-rmse:0.001870 
[5474]  train-rmse:0.001869 
[5475]  train-rmse:0.001868 
[5476]  train-rmse:0.001867 
[5477]  train-rmse:0.001868 
[5478]  train-rmse:0.001867 
[5479]  train-rmse:0.001866 
[5480]  train-rmse:0.001865 
[5481]  train-rmse:0.001864 
[5482]  train-rmse:0.001863 
[5483]  train-rmse:0.001862 
[5484]  train-rmse:0.001861 
[5485]  train-rmse:0.001861 
[5486]  train-rmse:0.001859 
[5487]  train-rmse:0.001858 
[5488]  train-rmse:0.001857 
[5489]  train-rmse:0.001856 
[5490]  train-rmse:0.001855 
[5491]  train-rmse:0.001853 
[5492]  train-rmse:0.001852 
[5493]  train-rmse:0.001852 
[5494]  train-rmse:0.001851 
[5495]  train-rmse:0.001850 
[5496]  train-rmse:0.001849 
[5497]  train-rmse:0.001848 
[5498]  train-rmse:0.001848 
[5499]  train-rmse:0.001846 
[5500]  train-rmse:0.001845 
[5501]  train-rmse:0.001845 
[5502]  train-rmse:0.001843 
[5503]  train-rmse:0.001842 
[5504]  train-rmse:0.001842 
[5505]  train-rmse:0.001840 
[5506]  train-rmse:0.001840 
[5507]  train-rmse:0.001839 
[5508]  train-rmse:0.001837 
[5509]  train-rmse:0.001836 
[5510]  train-rmse:0.001835 
[5511]  train-rmse:0.001833 
[5512]  train-rmse:0.001831 
[5513]  train-rmse:0.001829 
[5514]  train-rmse:0.001829 
[5515]  train-rmse:0.001827 
[5516]  train-rmse:0.001826 
[5517]  train-rmse:0.001825 
[5518]  train-rmse:0.001825 
[5519]  train-rmse:0.001823 
[5520]  train-rmse:0.001823 
[5521]  train-rmse:0.001821 
[5522]  train-rmse:0.001820 
[5523]  train-rmse:0.001818 
[5524]  train-rmse:0.001815 
[5525]  train-rmse:0.001814 
[5526]  train-rmse:0.001814 
[5527]  train-rmse:0.001812 
[5528]  train-rmse:0.001811 
[5529]  train-rmse:0.001810 
[5530]  train-rmse:0.001809 
[5531]  train-rmse:0.001808 
[5532]  train-rmse:0.001808 
[5533]  train-rmse:0.001805 
[5534]  train-rmse:0.001805 
[5535]  train-rmse:0.001803 
[5536]  train-rmse:0.001802 
[5537]  train-rmse:0.001803 
[5538]  train-rmse:0.001802 
[5539]  train-rmse:0.001801 
[5540]  train-rmse:0.001800 
[5541]  train-rmse:0.001799 
[5542]  train-rmse:0.001797 
[5543]  train-rmse:0.001796 
[5544]  train-rmse:0.001795 
[5545]  train-rmse:0.001793 
[5546]  train-rmse:0.001793 
[5547]  train-rmse:0.001792 
[5548]  train-rmse:0.001791 
[5549]  train-rmse:0.001791 
[5550]  train-rmse:0.001790 
[5551]  train-rmse:0.001789 
[5552]  train-rmse:0.001787 
[5553]  train-rmse:0.001786 
[5554]  train-rmse:0.001784 
[5555]  train-rmse:0.001783 
[5556]  train-rmse:0.001781 
[5557]  train-rmse:0.001779 
[5558]  train-rmse:0.001779 
[5559]  train-rmse:0.001779 
[5560]  train-rmse:0.001777 
[5561]  train-rmse:0.001776 
[5562]  train-rmse:0.001776 
[5563]  train-rmse:0.001775 
[5564]  train-rmse:0.001774 
[5565]  train-rmse:0.001773 
[5566]  train-rmse:0.001772 
[5567]  train-rmse:0.001770 
[5568]  train-rmse:0.001769 
[5569]  train-rmse:0.001768 
[5570]  train-rmse:0.001767 
[5571]  train-rmse:0.001765 
[5572]  train-rmse:0.001765 
[5573]  train-rmse:0.001765 
[5574]  train-rmse:0.001764 
[5575]  train-rmse:0.001764 
[5576]  train-rmse:0.001764 
[5577]  train-rmse:0.001762 
[5578]  train-rmse:0.001761 
[5579]  train-rmse:0.001760 
[5580]  train-rmse:0.001760 
[5581]  train-rmse:0.001759 
[5582]  train-rmse:0.001758 
[5583]  train-rmse:0.001757 
[5584]  train-rmse:0.001756 
[5585]  train-rmse:0.001755 
[5586]  train-rmse:0.001754 
[5587]  train-rmse:0.001753 
[5588]  train-rmse:0.001751 
[5589]  train-rmse:0.001750 
[5590]  train-rmse:0.001749 
[5591]  train-rmse:0.001748 
[5592]  train-rmse:0.001746 
[5593]  train-rmse:0.001744 
[5594]  train-rmse:0.001743 
[5595]  train-rmse:0.001741 
[5596]  train-rmse:0.001739 
[5597]  train-rmse:0.001739 
[5598]  train-rmse:0.001737 
[5599]  train-rmse:0.001736 
[5600]  train-rmse:0.001735 
[5601]  train-rmse:0.001734 
[5602]  train-rmse:0.001733 
[5603]  train-rmse:0.001732 
[5604]  train-rmse:0.001731 
[5605]  train-rmse:0.001731 
[5606]  train-rmse:0.001730 
[5607]  train-rmse:0.001728 
[5608]  train-rmse:0.001727 
[5609]  train-rmse:0.001726 
[5610]  train-rmse:0.001725 
[5611]  train-rmse:0.001723 
[5612]  train-rmse:0.001722 
[5613]  train-rmse:0.001721 
[5614]  train-rmse:0.001721 
[5615]  train-rmse:0.001719 
[5616]  train-rmse:0.001718 
[5617]  train-rmse:0.001717 
[5618]  train-rmse:0.001716 
[5619]  train-rmse:0.001716 
[5620]  train-rmse:0.001714 
[5621]  train-rmse:0.001714 
[5622]  train-rmse:0.001713 
[5623]  train-rmse:0.001713 
[5624]  train-rmse:0.001711 
[5625]  train-rmse:0.001710 
[5626]  train-rmse:0.001709 
[5627]  train-rmse:0.001710 
[5628]  train-rmse:0.001709 
[5629]  train-rmse:0.001708 
[5630]  train-rmse:0.001707 
[5631]  train-rmse:0.001705 
[5632]  train-rmse:0.001703 
[5633]  train-rmse:0.001701 
[5634]  train-rmse:0.001700 
[5635]  train-rmse:0.001699 
[5636]  train-rmse:0.001699 
[5637]  train-rmse:0.001699 
[5638]  train-rmse:0.001698 
[5639]  train-rmse:0.001696 
[5640]  train-rmse:0.001695 
[5641]  train-rmse:0.001692 
[5642]  train-rmse:0.001692 
[5643]  train-rmse:0.001691 
[5644]  train-rmse:0.001689 
[5645]  train-rmse:0.001689 
[5646]  train-rmse:0.001688 
[5647]  train-rmse:0.001687 
[5648]  train-rmse:0.001686 
[5649]  train-rmse:0.001685 
[5650]  train-rmse:0.001684 
[5651]  train-rmse:0.001684 
[5652]  train-rmse:0.001682 
[5653]  train-rmse:0.001680 
[5654]  train-rmse:0.001679 
[5655]  train-rmse:0.001678 
[5656]  train-rmse:0.001677 
[5657]  train-rmse:0.001675 
[5658]  train-rmse:0.001674 
[5659]  train-rmse:0.001672 
[5660]  train-rmse:0.001672 
[5661]  train-rmse:0.001670 
[5662]  train-rmse:0.001669 
[5663]  train-rmse:0.001669 
[5664]  train-rmse:0.001669 
[5665]  train-rmse:0.001667 
[5666]  train-rmse:0.001665 
[5667]  train-rmse:0.001664 
[5668]  train-rmse:0.001663 
[5669]  train-rmse:0.001662 
[5670]  train-rmse:0.001661 
[5671]  train-rmse:0.001661 
[5672]  train-rmse:0.001661 
[5673]  train-rmse:0.001661 
[5674]  train-rmse:0.001659 
[5675]  train-rmse:0.001658 
[5676]  train-rmse:0.001658 
[5677]  train-rmse:0.001657 
[5678]  train-rmse:0.001655 
[5679]  train-rmse:0.001654 
[5680]  train-rmse:0.001653 
[5681]  train-rmse:0.001652 
[5682]  train-rmse:0.001650 
[5683]  train-rmse:0.001648 
[5684]  train-rmse:0.001647 
[5685]  train-rmse:0.001646 
[5686]  train-rmse:0.001645 
[5687]  train-rmse:0.001644 
[5688]  train-rmse:0.001642 
[5689]  train-rmse:0.001640 
[5690]  train-rmse:0.001638 
[5691]  train-rmse:0.001638 
[5692]  train-rmse:0.001638 
[5693]  train-rmse:0.001636 
[5694]  train-rmse:0.001636 
[5695]  train-rmse:0.001635 
[5696]  train-rmse:0.001634 
[5697]  train-rmse:0.001634 
[5698]  train-rmse:0.001632 
[5699]  train-rmse:0.001631 
[5700]  train-rmse:0.001630 
[5701]  train-rmse:0.001629 
[5702]  train-rmse:0.001628 
[5703]  train-rmse:0.001627 
[5704]  train-rmse:0.001626 
[5705]  train-rmse:0.001626 
[5706]  train-rmse:0.001625 
[5707]  train-rmse:0.001624 
[5708]  train-rmse:0.001622 
[5709]  train-rmse:0.001621 
[5710]  train-rmse:0.001619 
[5711]  train-rmse:0.001618 
[5712]  train-rmse:0.001617 
[5713]  train-rmse:0.001616 
[5714]  train-rmse:0.001615 
[5715]  train-rmse:0.001614 
[5716]  train-rmse:0.001612 
[5717]  train-rmse:0.001611 
[5718]  train-rmse:0.001610 
[5719]  train-rmse:0.001609 
[5720]  train-rmse:0.001607 
[5721]  train-rmse:0.001606 
[5722]  train-rmse:0.001606 
[5723]  train-rmse:0.001605 
[5724]  train-rmse:0.001604 
[5725]  train-rmse:0.001603 
[5726]  train-rmse:0.001602 
[5727]  train-rmse:0.001601 
[5728]  train-rmse:0.001600 
[5729]  train-rmse:0.001599 
[5730]  train-rmse:0.001598 
[5731]  train-rmse:0.001598 
[5732]  train-rmse:0.001597 
[5733]  train-rmse:0.001595 
[5734]  train-rmse:0.001594 
[5735]  train-rmse:0.001592 
[5736]  train-rmse:0.001591 
[5737]  train-rmse:0.001590 
[5738]  train-rmse:0.001588 
[5739]  train-rmse:0.001587 
[5740]  train-rmse:0.001587 
[5741]  train-rmse:0.001586 
[5742]  train-rmse:0.001585 
[5743]  train-rmse:0.001584 
[5744]  train-rmse:0.001583 
[5745]  train-rmse:0.001582 
[5746]  train-rmse:0.001582 
[5747]  train-rmse:0.001580 
[5748]  train-rmse:0.001579 
[5749]  train-rmse:0.001579 
[5750]  train-rmse:0.001578 
[5751]  train-rmse:0.001577 
[5752]  train-rmse:0.001575 
[5753]  train-rmse:0.001574 
[5754]  train-rmse:0.001573 
[5755]  train-rmse:0.001572 
[5756]  train-rmse:0.001572 
[5757]  train-rmse:0.001570 
[5758]  train-rmse:0.001569 
[5759]  train-rmse:0.001569 
[5760]  train-rmse:0.001568 
[5761]  train-rmse:0.001568 
[5762]  train-rmse:0.001567 
[5763]  train-rmse:0.001566 
[5764]  train-rmse:0.001565 
[5765]  train-rmse:0.001564 
[5766]  train-rmse:0.001564 
[5767]  train-rmse:0.001563 
[5768]  train-rmse:0.001563 
[5769]  train-rmse:0.001562 
[5770]  train-rmse:0.001560 
[5771]  train-rmse:0.001559 
[5772]  train-rmse:0.001558 
[5773]  train-rmse:0.001557 
[5774]  train-rmse:0.001556 
[5775]  train-rmse:0.001555 
[5776]  train-rmse:0.001553 
[5777]  train-rmse:0.001552 
[5778]  train-rmse:0.001551 
[5779]  train-rmse:0.001549 
[5780]  train-rmse:0.001549 
[5781]  train-rmse:0.001548 
[5782]  train-rmse:0.001547 
[5783]  train-rmse:0.001546 
[5784]  train-rmse:0.001545 
[5785]  train-rmse:0.001544 
[5786]  train-rmse:0.001543 
[5787]  train-rmse:0.001542 
[5788]  train-rmse:0.001542 
[5789]  train-rmse:0.001542 
[5790]  train-rmse:0.001540 
[5791]  train-rmse:0.001540 
[5792]  train-rmse:0.001538 
[5793]  train-rmse:0.001539 
[5794]  train-rmse:0.001538 
[5795]  train-rmse:0.001537 
[5796]  train-rmse:0.001536 
[5797]  train-rmse:0.001536 
[5798]  train-rmse:0.001535 
[5799]  train-rmse:0.001534 
[5800]  train-rmse:0.001533 
[5801]  train-rmse:0.001532 
[5802]  train-rmse:0.001531 
[5803]  train-rmse:0.001530 
[5804]  train-rmse:0.001528 
[5805]  train-rmse:0.001527 
[5806]  train-rmse:0.001526 
[5807]  train-rmse:0.001525 
[5808]  train-rmse:0.001523 
[5809]  train-rmse:0.001523 
[5810]  train-rmse:0.001522 
[5811]  train-rmse:0.001521 
[5812]  train-rmse:0.001522 
[5813]  train-rmse:0.001520 
[5814]  train-rmse:0.001519 
[5815]  train-rmse:0.001518 
[5816]  train-rmse:0.001517 
[5817]  train-rmse:0.001516 
[5818]  train-rmse:0.001514 
[5819]  train-rmse:0.001514 
[5820]  train-rmse:0.001513 
[5821]  train-rmse:0.001513 
[5822]  train-rmse:0.001512 
[5823]  train-rmse:0.001511 
[5824]  train-rmse:0.001509 
[5825]  train-rmse:0.001508 
[5826]  train-rmse:0.001507 
[5827]  train-rmse:0.001507 
[5828]  train-rmse:0.001506 
[5829]  train-rmse:0.001504 
[5830]  train-rmse:0.001504 
[5831]  train-rmse:0.001503 
[5832]  train-rmse:0.001503 
[5833]  train-rmse:0.001501 
[5834]  train-rmse:0.001500 
[5835]  train-rmse:0.001499 
[5836]  train-rmse:0.001498 
[5837]  train-rmse:0.001497 
[5838]  train-rmse:0.001495 
[5839]  train-rmse:0.001494 
[5840]  train-rmse:0.001493 
[5841]  train-rmse:0.001492 
[5842]  train-rmse:0.001493 
[5843]  train-rmse:0.001491 
[5844]  train-rmse:0.001490 
[5845]  train-rmse:0.001489 
[5846]  train-rmse:0.001488 
[5847]  train-rmse:0.001487 
[5848]  train-rmse:0.001486 
[5849]  train-rmse:0.001486 
[5850]  train-rmse:0.001486 
[5851]  train-rmse:0.001484 
[5852]  train-rmse:0.001483 
[5853]  train-rmse:0.001482 
[5854]  train-rmse:0.001481 
[5855]  train-rmse:0.001481 
[5856]  train-rmse:0.001480 
[5857]  train-rmse:0.001478 
[5858]  train-rmse:0.001477 
[5859]  train-rmse:0.001476 
[5860]  train-rmse:0.001475 
[5861]  train-rmse:0.001475 
[5862]  train-rmse:0.001474 
[5863]  train-rmse:0.001473 
[5864]  train-rmse:0.001472 
[5865]  train-rmse:0.001472 
[5866]  train-rmse:0.001471 
[5867]  train-rmse:0.001469 
[5868]  train-rmse:0.001468 
[5869]  train-rmse:0.001468 
[5870]  train-rmse:0.001468 
[5871]  train-rmse:0.001467 
[5872]  train-rmse:0.001466 
[5873]  train-rmse:0.001465 
[5874]  train-rmse:0.001464 
[5875]  train-rmse:0.001463 
[5876]  train-rmse:0.001462 
[5877]  train-rmse:0.001461 
[5878]  train-rmse:0.001461 
[5879]  train-rmse:0.001460 
[5880]  train-rmse:0.001459 
[5881]  train-rmse:0.001458 
[5882]  train-rmse:0.001457 
[5883]  train-rmse:0.001456 
[5884]  train-rmse:0.001455 
[5885]  train-rmse:0.001454 
[5886]  train-rmse:0.001452 
[5887]  train-rmse:0.001452 
[5888]  train-rmse:0.001451 
[5889]  train-rmse:0.001450 
[5890]  train-rmse:0.001449 
[5891]  train-rmse:0.001448 
[5892]  train-rmse:0.001447 
[5893]  train-rmse:0.001446 
[5894]  train-rmse:0.001445 
[5895]  train-rmse:0.001444 
[5896]  train-rmse:0.001444 
[5897]  train-rmse:0.001444 
[5898]  train-rmse:0.001442 
[5899]  train-rmse:0.001440 
[5900]  train-rmse:0.001438 
[5901]  train-rmse:0.001438 
[5902]  train-rmse:0.001437 
[5903]  train-rmse:0.001437 
[5904]  train-rmse:0.001436 
[5905]  train-rmse:0.001435 
[5906]  train-rmse:0.001436 
[5907]  train-rmse:0.001435 
[5908]  train-rmse:0.001434 
[5909]  train-rmse:0.001432 
[5910]  train-rmse:0.001432 
[5911]  train-rmse:0.001431 
[5912]  train-rmse:0.001430 
[5913]  train-rmse:0.001429 
[5914]  train-rmse:0.001428 
[5915]  train-rmse:0.001426 
[5916]  train-rmse:0.001425 
[5917]  train-rmse:0.001424 
[5918]  train-rmse:0.001422 
[5919]  train-rmse:0.001422 
[5920]  train-rmse:0.001420 
[5921]  train-rmse:0.001419 
[5922]  train-rmse:0.001418 
[5923]  train-rmse:0.001417 
[5924]  train-rmse:0.001416 
[5925]  train-rmse:0.001415 
[5926]  train-rmse:0.001415 
[5927]  train-rmse:0.001413 
[5928]  train-rmse:0.001414 
[5929]  train-rmse:0.001412 
[5930]  train-rmse:0.001411 
[5931]  train-rmse:0.001410 
[5932]  train-rmse:0.001409 
[5933]  train-rmse:0.001409 
[5934]  train-rmse:0.001408 
[5935]  train-rmse:0.001407 
[5936]  train-rmse:0.001407 
[5937]  train-rmse:0.001406 
[5938]  train-rmse:0.001405 
[5939]  train-rmse:0.001404 
[5940]  train-rmse:0.001402 
[5941]  train-rmse:0.001402 
[5942]  train-rmse:0.001402 
[5943]  train-rmse:0.001402 
[5944]  train-rmse:0.001401 
[5945]  train-rmse:0.001400 
[5946]  train-rmse:0.001398 
[5947]  train-rmse:0.001397 
[5948]  train-rmse:0.001399 
[5949]  train-rmse:0.001397 
[5950]  train-rmse:0.001397 
[5951]  train-rmse:0.001396 
[5952]  train-rmse:0.001394 
[5953]  train-rmse:0.001394 
[5954]  train-rmse:0.001393 
[5955]  train-rmse:0.001392 
[5956]  train-rmse:0.001391 
[5957]  train-rmse:0.001390 
[5958]  train-rmse:0.001390 
[5959]  train-rmse:0.001389 
[5960]  train-rmse:0.001389 
[5961]  train-rmse:0.001388 
[5962]  train-rmse:0.001387 
[5963]  train-rmse:0.001387 
[5964]  train-rmse:0.001386 
[5965]  train-rmse:0.001386 
[5966]  train-rmse:0.001385 
[5967]  train-rmse:0.001384 
[5968]  train-rmse:0.001383 
[5969]  train-rmse:0.001382 
[5970]  train-rmse:0.001381 
[5971]  train-rmse:0.001380 
[5972]  train-rmse:0.001379 
[5973]  train-rmse:0.001378 
[5974]  train-rmse:0.001377 
[5975]  train-rmse:0.001377 
[5976]  train-rmse:0.001375 
[5977]  train-rmse:0.001374 
[5978]  train-rmse:0.001373 
[5979]  train-rmse:0.001373 
[5980]  train-rmse:0.001372 
[5981]  train-rmse:0.001370 
[5982]  train-rmse:0.001369 
[5983]  train-rmse:0.001368 
[5984]  train-rmse:0.001367 
[5985]  train-rmse:0.001366 
[5986]  train-rmse:0.001366 
[5987]  train-rmse:0.001366 
[5988]  train-rmse:0.001365 
[5989]  train-rmse:0.001365 
[5990]  train-rmse:0.001363 
[5991]  train-rmse:0.001363 
[5992]  train-rmse:0.001362 
[5993]  train-rmse:0.001361 
[5994]  train-rmse:0.001360 
[5995]  train-rmse:0.001359 
[5996]  train-rmse:0.001358 
[5997]  train-rmse:0.001357 
[5998]  train-rmse:0.001356 
[5999]  train-rmse:0.001355 
[6000]  train-rmse:0.001354 
[6001]  train-rmse:0.001353 
[6002]  train-rmse:0.001352 
[6003]  train-rmse:0.001351 
[6004]  train-rmse:0.001349 
[6005]  train-rmse:0.001348 
[6006]  train-rmse:0.001347 
[6007]  train-rmse:0.001346 
[6008]  train-rmse:0.001345 
[6009]  train-rmse:0.001344 
[6010]  train-rmse:0.001344 
[6011]  train-rmse:0.001343 
[6012]  train-rmse:0.001341 
[6013]  train-rmse:0.001340 
[6014]  train-rmse:0.001340 
[6015]  train-rmse:0.001339 
[6016]  train-rmse:0.001338 
[6017]  train-rmse:0.001337 
[6018]  train-rmse:0.001336 
[6019]  train-rmse:0.001335 
[6020]  train-rmse:0.001334 
[6021]  train-rmse:0.001333 
[6022]  train-rmse:0.001333 
[6023]  train-rmse:0.001332 
[6024]  train-rmse:0.001331 
[6025]  train-rmse:0.001329 
[6026]  train-rmse:0.001329 
[6027]  train-rmse:0.001328 
[6028]  train-rmse:0.001327 
[6029]  train-rmse:0.001326 
[6030]  train-rmse:0.001325 
[6031]  train-rmse:0.001325 
[6032]  train-rmse:0.001324 
[6033]  train-rmse:0.001323 
[6034]  train-rmse:0.001322 
[6035]  train-rmse:0.001322 
[6036]  train-rmse:0.001320 
[6037]  train-rmse:0.001319 
[6038]  train-rmse:0.001318 
[6039]  train-rmse:0.001317 
[6040]  train-rmse:0.001316 
[6041]  train-rmse:0.001315 
[6042]  train-rmse:0.001314 
[6043]  train-rmse:0.001313 
[6044]  train-rmse:0.001313 
[6045]  train-rmse:0.001312 
[6046]  train-rmse:0.001312 
[6047]  train-rmse:0.001311 
[6048]  train-rmse:0.001311 
[6049]  train-rmse:0.001311 
[6050]  train-rmse:0.001309 
[6051]  train-rmse:0.001308 
[6052]  train-rmse:0.001308 
[6053]  train-rmse:0.001307 
[6054]  train-rmse:0.001306 
[6055]  train-rmse:0.001305 
[6056]  train-rmse:0.001304 
[6057]  train-rmse:0.001304 
[6058]  train-rmse:0.001303 
[6059]  train-rmse:0.001302 
[6060]  train-rmse:0.001302 
[6061]  train-rmse:0.001301 
[6062]  train-rmse:0.001300 
[6063]  train-rmse:0.001299 
[6064]  train-rmse:0.001298 
[6065]  train-rmse:0.001297 
[6066]  train-rmse:0.001296 
[6067]  train-rmse:0.001296 
[6068]  train-rmse:0.001294 
[6069]  train-rmse:0.001294 
[6070]  train-rmse:0.001293 
[6071]  train-rmse:0.001293 
[6072]  train-rmse:0.001292 
[6073]  train-rmse:0.001291 
[6074]  train-rmse:0.001290 
[6075]  train-rmse:0.001289 
[6076]  train-rmse:0.001288 
[6077]  train-rmse:0.001287 
[6078]  train-rmse:0.001287 
[6079]  train-rmse:0.001286 
[6080]  train-rmse:0.001285 
[6081]  train-rmse:0.001285 
[6082]  train-rmse:0.001285 
[6083]  train-rmse:0.001284 
[6084]  train-rmse:0.001284 
[6085]  train-rmse:0.001283 
[6086]  train-rmse:0.001282 
[6087]  train-rmse:0.001281 
[6088]  train-rmse:0.001280 
[6089]  train-rmse:0.001278 
[6090]  train-rmse:0.001277 
[6091]  train-rmse:0.001276 
[6092]  train-rmse:0.001275 
[6093]  train-rmse:0.001274 
[6094]  train-rmse:0.001274 
[6095]  train-rmse:0.001273 
[6096]  train-rmse:0.001272 
[6097]  train-rmse:0.001271 
[6098]  train-rmse:0.001271 
[6099]  train-rmse:0.001271 
[6100]  train-rmse:0.001270 
[6101]  train-rmse:0.001269 
[6102]  train-rmse:0.001268 
[6103]  train-rmse:0.001267 
[6104]  train-rmse:0.001266 
[6105]  train-rmse:0.001265 
[6106]  train-rmse:0.001264 
[6107]  train-rmse:0.001264 
[6108]  train-rmse:0.001262 
[6109]  train-rmse:0.001262 
[6110]  train-rmse:0.001261 
[6111]  train-rmse:0.001260 
[6112]  train-rmse:0.001259 
[6113]  train-rmse:0.001257 
[6114]  train-rmse:0.001257 
[6115]  train-rmse:0.001256 
[6116]  train-rmse:0.001255 
[6117]  train-rmse:0.001255 
[6118]  train-rmse:0.001254 
[6119]  train-rmse:0.001253 
[6120]  train-rmse:0.001252 
[6121]  train-rmse:0.001251 
[6122]  train-rmse:0.001251 
[6123]  train-rmse:0.001250 
[6124]  train-rmse:0.001249 
[6125]  train-rmse:0.001249 
[6126]  train-rmse:0.001248 
[6127]  train-rmse:0.001248 
[6128]  train-rmse:0.001247 
[6129]  train-rmse:0.001246 
[6130]  train-rmse:0.001245 
[6131]  train-rmse:0.001244 
[6132]  train-rmse:0.001244 
[6133]  train-rmse:0.001243 
[6134]  train-rmse:0.001242 
[6135]  train-rmse:0.001240 
[6136]  train-rmse:0.001240 
[6137]  train-rmse:0.001239 
[6138]  train-rmse:0.001239 
[6139]  train-rmse:0.001238 
[6140]  train-rmse:0.001238 
[6141]  train-rmse:0.001237 
[6142]  train-rmse:0.001236 
[6143]  train-rmse:0.001236 
[6144]  train-rmse:0.001235 
[6145]  train-rmse:0.001235 
[6146]  train-rmse:0.001234 
[6147]  train-rmse:0.001233 
[6148]  train-rmse:0.001233 
[6149]  train-rmse:0.001233 
[6150]  train-rmse:0.001233 
[6151]  train-rmse:0.001232 
[6152]  train-rmse:0.001231 
[6153]  train-rmse:0.001231 
[6154]  train-rmse:0.001230 
[6155]  train-rmse:0.001228 
[6156]  train-rmse:0.001227 
[6157]  train-rmse:0.001226 
[6158]  train-rmse:0.001226 
[6159]  train-rmse:0.001226 
[6160]  train-rmse:0.001225 
[6161]  train-rmse:0.001225 
[6162]  train-rmse:0.001225 
[6163]  train-rmse:0.001224 
[6164]  train-rmse:0.001223 
[6165]  train-rmse:0.001222 
[6166]  train-rmse:0.001222 
[6167]  train-rmse:0.001221 
[6168]  train-rmse:0.001220 
[6169]  train-rmse:0.001219 
[6170]  train-rmse:0.001218 
[6171]  train-rmse:0.001217 
[6172]  train-rmse:0.001216 
[6173]  train-rmse:0.001216 
[6174]  train-rmse:0.001216 
[6175]  train-rmse:0.001215 
[6176]  train-rmse:0.001215 
[6177]  train-rmse:0.001215 
[6178]  train-rmse:0.001214 
[6179]  train-rmse:0.001214 
[6180]  train-rmse:0.001213 
[6181]  train-rmse:0.001212 
[6182]  train-rmse:0.001211 
[6183]  train-rmse:0.001210 
[6184]  train-rmse:0.001209 
[6185]  train-rmse:0.001208 
[6186]  train-rmse:0.001207 
[6187]  train-rmse:0.001206 
[6188]  train-rmse:0.001206 
[6189]  train-rmse:0.001205 
[6190]  train-rmse:0.001204 
[6191]  train-rmse:0.001203 
[6192]  train-rmse:0.001203 
[6193]  train-rmse:0.001202 
[6194]  train-rmse:0.001202 
[6195]  train-rmse:0.001202 
[6196]  train-rmse:0.001201 
[6197]  train-rmse:0.001201 
[6198]  train-rmse:0.001201 
[6199]  train-rmse:0.001200 
[6200]  train-rmse:0.001200 
[6201]  train-rmse:0.001198 
[6202]  train-rmse:0.001198 
[6203]  train-rmse:0.001197 
[6204]  train-rmse:0.001197 
[6205]  train-rmse:0.001196 
[6206]  train-rmse:0.001196 
[6207]  train-rmse:0.001195 
[6208]  train-rmse:0.001194 
[6209]  train-rmse:0.001194 
[6210]  train-rmse:0.001193 
[6211]  train-rmse:0.001192 
[6212]  train-rmse:0.001192 
[6213]  train-rmse:0.001192 
[6214]  train-rmse:0.001191 
[6215]  train-rmse:0.001191 
[6216]  train-rmse:0.001190 
[6217]  train-rmse:0.001188 
[6218]  train-rmse:0.001188 
[6219]  train-rmse:0.001186 
[6220]  train-rmse:0.001185 
[6221]  train-rmse:0.001185 
[6222]  train-rmse:0.001184 
[6223]  train-rmse:0.001183 
[6224]  train-rmse:0.001183 
[6225]  train-rmse:0.001183 
[6226]  train-rmse:0.001182 
[6227]  train-rmse:0.001181 
[6228]  train-rmse:0.001180 
[6229]  train-rmse:0.001179 
[6230]  train-rmse:0.001178 
[6231]  train-rmse:0.001177 
[6232]  train-rmse:0.001177 
[6233]  train-rmse:0.001176 
[6234]  train-rmse:0.001175 
[6235]  train-rmse:0.001174 
[6236]  train-rmse:0.001173 
[6237]  train-rmse:0.001173 
[6238]  train-rmse:0.001173 
[6239]  train-rmse:0.001171 
[6240]  train-rmse:0.001170 
[6241]  train-rmse:0.001169 
[6242]  train-rmse:0.001169 
[6243]  train-rmse:0.001168 
[6244]  train-rmse:0.001167 
[6245]  train-rmse:0.001167 
[6246]  train-rmse:0.001166 
[6247]  train-rmse:0.001165 
[6248]  train-rmse:0.001164 
[6249]  train-rmse:0.001164 
[6250]  train-rmse:0.001163 
[6251]  train-rmse:0.001162 
[6252]  train-rmse:0.001161 
[6253]  train-rmse:0.001161 
[6254]  train-rmse:0.001160 
[6255]  train-rmse:0.001159 
[6256]  train-rmse:0.001158 
[6257]  train-rmse:0.001157 
[6258]  train-rmse:0.001157 
[6259]  train-rmse:0.001156 
[6260]  train-rmse:0.001155 
[6261]  train-rmse:0.001155 
[6262]  train-rmse:0.001154 
[6263]  train-rmse:0.001153 
[6264]  train-rmse:0.001152 
[6265]  train-rmse:0.001151 
[6266]  train-rmse:0.001150 
[6267]  train-rmse:0.001148 
[6268]  train-rmse:0.001148 
[6269]  train-rmse:0.001148 
[6270]  train-rmse:0.001147 
[6271]  train-rmse:0.001146 
[6272]  train-rmse:0.001145 
[6273]  train-rmse:0.001145 
[6274]  train-rmse:0.001144 
[6275]  train-rmse:0.001144 
[6276]  train-rmse:0.001144 
[6277]  train-rmse:0.001143 
[6278]  train-rmse:0.001143 
[6279]  train-rmse:0.001143 
[6280]  train-rmse:0.001142 
[6281]  train-rmse:0.001141 
[6282]  train-rmse:0.001140 
[6283]  train-rmse:0.001139 
[6284]  train-rmse:0.001138 
[6285]  train-rmse:0.001138 
[6286]  train-rmse:0.001138 
[6287]  train-rmse:0.001137 
[6288]  train-rmse:0.001137 
[6289]  train-rmse:0.001137 
[6290]  train-rmse:0.001135 
[6291]  train-rmse:0.001134 
[6292]  train-rmse:0.001133 
[6293]  train-rmse:0.001132 
[6294]  train-rmse:0.001132 
[6295]  train-rmse:0.001130 
[6296]  train-rmse:0.001130 
[6297]  train-rmse:0.001129 
[6298]  train-rmse:0.001127 
[6299]  train-rmse:0.001127 
[6300]  train-rmse:0.001127 
[6301]  train-rmse:0.001126 
[6302]  train-rmse:0.001125 
[6303]  train-rmse:0.001124 
[6304]  train-rmse:0.001124 
[6305]  train-rmse:0.001123 
[6306]  train-rmse:0.001122 
[6307]  train-rmse:0.001122 
[6308]  train-rmse:0.001121 
[6309]  train-rmse:0.001121 
[6310]  train-rmse:0.001120 
[6311]  train-rmse:0.001120 
[6312]  train-rmse:0.001119 
[6313]  train-rmse:0.001119 
[6314]  train-rmse:0.001119 
[6315]  train-rmse:0.001117 
[6316]  train-rmse:0.001117 
[6317]  train-rmse:0.001116 
[6318]  train-rmse:0.001116 
[6319]  train-rmse:0.001115 
[6320]  train-rmse:0.001115 
[6321]  train-rmse:0.001114 
[6322]  train-rmse:0.001113 
[6323]  train-rmse:0.001113 
[6324]  train-rmse:0.001112 
[6325]  train-rmse:0.001111 
[6326]  train-rmse:0.001110 
[6327]  train-rmse:0.001111 
[6328]  train-rmse:0.001111 
[6329]  train-rmse:0.001110 
[6330]  train-rmse:0.001109 
[6331]  train-rmse:0.001108 
[6332]  train-rmse:0.001107 
[6333]  train-rmse:0.001107 
[6334]  train-rmse:0.001106 
[6335]  train-rmse:0.001105 
[6336]  train-rmse:0.001104 
[6337]  train-rmse:0.001103 
[6338]  train-rmse:0.001102 
[6339]  train-rmse:0.001102 
[6340]  train-rmse:0.001101 
[6341]  train-rmse:0.001101 
[6342]  train-rmse:0.001100 
[6343]  train-rmse:0.001100 
[6344]  train-rmse:0.001099 
[6345]  train-rmse:0.001099 
[6346]  train-rmse:0.001098 
[6347]  train-rmse:0.001097 
[6348]  train-rmse:0.001096 
[6349]  train-rmse:0.001096 
[6350]  train-rmse:0.001095 
[6351]  train-rmse:0.001095 
[6352]  train-rmse:0.001094 
[6353]  train-rmse:0.001094 
[6354]  train-rmse:0.001093 
[6355]  train-rmse:0.001093 
[6356]  train-rmse:0.001092 
[6357]  train-rmse:0.001091 
[6358]  train-rmse:0.001090 
[6359]  train-rmse:0.001090 
[6360]  train-rmse:0.001090 
[6361]  train-rmse:0.001089 
[6362]  train-rmse:0.001088 
[6363]  train-rmse:0.001088 
[6364]  train-rmse:0.001087 
[6365]  train-rmse:0.001087 
[6366]  train-rmse:0.001087 
[6367]  train-rmse:0.001086 
[6368]  train-rmse:0.001086 
[6369]  train-rmse:0.001085 
[6370]  train-rmse:0.001084 
[6371]  train-rmse:0.001083 
[6372]  train-rmse:0.001082 
[6373]  train-rmse:0.001081 
[6374]  train-rmse:0.001081 
[6375]  train-rmse:0.001080 
[6376]  train-rmse:0.001079 
[6377]  train-rmse:0.001079 
[6378]  train-rmse:0.001079 
[6379]  train-rmse:0.001078 
[6380]  train-rmse:0.001077 
[6381]  train-rmse:0.001077 
[6382]  train-rmse:0.001076 
[6383]  train-rmse:0.001075 
[6384]  train-rmse:0.001074 
[6385]  train-rmse:0.001074 
[6386]  train-rmse:0.001073 
[6387]  train-rmse:0.001074 
[6388]  train-rmse:0.001073 
[6389]  train-rmse:0.001073 
[6390]  train-rmse:0.001072 
[6391]  train-rmse:0.001072 
[6392]  train-rmse:0.001071 
[6393]  train-rmse:0.001071 
[6394]  train-rmse:0.001070 
[6395]  train-rmse:0.001069 
[6396]  train-rmse:0.001068 
[6397]  train-rmse:0.001068 
[6398]  train-rmse:0.001067 
[6399]  train-rmse:0.001067 
[6400]  train-rmse:0.001066 
[6401]  train-rmse:0.001065 
[6402]  train-rmse:0.001064 
[6403]  train-rmse:0.001064 
[6404]  train-rmse:0.001064 
[6405]  train-rmse:0.001063 
[6406]  train-rmse:0.001062 
[6407]  train-rmse:0.001061 
[6408]  train-rmse:0.001061 
[6409]  train-rmse:0.001060 
[6410]  train-rmse:0.001060 
[6411]  train-rmse:0.001059 
[6412]  train-rmse:0.001057 
[6413]  train-rmse:0.001057 
[6414]  train-rmse:0.001057 
[6415]  train-rmse:0.001056 
[6416]  train-rmse:0.001056 
[6417]  train-rmse:0.001055 
[6418]  train-rmse:0.001055 
[6419]  train-rmse:0.001054 
[6420]  train-rmse:0.001054 
[6421]  train-rmse:0.001053 
[6422]  train-rmse:0.001051 
[6423]  train-rmse:0.001052 
[6424]  train-rmse:0.001051 
[6425]  train-rmse:0.001050 
[6426]  train-rmse:0.001050 
[6427]  train-rmse:0.001049 
[6428]  train-rmse:0.001049 
[6429]  train-rmse:0.001048 
[6430]  train-rmse:0.001047 
[6431]  train-rmse:0.001046 
[6432]  train-rmse:0.001044 
[6433]  train-rmse:0.001043 
[6434]  train-rmse:0.001043 
[6435]  train-rmse:0.001043 
[6436]  train-rmse:0.001041 
[6437]  train-rmse:0.001040 
[6438]  train-rmse:0.001040 
[6439]  train-rmse:0.001039 
[6440]  train-rmse:0.001039 
[6441]  train-rmse:0.001039 
[6442]  train-rmse:0.001038 
[6443]  train-rmse:0.001037 
[6444]  train-rmse:0.001036 
[6445]  train-rmse:0.001035 
[6446]  train-rmse:0.001034 
[6447]  train-rmse:0.001034 
[6448]  train-rmse:0.001034 
[6449]  train-rmse:0.001033 
[6450]  train-rmse:0.001032 
[6451]  train-rmse:0.001031 
[6452]  train-rmse:0.001031 
[6453]  train-rmse:0.001030 
[6454]  train-rmse:0.001031 
[6455]  train-rmse:0.001030 
[6456]  train-rmse:0.001030 
[6457]  train-rmse:0.001029 
[6458]  train-rmse:0.001028 
[6459]  train-rmse:0.001027 
[6460]  train-rmse:0.001027 
[6461]  train-rmse:0.001026 
[6462]  train-rmse:0.001025 
[6463]  train-rmse:0.001025 
[6464]  train-rmse:0.001024 
[6465]  train-rmse:0.001023 
[6466]  train-rmse:0.001022 
[6467]  train-rmse:0.001022 
[6468]  train-rmse:0.001021 
[6469]  train-rmse:0.001021 
[6470]  train-rmse:0.001021 
[6471]  train-rmse:0.001021 
[6472]  train-rmse:0.001021 
[6473]  train-rmse:0.001020 
[6474]  train-rmse:0.001019 
[6475]  train-rmse:0.001019 
[6476]  train-rmse:0.001018 
[6477]  train-rmse:0.001018 
[6478]  train-rmse:0.001017 
[6479]  train-rmse:0.001017 
[6480]  train-rmse:0.001017 
[6481]  train-rmse:0.001016 
[6482]  train-rmse:0.001016 
[6483]  train-rmse:0.001016 
[6484]  train-rmse:0.001016 
[6485]  train-rmse:0.001016 
[6486]  train-rmse:0.001015 
[6487]  train-rmse:0.001015 
[6488]  train-rmse:0.001015 
[6489]  train-rmse:0.001014 
[6490]  train-rmse:0.001013 
[6491]  train-rmse:0.001012 
[6492]  train-rmse:0.001011 
[6493]  train-rmse:0.001010 
[6494]  train-rmse:0.001009 
[6495]  train-rmse:0.001008 
[6496]  train-rmse:0.001008 
[6497]  train-rmse:0.001008 
[6498]  train-rmse:0.001007 
[6499]  train-rmse:0.001007 
[6500]  train-rmse:0.001007 
[6501]  train-rmse:0.001006 
[6502]  train-rmse:0.001006 
[6503]  train-rmse:0.001006 
[6504]  train-rmse:0.001005 
[6505]  train-rmse:0.001005 
[6506]  train-rmse:0.001004 
[6507]  train-rmse:0.001004 
[6508]  train-rmse:0.001003 
[6509]  train-rmse:0.001003 
[6510]  train-rmse:0.001002 
[6511]  train-rmse:0.001001 
[6512]  train-rmse:0.001000 
[6513]  train-rmse:0.001000 
[6514]  train-rmse:0.001000 
[6515]  train-rmse:0.000999 
[6516]  train-rmse:0.000999 
[6517]  train-rmse:0.000998 
[6518]  train-rmse:0.000996 
[6519]  train-rmse:0.000996 
[6520]  train-rmse:0.000996 
[6521]  train-rmse:0.000995 
[6522]  train-rmse:0.000994 
[6523]  train-rmse:0.000994 
[6524]  train-rmse:0.000994 
[6525]  train-rmse:0.000994 
[6526]  train-rmse:0.000994 
[6527]  train-rmse:0.000994 
[6528]  train-rmse:0.000993 
[6529]  train-rmse:0.000993 
[6530]  train-rmse:0.000993 
[6531]  train-rmse:0.000993 
[6532]  train-rmse:0.000992 
[6533]  train-rmse:0.000992 
[6534]  train-rmse:0.000992 
[6535]  train-rmse:0.000992 
[6536]  train-rmse:0.000991 
[6537]  train-rmse:0.000991 
[6538]  train-rmse:0.000990 
[6539]  train-rmse:0.000990 
[6540]  train-rmse:0.000989 
[6541]  train-rmse:0.000988 
[6542]  train-rmse:0.000987 
[6543]  train-rmse:0.000987 
[6544]  train-rmse:0.000987 
[6545]  train-rmse:0.000986 
[6546]  train-rmse:0.000986 
[6547]  train-rmse:0.000986 
[6548]  train-rmse:0.000985 
[6549]  train-rmse:0.000984 
[6550]  train-rmse:0.000984 
[6551]  train-rmse:0.000984 
[6552]  train-rmse:0.000983 
[6553]  train-rmse:0.000982 
[6554]  train-rmse:0.000982 
[6555]  train-rmse:0.000982 
[6556]  train-rmse:0.000981 
[6557]  train-rmse:0.000981 
[6558]  train-rmse:0.000980 
[6559]  train-rmse:0.000980 
[6560]  train-rmse:0.000979 
[6561]  train-rmse:0.000979 
[6562]  train-rmse:0.000978 
[6563]  train-rmse:0.000977 
[6564]  train-rmse:0.000977 
[6565]  train-rmse:0.000977 
[6566]  train-rmse:0.000976 
[6567]  train-rmse:0.000976 
[6568]  train-rmse:0.000975 
[6569]  train-rmse:0.000975 
[6570]  train-rmse:0.000974 
[6571]  train-rmse:0.000974 
[6572]  train-rmse:0.000973 
[6573]  train-rmse:0.000972 
[6574]  train-rmse:0.000972 
[6575]  train-rmse:0.000972 
[6576]  train-rmse:0.000971 
[6577]  train-rmse:0.000970 
[6578]  train-rmse:0.000970 
[6579]  train-rmse:0.000969 
[6580]  train-rmse:0.000967 
[6581]  train-rmse:0.000967 
[6582]  train-rmse:0.000966 
[6583]  train-rmse:0.000966 
[6584]  train-rmse:0.000966 
[6585]  train-rmse:0.000965 
[6586]  train-rmse:0.000964 
[6587]  train-rmse:0.000963 
[6588]  train-rmse:0.000963 
[6589]  train-rmse:0.000963 
[6590]  train-rmse:0.000962 
[6591]  train-rmse:0.000961 
[6592]  train-rmse:0.000961 
[6593]  train-rmse:0.000961 
[6594]  train-rmse:0.000961 
[6595]  train-rmse:0.000960 
[6596]  train-rmse:0.000959 
[6597]  train-rmse:0.000959 
[6598]  train-rmse:0.000958 
[6599]  train-rmse:0.000957 
[6600]  train-rmse:0.000957 
[6601]  train-rmse:0.000957 
[6602]  train-rmse:0.000956 
[6603]  train-rmse:0.000956 
[6604]  train-rmse:0.000955 
[6605]  train-rmse:0.000955 
[6606]  train-rmse:0.000955 
[6607]  train-rmse:0.000954 
[6608]  train-rmse:0.000953 
[6609]  train-rmse:0.000952 
[6610]  train-rmse:0.000952 
[6611]  train-rmse:0.000950 
[6612]  train-rmse:0.000950 
[6613]  train-rmse:0.000949 
[6614]  train-rmse:0.000949 
[6615]  train-rmse:0.000948 
[6616]  train-rmse:0.000948 
[6617]  train-rmse:0.000948 
[6618]  train-rmse:0.000948 
[6619]  train-rmse:0.000947 
[6620]  train-rmse:0.000947 
[6621]  train-rmse:0.000946 
[6622]  train-rmse:0.000946 
[6623]  train-rmse:0.000945 
[6624]  train-rmse:0.000945 
[6625]  train-rmse:0.000944 
[6626]  train-rmse:0.000943 
[6627]  train-rmse:0.000943 
[6628]  train-rmse:0.000943 
[6629]  train-rmse:0.000943 
[6630]  train-rmse:0.000942 
[6631]  train-rmse:0.000942 
[6632]  train-rmse:0.000942 
[6633]  train-rmse:0.000942 
[6634]  train-rmse:0.000941 
[6635]  train-rmse:0.000940 
[6636]  train-rmse:0.000940 
[6637]  train-rmse:0.000940 
[6638]  train-rmse:0.000940 
[6639]  train-rmse:0.000940 
[6640]  train-rmse:0.000939 
[6641]  train-rmse:0.000938 
[6642]  train-rmse:0.000937 
[6643]  train-rmse:0.000936 
[6644]  train-rmse:0.000936 
[6645]  train-rmse:0.000935 
[6646]  train-rmse:0.000935 
[6647]  train-rmse:0.000934 
[6648]  train-rmse:0.000934 
[6649]  train-rmse:0.000934 
[6650]  train-rmse:0.000934 
[6651]  train-rmse:0.000933 
[6652]  train-rmse:0.000932 
[6653]  train-rmse:0.000932 
[6654]  train-rmse:0.000932 
[6655]  train-rmse:0.000932 
[6656]  train-rmse:0.000931 
[6657]  train-rmse:0.000930 
[6658]  train-rmse:0.000929 
[6659]  train-rmse:0.000929 
[6660]  train-rmse:0.000928 
[6661]  train-rmse:0.000927 
[6662]  train-rmse:0.000927 
[6663]  train-rmse:0.000927 
[6664]  train-rmse:0.000927 
[6665]  train-rmse:0.000926 
[6666]  train-rmse:0.000926 
[6667]  train-rmse:0.000926 
[6668]  train-rmse:0.000925 
[6669]  train-rmse:0.000925 
[6670]  train-rmse:0.000925 
[6671]  train-rmse:0.000925 
[6672]  train-rmse:0.000924 
[6673]  train-rmse:0.000924 
[6674]  train-rmse:0.000924 
[6675]  train-rmse:0.000923 
[6676]  train-rmse:0.000923 
[6677]  train-rmse:0.000922 
[6678]  train-rmse:0.000922 
[6679]  train-rmse:0.000921 
[6680]  train-rmse:0.000920 
[6681]  train-rmse:0.000919 
[6682]  train-rmse:0.000918 
[6683]  train-rmse:0.000917 
[6684]  train-rmse:0.000917 
[6685]  train-rmse:0.000916 
[6686]  train-rmse:0.000916 
[6687]  train-rmse:0.000916 
[6688]  train-rmse:0.000914 
[6689]  train-rmse:0.000914 
[6690]  train-rmse:0.000914 
[6691]  train-rmse:0.000914 
[6692]  train-rmse:0.000913 
[6693]  train-rmse:0.000913 
[6694]  train-rmse:0.000913 
[6695]  train-rmse:0.000913 
[6696]  train-rmse:0.000911 
[6697]  train-rmse:0.000910 
[6698]  train-rmse:0.000910 
[6699]  train-rmse:0.000910 
[6700]  train-rmse:0.000909 
[6701]  train-rmse:0.000909 
[6702]  train-rmse:0.000909 
[6703]  train-rmse:0.000908 
[6704]  train-rmse:0.000908 
[6705]  train-rmse:0.000908 
[6706]  train-rmse:0.000907 
[6707]  train-rmse:0.000907 
[6708]  train-rmse:0.000907 
[6709]  train-rmse:0.000906 
[6710]  train-rmse:0.000906 
[6711]  train-rmse:0.000906 
[6712]  train-rmse:0.000906 
[6713]  train-rmse:0.000905 
[6714]  train-rmse:0.000904 
[6715]  train-rmse:0.000903 
[6716]  train-rmse:0.000903 
[6717]  train-rmse:0.000902 
[6718]  train-rmse:0.000901 
[6719]  train-rmse:0.000902 
[6720]  train-rmse:0.000901 
[6721]  train-rmse:0.000900 
[6722]  train-rmse:0.000900 
[6723]  train-rmse:0.000899 
[6724]  train-rmse:0.000898 
[6725]  train-rmse:0.000898 
[6726]  train-rmse:0.000897 
[6727]  train-rmse:0.000896 
[6728]  train-rmse:0.000895 
[6729]  train-rmse:0.000894 
[6730]  train-rmse:0.000894 
[6731]  train-rmse:0.000894 
[6732]  train-rmse:0.000894 
[6733]  train-rmse:0.000893 
[6734]  train-rmse:0.000893 
[6735]  train-rmse:0.000892 
[6736]  train-rmse:0.000892 
[6737]  train-rmse:0.000892 
[6738]  train-rmse:0.000891 
[6739]  train-rmse:0.000891 
[6740]  train-rmse:0.000891 
[6741]  train-rmse:0.000890 
[6742]  train-rmse:0.000889 
[6743]  train-rmse:0.000889 
[6744]  train-rmse:0.000889 
[6745]  train-rmse:0.000889 
[6746]  train-rmse:0.000889 
[6747]  train-rmse:0.000889 
[6748]  train-rmse:0.000888 
[6749]  train-rmse:0.000887 
[6750]  train-rmse:0.000887 
[6751]  train-rmse:0.000887 
[6752]  train-rmse:0.000887 
[6753]  train-rmse:0.000887 
[6754]  train-rmse:0.000887 
[6755]  train-rmse:0.000886 
[6756]  train-rmse:0.000886 
[6757]  train-rmse:0.000886 
[6758]  train-rmse:0.000886 
[6759]  train-rmse:0.000886 
[6760]  train-rmse:0.000886 
[6761]  train-rmse:0.000886 
[6762]  train-rmse:0.000885 
[6763]  train-rmse:0.000885 
[6764]  train-rmse:0.000885 
[6765]  train-rmse:0.000885 
[6766]  train-rmse:0.000885 
[6767]  train-rmse:0.000884 
[6768]  train-rmse:0.000883 
[6769]  train-rmse:0.000884 
[6770]  train-rmse:0.000884 
[6771]  train-rmse:0.000882 
[6772]  train-rmse:0.000882 
[6773]  train-rmse:0.000882 
[6774]  train-rmse:0.000882 
[6775]  train-rmse:0.000881 
[6776]  train-rmse:0.000881 
[6777]  train-rmse:0.000881 
[6778]  train-rmse:0.000881 
[6779]  train-rmse:0.000880 
[6780]  train-rmse:0.000880 
[6781]  train-rmse:0.000880 
[6782]  train-rmse:0.000880 
[6783]  train-rmse:0.000880 
[6784]  train-rmse:0.000880 
[6785]  train-rmse:0.000879 
[6786]  train-rmse:0.000879 
[6787]  train-rmse:0.000878 
[6788]  train-rmse:0.000879 
[6789]  train-rmse:0.000878 
[6790]  train-rmse:0.000877 
[6791]  train-rmse:0.000877 
[6792]  train-rmse:0.000876 
[6793]  train-rmse:0.000875 
[6794]  train-rmse:0.000875 
[6795]  train-rmse:0.000875 
[6796]  train-rmse:0.000875 
[6797]  train-rmse:0.000875 
[6798]  train-rmse:0.000874 
[6799]  train-rmse:0.000874 
[6800]  train-rmse:0.000873 
[6801]  train-rmse:0.000873 
[6802]  train-rmse:0.000873 
[6803]  train-rmse:0.000873 
[6804]  train-rmse:0.000873 
[6805]  train-rmse:0.000873 
[6806]  train-rmse:0.000872 
[6807]  train-rmse:0.000872 
[6808]  train-rmse:0.000872 
[6809]  train-rmse:0.000872 
[6810]  train-rmse:0.000872 
[6811]  train-rmse:0.000870 
[6812]  train-rmse:0.000870 
[6813]  train-rmse:0.000869 
[6814]  train-rmse:0.000869 
[6815]  train-rmse:0.000870 
[6816]  train-rmse:0.000870 
[6817]  train-rmse:0.000868 
[6818]  train-rmse:0.000868 
[6819]  train-rmse:0.000868 
[6820]  train-rmse:0.000868 
[6821]  train-rmse:0.000867 
[6822]  train-rmse:0.000867 
[6823]  train-rmse:0.000866 
[6824]  train-rmse:0.000866 
[6825]  train-rmse:0.000865 
[6826]  train-rmse:0.000864 
[6827]  train-rmse:0.000864 
[6828]  train-rmse:0.000864 
[6829]  train-rmse:0.000864 
[6830]  train-rmse:0.000863 
[6831]  train-rmse:0.000862 
[6832]  train-rmse:0.000862 
[6833]  train-rmse:0.000862 
[6834]  train-rmse:0.000862 
[6835]  train-rmse:0.000861 
[6836]  train-rmse:0.000861 
[6837]  train-rmse:0.000860 
[6838]  train-rmse:0.000860 
[6839]  train-rmse:0.000860 
[6840]  train-rmse:0.000859 
[6841]  train-rmse:0.000859 
[6842]  train-rmse:0.000858 
[6843]  train-rmse:0.000858 
[6844]  train-rmse:0.000858 
[6845]  train-rmse:0.000858 
[6846]  train-rmse:0.000857 
[6847]  train-rmse:0.000856 
[6848]  train-rmse:0.000856 
[6849]  train-rmse:0.000855 
[6850]  train-rmse:0.000855 
[6851]  train-rmse:0.000855 
[6852]  train-rmse:0.000855 
[6853]  train-rmse:0.000855 
[6854]  train-rmse:0.000855 
[6855]  train-rmse:0.000855 
[6856]  train-rmse:0.000855 
[6857]  train-rmse:0.000854 
[6858]  train-rmse:0.000853 
[6859]  train-rmse:0.000853 
[6860]  train-rmse:0.000853 
[6861]  train-rmse:0.000852 
[6862]  train-rmse:0.000852 
[6863]  train-rmse:0.000852 
[6864]  train-rmse:0.000852 
[6865]  train-rmse:0.000852 
[6866]  train-rmse:0.000852 
[6867]  train-rmse:0.000851 
[6868]  train-rmse:0.000851 
[6869]  train-rmse:0.000851 
[6870]  train-rmse:0.000851 
[6871]  train-rmse:0.000851 
[6872]  train-rmse:0.000851 
[6873]  train-rmse:0.000850 
[6874]  train-rmse:0.000850 
[6875]  train-rmse:0.000850 
[6876]  train-rmse:0.000850 
[6877]  train-rmse:0.000849 
[6878]  train-rmse:0.000849 
[6879]  train-rmse:0.000849 
[6880]  train-rmse:0.000849 
[6881]  train-rmse:0.000849 
[6882]  train-rmse:0.000849 
[6883]  train-rmse:0.000848 
[6884]  train-rmse:0.000847 
[6885]  train-rmse:0.000847 
[6886]  train-rmse:0.000847 
[6887]  train-rmse:0.000847 
[6888]  train-rmse:0.000847 
[6889]  train-rmse:0.000847 
[6890]  train-rmse:0.000846 
[6891]  train-rmse:0.000846 
[6892]  train-rmse:0.000846 
[6893]  train-rmse:0.000846 
[6894]  train-rmse:0.000845 
[6895]  train-rmse:0.000845 
[6896]  train-rmse:0.000845 
[6897]  train-rmse:0.000844 
[6898]  train-rmse:0.000844 
[6899]  train-rmse:0.000844 
[6900]  train-rmse:0.000843 
[6901]  train-rmse:0.000843 
[6902]  train-rmse:0.000842 
[6903]  train-rmse:0.000842 
[6904]  train-rmse:0.000842 
[6905]  train-rmse:0.000842 
[6906]  train-rmse:0.000842 
[6907]  train-rmse:0.000841 
[6908]  train-rmse:0.000841 
[6909]  train-rmse:0.000841 
[6910]  train-rmse:0.000841 
[6911]  train-rmse:0.000840 
[6912]  train-rmse:0.000840 
[6913]  train-rmse:0.000840 
[6914]  train-rmse:0.000840 
[6915]  train-rmse:0.000840 
[6916]  train-rmse:0.000840 
[6917]  train-rmse:0.000840 
[6918]  train-rmse:0.000840 
[6919]  train-rmse:0.000839 
[6920]  train-rmse:0.000839 
[6921]  train-rmse:0.000837 
[6922]  train-rmse:0.000837 
[6923]  train-rmse:0.000837 
[6924]  train-rmse:0.000837 
[6925]  train-rmse:0.000836 
[6926]  train-rmse:0.000836 
[6927]  train-rmse:0.000836 
[6928]  train-rmse:0.000836 
[6929]  train-rmse:0.000836 
[6930]  train-rmse:0.000835 
[6931]  train-rmse:0.000835 
[6932]  train-rmse:0.000835 
[6933]  train-rmse:0.000834 
[6934]  train-rmse:0.000834 
[6935]  train-rmse:0.000834 
[6936]  train-rmse:0.000834 
[6937]  train-rmse:0.000834 
[6938]  train-rmse:0.000834 
[6939]  train-rmse:0.000834 
[6940]  train-rmse:0.000834 
[6941]  train-rmse:0.000834 
[6942]  train-rmse:0.000834 
[6943]  train-rmse:0.000834 
[6944]  train-rmse:0.000834 
[6945]  train-rmse:0.000834 
[6946]  train-rmse:0.000832 
[6947]  train-rmse:0.000832 
[6948]  train-rmse:0.000832 
[6949]  train-rmse:0.000832 
[6950]  train-rmse:0.000832 
[6951]  train-rmse:0.000832 
[6952]  train-rmse:0.000831 
[6953]  train-rmse:0.000830 
[6954]  train-rmse:0.000829 
[6955]  train-rmse:0.000829 
[6956]  train-rmse:0.000829 
[6957]  train-rmse:0.000829 
[6958]  train-rmse:0.000829 
[6959]  train-rmse:0.000829 
[6960]  train-rmse:0.000829 
[6961]  train-rmse:0.000828 
[6962]  train-rmse:0.000828 
[6963]  train-rmse:0.000828 
[6964]  train-rmse:0.000827 
[6965]  train-rmse:0.000827 
[6966]  train-rmse:0.000827 
[6967]  train-rmse:0.000825 
[6968]  train-rmse:0.000825 
[6969]  train-rmse:0.000825 
[6970]  train-rmse:0.000825 
[6971]  train-rmse:0.000825 
[6972]  train-rmse:0.000825 
[6973]  train-rmse:0.000824 
[6974]  train-rmse:0.000824 
[6975]  train-rmse:0.000823 
[6976]  train-rmse:0.000823 
[6977]  train-rmse:0.000823 
[6978]  train-rmse:0.000823 
[6979]  train-rmse:0.000823 
[6980]  train-rmse:0.000823 
[6981]  train-rmse:0.000822 
[6982]  train-rmse:0.000822 
[6983]  train-rmse:0.000822 
[6984]  train-rmse:0.000821 
[6985]  train-rmse:0.000821 
[6986]  train-rmse:0.000821 
[6987]  train-rmse:0.000821 
[6988]  train-rmse:0.000821 
[6989]  train-rmse:0.000821 
[6990]  train-rmse:0.000821 
[6991]  train-rmse:0.000820 
[6992]  train-rmse:0.000820 
[6993]  train-rmse:0.000819 
[6994]  train-rmse:0.000819 
[6995]  train-rmse:0.000819 
[6996]  train-rmse:0.000818 
[6997]  train-rmse:0.000818 
[6998]  train-rmse:0.000818 
[6999]  train-rmse:0.000818 
[7000]  train-rmse:0.000818 
[7001]  train-rmse:0.000817 
[7002]  train-rmse:0.000817 
[7003]  train-rmse:0.000816 
[7004]  train-rmse:0.000816 
[7005]  train-rmse:0.000815 
[7006]  train-rmse:0.000815 
[7007]  train-rmse:0.000815 
[7008]  train-rmse:0.000815 
[7009]  train-rmse:0.000815 
[7010]  train-rmse:0.000815 
[7011]  train-rmse:0.000815 
[7012]  train-rmse:0.000814 
[7013]  train-rmse:0.000814 
[7014]  train-rmse:0.000813 
[7015]  train-rmse:0.000813 
[7016]  train-rmse:0.000813 
[7017]  train-rmse:0.000812 
[7018]  train-rmse:0.000812 
[7019]  train-rmse:0.000812 
[7020]  train-rmse:0.000811 
[7021]  train-rmse:0.000810 
[7022]  train-rmse:0.000810 
[7023]  train-rmse:0.000810 
[7024]  train-rmse:0.000810 
[7025]  train-rmse:0.000809 
[7026]  train-rmse:0.000809 
[7027]  train-rmse:0.000809 
[7028]  train-rmse:0.000808 
[7029]  train-rmse:0.000808 
[7030]  train-rmse:0.000808 
[7031]  train-rmse:0.000808 
[7032]  train-rmse:0.000807 
[7033]  train-rmse:0.000807 
[7034]  train-rmse:0.000807 
[7035]  train-rmse:0.000806 
[7036]  train-rmse:0.000806 
[7037]  train-rmse:0.000805 
[7038]  train-rmse:0.000805 
[7039]  train-rmse:0.000805 
[7040]  train-rmse:0.000805 
[7041]  train-rmse:0.000804 
[7042]  train-rmse:0.000804 
[7043]  train-rmse:0.000804 
[7044]  train-rmse:0.000804 
[7045]  train-rmse:0.000804 
[7046]  train-rmse:0.000804 
[7047]  train-rmse:0.000804 
[7048]  train-rmse:0.000804 
[7049]  train-rmse:0.000803 
[7050]  train-rmse:0.000802 
[7051]  train-rmse:0.000802 
[7052]  train-rmse:0.000802 
[7053]  train-rmse:0.000802 
[7054]  train-rmse:0.000801 
[7055]  train-rmse:0.000801 
[7056]  train-rmse:0.000801 
[7057]  train-rmse:0.000800 
[7058]  train-rmse:0.000799 
[7059]  train-rmse:0.000799 
[7060]  train-rmse:0.000799 
[7061]  train-rmse:0.000799 
[7062]  train-rmse:0.000799 
[7063]  train-rmse:0.000799 
[7064]  train-rmse:0.000799 
[7065]  train-rmse:0.000798 
[7066]  train-rmse:0.000798 
[7067]  train-rmse:0.000798 
[7068]  train-rmse:0.000798 
[7069]  train-rmse:0.000798 
[7070]  train-rmse:0.000798 
[7071]  train-rmse:0.000798 
[7072]  train-rmse:0.000797 
[7073]  train-rmse:0.000796 
[7074]  train-rmse:0.000796 
[7075]  train-rmse:0.000796 
[7076]  train-rmse:0.000795 
[7077]  train-rmse:0.000794 
[7078]  train-rmse:0.000794 
[7079]  train-rmse:0.000794 
[7080]  train-rmse:0.000793 
[7081]  train-rmse:0.000793 
[7082]  train-rmse:0.000793 
[7083]  train-rmse:0.000792 
[7084]  train-rmse:0.000792 
[7085]  train-rmse:0.000792 
[7086]  train-rmse:0.000792 
[7087]  train-rmse:0.000792 
[7088]  train-rmse:0.000792 
[7089]  train-rmse:0.000791 
[7090]  train-rmse:0.000792 
[7091]  train-rmse:0.000791 
[7092]  train-rmse:0.000791 
[7093]  train-rmse:0.000791 
[7094]  train-rmse:0.000792 
[7095]  train-rmse:0.000791 
[7096]  train-rmse:0.000791 
[7097]  train-rmse:0.000792 
[7098]  train-rmse:0.000792 
[7099]  train-rmse:0.000791 
[7100]  train-rmse:0.000791 
[7101]  train-rmse:0.000791 
[7102]  train-rmse:0.000791 
[7103]  train-rmse:0.000791 
[7104]  train-rmse:0.000791 
[7105]  train-rmse:0.000791 
[7106]  train-rmse:0.000791 
[7107]  train-rmse:0.000791 
[7108]  train-rmse:0.000791 
[7109]  train-rmse:0.000791 
[7110]  train-rmse:0.000791 
[7111]  train-rmse:0.000791 
[7112]  train-rmse:0.000791 
[7113]  train-rmse:0.000791 
[7114]  train-rmse:0.000791 
[7115]  train-rmse:0.000791 
[7116]  train-rmse:0.000791 
[7117]  train-rmse:0.000790 
[7118]  train-rmse:0.000790 
[7119]  train-rmse:0.000790 
[7120]  train-rmse:0.000790 
[7121]  train-rmse:0.000790 
[7122]  train-rmse:0.000789 
[7123]  train-rmse:0.000789 
[7124]  train-rmse:0.000789 
[7125]  train-rmse:0.000788 
[7126]  train-rmse:0.000788 
[7127]  train-rmse:0.000787 
[7128]  train-rmse:0.000787 
[7129]  train-rmse:0.000787 
[7130]  train-rmse:0.000787 
[7131]  train-rmse:0.000787 
[7132]  train-rmse:0.000787 
[7133]  train-rmse:0.000787 
[7134]  train-rmse:0.000787 
[7135]  train-rmse:0.000787 
[7136]  train-rmse:0.000786 
[7137]  train-rmse:0.000786 
[7138]  train-rmse:0.000785 
[7139]  train-rmse:0.000785 
[7140]  train-rmse:0.000784 
[7141]  train-rmse:0.000784 
[7142]  train-rmse:0.000784 
[7143]  train-rmse:0.000784 
[7144]  train-rmse:0.000783 
[7145]  train-rmse:0.000783 
[7146]  train-rmse:0.000783 
[7147]  train-rmse:0.000783 
[7148]  train-rmse:0.000783 
[7149]  train-rmse:0.000783 
[7150]  train-rmse:0.000783 
[7151]  train-rmse:0.000782 
[7152]  train-rmse:0.000782 
[7153]  train-rmse:0.000782 
[7154]  train-rmse:0.000782 
[7155]  train-rmse:0.000782 
[7156]  train-rmse:0.000782 
[7157]  train-rmse:0.000782 
[7158]  train-rmse:0.000782 
[7159]  train-rmse:0.000782 
[7160]  train-rmse:0.000781 
[7161]  train-rmse:0.000781 
[7162]  train-rmse:0.000780 
[7163]  train-rmse:0.000780 
[7164]  train-rmse:0.000779 
[7165]  train-rmse:0.000779 
[7166]  train-rmse:0.000779 
[7167]  train-rmse:0.000778 
[7168]  train-rmse:0.000778 
[7169]  train-rmse:0.000777 
[7170]  train-rmse:0.000777 
[7171]  train-rmse:0.000777 
[7172]  train-rmse:0.000777 
[7173]  train-rmse:0.000777 
[7174]  train-rmse:0.000777 
[7175]  train-rmse:0.000777 
[7176]  train-rmse:0.000777 
[7177]  train-rmse:0.000777 
[7178]  train-rmse:0.000777 
[7179]  train-rmse:0.000777 
[7180]  train-rmse:0.000777 
[7181]  train-rmse:0.000776 
[7182]  train-rmse:0.000776 
[7183]  train-rmse:0.000776 
[7184]  train-rmse:0.000776 
[7185]  train-rmse:0.000776 
[7186]  train-rmse:0.000776 
[7187]  train-rmse:0.000776 
[7188]  train-rmse:0.000776 
[7189]  train-rmse:0.000776 
[7190]  train-rmse:0.000775 
[7191]  train-rmse:0.000775 
[7192]  train-rmse:0.000775 
[7193]  train-rmse:0.000775 
[7194]  train-rmse:0.000775 
[7195]  train-rmse:0.000775 
[7196]  train-rmse:0.000775 
[7197]  train-rmse:0.000775 
[7198]  train-rmse:0.000775 
[7199]  train-rmse:0.000775 
[7200]  train-rmse:0.000775 
[7201]  train-rmse:0.000775 
[7202]  train-rmse:0.000775 
[7203]  train-rmse:0.000775 
[7204]  train-rmse:0.000775 
[7205]  train-rmse:0.000775 
[7206]  train-rmse:0.000774 
[7207]  train-rmse:0.000774 
[7208]  train-rmse:0.000774 
[7209]  train-rmse:0.000773 
[7210]  train-rmse:0.000773 
[7211]  train-rmse:0.000773 
[7212]  train-rmse:0.000773 
[7213]  train-rmse:0.000773 
[7214]  train-rmse:0.000773 
[7215]  train-rmse:0.000773 
[7216]  train-rmse:0.000773 
[7217]  train-rmse:0.000773 
[7218]  train-rmse:0.000773 
[7219]  train-rmse:0.000773 
[7220]  train-rmse:0.000773 
[7221]  train-rmse:0.000772 
[7222]  train-rmse:0.000771 
[7223]  train-rmse:0.000770 
[7224]  train-rmse:0.000770 
[7225]  train-rmse:0.000770 
[7226]  train-rmse:0.000770 
[7227]  train-rmse:0.000770 
[7228]  train-rmse:0.000770 
[7229]  train-rmse:0.000770 
[7230]  train-rmse:0.000770 
[7231]  train-rmse:0.000770 
[7232]  train-rmse:0.000770 
[7233]  train-rmse:0.000770 
[7234]  train-rmse:0.000770 
[7235]  train-rmse:0.000770 
[7236]  train-rmse:0.000770 
[7237]  train-rmse:0.000770 
[7238]  train-rmse:0.000770 
[7239]  train-rmse:0.000770 
[7240]  train-rmse:0.000769 
[7241]  train-rmse:0.000769 
[7242]  train-rmse:0.000769 
[7243]  train-rmse:0.000769 
[7244]  train-rmse:0.000769 
[7245]  train-rmse:0.000769 
[7246]  train-rmse:0.000769 
[7247]  train-rmse:0.000769 
[7248]  train-rmse:0.000769 
[7249]  train-rmse:0.000768 
[7250]  train-rmse:0.000768 
[7251]  train-rmse:0.000768 
[7252]  train-rmse:0.000768 
[7253]  train-rmse:0.000768 
[7254]  train-rmse:0.000768 
[7255]  train-rmse:0.000768 
[7256]  train-rmse:0.000768 
[7257]  train-rmse:0.000768 
[7258]  train-rmse:0.000768 
[7259]  train-rmse:0.000768 
[7260]  train-rmse:0.000768 
[7261]  train-rmse:0.000768 
[7262]  train-rmse:0.000768 
[7263]  train-rmse:0.000768 
[7264]  train-rmse:0.000768 
[7265]  train-rmse:0.000768 
[7266]  train-rmse:0.000767 
[7267]  train-rmse:0.000767 
[7268]  train-rmse:0.000767 
[7269]  train-rmse:0.000767 
[7270]  train-rmse:0.000767 
[7271]  train-rmse:0.000766 
[7272]  train-rmse:0.000766 
[7273]  train-rmse:0.000766 
[7274]  train-rmse:0.000766 
[7275]  train-rmse:0.000766 
[7276]  train-rmse:0.000765 
[7277]  train-rmse:0.000765 
[7278]  train-rmse:0.000764 
[7279]  train-rmse:0.000764 
[7280]  train-rmse:0.000765 
[7281]  train-rmse:0.000764 
[7282]  train-rmse:0.000764 
[7283]  train-rmse:0.000764 
[7284]  train-rmse:0.000764 
[7285]  train-rmse:0.000764 
[7286]  train-rmse:0.000764 
[7287]  train-rmse:0.000764 
[7288]  train-rmse:0.000764 
[7289]  train-rmse:0.000764 
[7290]  train-rmse:0.000764 
[7291]  train-rmse:0.000764 
[7292]  train-rmse:0.000764 
[7293]  train-rmse:0.000764 
[7294]  train-rmse:0.000764 
[7295]  train-rmse:0.000764 
[7296]  train-rmse:0.000764 
[7297]  train-rmse:0.000764 
[7298]  train-rmse:0.000764 
[7299]  train-rmse:0.000763 
[7300]  train-rmse:0.000763 
[7301]  train-rmse:0.000763 
[7302]  train-rmse:0.000763 
[7303]  train-rmse:0.000763 
[7304]  train-rmse:0.000762 
[7305]  train-rmse:0.000762 
[7306]  train-rmse:0.000762 
[7307]  train-rmse:0.000762 
[7308]  train-rmse:0.000762 
[7309]  train-rmse:0.000762 
[7310]  train-rmse:0.000762 
[7311]  train-rmse:0.000762 
[7312]  train-rmse:0.000762 
[7313]  train-rmse:0.000762 
[7314]  train-rmse:0.000762 
[7315]  train-rmse:0.000762 
[7316]  train-rmse:0.000762 
[7317]  train-rmse:0.000762 
[7318]  train-rmse:0.000761 
[7319]  train-rmse:0.000761 
[7320]  train-rmse:0.000761 
[7321]  train-rmse:0.000761 
[7322]  train-rmse:0.000761 
[7323]  train-rmse:0.000761 
[7324]  train-rmse:0.000761 
[7325]  train-rmse:0.000761 
[7326]  train-rmse:0.000761 
[7327]  train-rmse:0.000761 
[7328]  train-rmse:0.000761 
[7329]  train-rmse:0.000761 
[7330]  train-rmse:0.000761 
[7331]  train-rmse:0.000761 
[7332]  train-rmse:0.000761 
[7333]  train-rmse:0.000761 
[7334]  train-rmse:0.000761 
[7335]  train-rmse:0.000761 
[7336]  train-rmse:0.000761 
[7337]  train-rmse:0.000760 
[7338]  train-rmse:0.000760 
[7339]  train-rmse:0.000760 
[7340]  train-rmse:0.000760 
[7341]  train-rmse:0.000760 
[7342]  train-rmse:0.000760 
[7343]  train-rmse:0.000760 
[7344]  train-rmse:0.000760 
[7345]  train-rmse:0.000760 
[7346]  train-rmse:0.000760 
[7347]  train-rmse:0.000760 
[7348]  train-rmse:0.000760 
[7349]  train-rmse:0.000759 
[7350]  train-rmse:0.000758 
[7351]  train-rmse:0.000758 
[7352]  train-rmse:0.000758 
[7353]  train-rmse:0.000758 
[7354]  train-rmse:0.000758 
[7355]  train-rmse:0.000758 
[7356]  train-rmse:0.000758 
[7357]  train-rmse:0.000758 
[7358]  train-rmse:0.000757 
[7359]  train-rmse:0.000757 
[7360]  train-rmse:0.000757 
[7361]  train-rmse:0.000757 
[7362]  train-rmse:0.000757 
[7363]  train-rmse:0.000757 
[7364]  train-rmse:0.000757 
[7365]  train-rmse:0.000757 
[7366]  train-rmse:0.000757 
[7367]  train-rmse:0.000757 
[7368]  train-rmse:0.000757 
[7369]  train-rmse:0.000756 
[7370]  train-rmse:0.000756 
[7371]  train-rmse:0.000756 
[7372]  train-rmse:0.000755 
[7373]  train-rmse:0.000755 
[7374]  train-rmse:0.000755 
[7375]  train-rmse:0.000755 
[7376]  train-rmse:0.000755 
[7377]  train-rmse:0.000755 
[7378]  train-rmse:0.000754 
[7379]  train-rmse:0.000754 
[7380]  train-rmse:0.000754 
[7381]  train-rmse:0.000754 
[7382]  train-rmse:0.000754 
[7383]  train-rmse:0.000754 
[7384]  train-rmse:0.000754 
[7385]  train-rmse:0.000754 
[7386]  train-rmse:0.000754 
[7387]  train-rmse:0.000754 
[7388]  train-rmse:0.000754 
[7389]  train-rmse:0.000753 
[7390]  train-rmse:0.000753 
[7391]  train-rmse:0.000753 
[7392]  train-rmse:0.000753 
[7393]  train-rmse:0.000752 
[7394]  train-rmse:0.000752 
[7395]  train-rmse:0.000752 
[7396]  train-rmse:0.000752 
[7397]  train-rmse:0.000752 
[7398]  train-rmse:0.000752 
[7399]  train-rmse:0.000752 
[7400]  train-rmse:0.000752 
[7401]  train-rmse:0.000752 
[7402]  train-rmse:0.000752 
[7403]  train-rmse:0.000752 
[7404]  train-rmse:0.000752 
[7405]  train-rmse:0.000752 
[7406]  train-rmse:0.000752 
[7407]  train-rmse:0.000752 
[7408]  train-rmse:0.000752 
[7409]  train-rmse:0.000751 
[7410]  train-rmse:0.000751 
[7411]  train-rmse:0.000751 
[7412]  train-rmse:0.000751 
[7413]  train-rmse:0.000751 
[7414]  train-rmse:0.000751 
[7415]  train-rmse:0.000751 
[7416]  train-rmse:0.000751 
[7417]  train-rmse:0.000751 
[7418]  train-rmse:0.000750 
[7419]  train-rmse:0.000750 
[7420]  train-rmse:0.000749 
[7421]  train-rmse:0.000749 
[7422]  train-rmse:0.000749 
[7423]  train-rmse:0.000749 
[7424]  train-rmse:0.000749 
[7425]  train-rmse:0.000749 
[7426]  train-rmse:0.000749 
[7427]  train-rmse:0.000749 
[7428]  train-rmse:0.000749 
[7429]  train-rmse:0.000749 
[7430]  train-rmse:0.000749 
[7431]  train-rmse:0.000748 
[7432]  train-rmse:0.000748 
[7433]  train-rmse:0.000748 
[7434]  train-rmse:0.000748 
[7435]  train-rmse:0.000748 
[7436]  train-rmse:0.000748 
[7437]  train-rmse:0.000748 
[7438]  train-rmse:0.000748 
[7439]  train-rmse:0.000748 
[7440]  train-rmse:0.000748 
[7441]  train-rmse:0.000747 
[7442]  train-rmse:0.000747 
[7443]  train-rmse:0.000747 
[7444]  train-rmse:0.000747 
[7445]  train-rmse:0.000746 
[7446]  train-rmse:0.000746 
[7447]  train-rmse:0.000746 
[7448]  train-rmse:0.000746 
[7449]  train-rmse:0.000746 
[7450]  train-rmse:0.000746 
[7451]  train-rmse:0.000746 
[7452]  train-rmse:0.000746 
[7453]  train-rmse:0.000746 
[7454]  train-rmse:0.000746 
[7455]  train-rmse:0.000746 
[7456]  train-rmse:0.000746 
[7457]  train-rmse:0.000746 
[7458]  train-rmse:0.000746 
[7459]  train-rmse:0.000746 
[7460]  train-rmse:0.000746 
[7461]  train-rmse:0.000746 
[7462]  train-rmse:0.000746 
[7463]  train-rmse:0.000745 
[7464]  train-rmse:0.000745 
[7465]  train-rmse:0.000745 
[7466]  train-rmse:0.000745 
[7467]  train-rmse:0.000745 
[7468]  train-rmse:0.000745 
[7469]  train-rmse:0.000745 
[7470]  train-rmse:0.000744 
[7471]  train-rmse:0.000743 
[7472]  train-rmse:0.000743 
[7473]  train-rmse:0.000743 
[7474]  train-rmse:0.000743 
[7475]  train-rmse:0.000743 
[7476]  train-rmse:0.000742 
[7477]  train-rmse:0.000742 
[7478]  train-rmse:0.000742 
[7479]  train-rmse:0.000742 
[7480]  train-rmse:0.000741 
[7481]  train-rmse:0.000741 
[7482]  train-rmse:0.000741 
[7483]  train-rmse:0.000741 
[7484]  train-rmse:0.000741 
[7485]  train-rmse:0.000741 
[7486]  train-rmse:0.000740 
[7487]  train-rmse:0.000740 
[7488]  train-rmse:0.000739 
[7489]  train-rmse:0.000739 
[7490]  train-rmse:0.000739 
[7491]  train-rmse:0.000739 
[7492]  train-rmse:0.000739 
[7493]  train-rmse:0.000739 
[7494]  train-rmse:0.000739 
[7495]  train-rmse:0.000739 
[7496]  train-rmse:0.000739 
[7497]  train-rmse:0.000738 
[7498]  train-rmse:0.000738 
[7499]  train-rmse:0.000738 
[7500]  train-rmse:0.000738 
[7501]  train-rmse:0.000738 
[7502]  train-rmse:0.000738 
[7503]  train-rmse:0.000737 
[7504]  train-rmse:0.000736 
[7505]  train-rmse:0.000736 
[7506]  train-rmse:0.000736 
[7507]  train-rmse:0.000736 
[7508]  train-rmse:0.000735 
[7509]  train-rmse:0.000735 
[7510]  train-rmse:0.000735 
[7511]  train-rmse:0.000734 
[7512]  train-rmse:0.000733 
[7513]  train-rmse:0.000733 
[7514]  train-rmse:0.000733 
[7515]  train-rmse:0.000733 
[7516]  train-rmse:0.000733 
[7517]  train-rmse:0.000733 
[7518]  train-rmse:0.000733 
[7519]  train-rmse:0.000733 
[7520]  train-rmse:0.000733 
[7521]  train-rmse:0.000733 
[7522]  train-rmse:0.000733 
[7523]  train-rmse:0.000733 
[7524]  train-rmse:0.000733 
[7525]  train-rmse:0.000733 
[7526]  train-rmse:0.000732 
[7527]  train-rmse:0.000732 
[7528]  train-rmse:0.000732 
[7529]  train-rmse:0.000732 
[7530]  train-rmse:0.000732 
[7531]  train-rmse:0.000731 
[7532]  train-rmse:0.000731 
[7533]  train-rmse:0.000731 
[7534]  train-rmse:0.000731 
[7535]  train-rmse:0.000731 
[7536]  train-rmse:0.000731 
[7537]  train-rmse:0.000730 
[7538]  train-rmse:0.000730 
[7539]  train-rmse:0.000730 
[7540]  train-rmse:0.000729 
[7541]  train-rmse:0.000730 
[7542]  train-rmse:0.000729 
[7543]  train-rmse:0.000729 
[7544]  train-rmse:0.000728 
[7545]  train-rmse:0.000728 
[7546]  train-rmse:0.000728 
[7547]  train-rmse:0.000728 
[7548]  train-rmse:0.000729 
[7549]  train-rmse:0.000729 
[7550]  train-rmse:0.000729 
[7551]  train-rmse:0.000728 
[7552]  train-rmse:0.000728 
[7553]  train-rmse:0.000728 
[7554]  train-rmse:0.000728 
[7555]  train-rmse:0.000727 
[7556]  train-rmse:0.000727 
[7557]  train-rmse:0.000727 
[7558]  train-rmse:0.000726 
[7559]  train-rmse:0.000727 
[7560]  train-rmse:0.000726 
[7561]  train-rmse:0.000726 
[7562]  train-rmse:0.000726 
[7563]  train-rmse:0.000726 
[7564]  train-rmse:0.000726 
[7565]  train-rmse:0.000726 
[7566]  train-rmse:0.000725 
[7567]  train-rmse:0.000725 
[7568]  train-rmse:0.000725 
[7569]  train-rmse:0.000725 
[7570]  train-rmse:0.000725 
[7571]  train-rmse:0.000724 
[7572]  train-rmse:0.000724 
[7573]  train-rmse:0.000724 
[7574]  train-rmse:0.000724 
[7575]  train-rmse:0.000724 
[7576]  train-rmse:0.000724 
[7577]  train-rmse:0.000724 
[7578]  train-rmse:0.000724 
[7579]  train-rmse:0.000724 
[7580]  train-rmse:0.000724 
[7581]  train-rmse:0.000724 
[7582]  train-rmse:0.000724 
[7583]  train-rmse:0.000724 
[7584]  train-rmse:0.000724 
[7585]  train-rmse:0.000724 
[7586]  train-rmse:0.000724 
[7587]  train-rmse:0.000724 
[7588]  train-rmse:0.000724 
[7589]  train-rmse:0.000723 
[7590]  train-rmse:0.000723 
[7591]  train-rmse:0.000723 
[7592]  train-rmse:0.000723 
[7593]  train-rmse:0.000723 
[7594]  train-rmse:0.000723 
[7595]  train-rmse:0.000723 
[7596]  train-rmse:0.000723 
[7597]  train-rmse:0.000723 
[7598]  train-rmse:0.000723 
[7599]  train-rmse:0.000723 
[7600]  train-rmse:0.000723 
[7601]  train-rmse:0.000723 
[7602]  train-rmse:0.000723 
[7603]  train-rmse:0.000722 
[7604]  train-rmse:0.000722 
[7605]  train-rmse:0.000722 
[7606]  train-rmse:0.000722 
[7607]  train-rmse:0.000722 
[7608]  train-rmse:0.000722 
[7609]  train-rmse:0.000722 
[7610]  train-rmse:0.000722 
[7611]  train-rmse:0.000721 
[7612]  train-rmse:0.000721 
[7613]  train-rmse:0.000721 
[7614]  train-rmse:0.000721 
[7615]  train-rmse:0.000721 
[7616]  train-rmse:0.000721 
[7617]  train-rmse:0.000721 
[7618]  train-rmse:0.000721 
[7619]  train-rmse:0.000721 
[7620]  train-rmse:0.000721 
[7621]  train-rmse:0.000721 
[7622]  train-rmse:0.000721 
[7623]  train-rmse:0.000721 
[7624]  train-rmse:0.000721 
[7625]  train-rmse:0.000721 
[7626]  train-rmse:0.000721 
[7627]  train-rmse:0.000721 
[7628]  train-rmse:0.000721 
[7629]  train-rmse:0.000721 
[7630]  train-rmse:0.000720 
[7631]  train-rmse:0.000720 
[7632]  train-rmse:0.000720 
[7633]  train-rmse:0.000720 
[7634]  train-rmse:0.000720 
[7635]  train-rmse:0.000720 
[7636]  train-rmse:0.000720 
[7637]  train-rmse:0.000720 
[7638]  train-rmse:0.000720 
[7639]  train-rmse:0.000720 
[7640]  train-rmse:0.000720 
[7641]  train-rmse:0.000720 
[7642]  train-rmse:0.000720 
[7643]  train-rmse:0.000720 
[7644]  train-rmse:0.000720 
[7645]  train-rmse:0.000719 
[7646]  train-rmse:0.000719 
[7647]  train-rmse:0.000719 
[7648]  train-rmse:0.000719 
[7649]  train-rmse:0.000719 
[7650]  train-rmse:0.000719 
[7651]  train-rmse:0.000719 
[7652]  train-rmse:0.000719 
[7653]  train-rmse:0.000719 
[7654]  train-rmse:0.000719 
[7655]  train-rmse:0.000718 
[7656]  train-rmse:0.000718 
[7657]  train-rmse:0.000718 
[7658]  train-rmse:0.000718 
[7659]  train-rmse:0.000718 
[7660]  train-rmse:0.000718 
[7661]  train-rmse:0.000718 
[7662]  train-rmse:0.000718 
[7663]  train-rmse:0.000718 
[7664]  train-rmse:0.000718 
[7665]  train-rmse:0.000718 
[7666]  train-rmse:0.000717 
[7667]  train-rmse:0.000717 
[7668]  train-rmse:0.000717 
[7669]  train-rmse:0.000717 
[7670]  train-rmse:0.000717 
[7671]  train-rmse:0.000717 
[7672]  train-rmse:0.000717 
[7673]  train-rmse:0.000717 
[7674]  train-rmse:0.000716 
[7675]  train-rmse:0.000716 
[7676]  train-rmse:0.000716 
[7677]  train-rmse:0.000715 
[7678]  train-rmse:0.000715 
[7679]  train-rmse:0.000715 
[7680]  train-rmse:0.000715 
[7681]  train-rmse:0.000715 
[7682]  train-rmse:0.000715 
[7683]  train-rmse:0.000715 
[7684]  train-rmse:0.000715 
[7685]  train-rmse:0.000714 
[7686]  train-rmse:0.000714 
[7687]  train-rmse:0.000714 
[7688]  train-rmse:0.000714 
[7689]  train-rmse:0.000714 
[7690]  train-rmse:0.000714 
[7691]  train-rmse:0.000713 
[7692]  train-rmse:0.000713 
[7693]  train-rmse:0.000713 
[7694]  train-rmse:0.000713 
[7695]  train-rmse:0.000713 
[7696]  train-rmse:0.000713 
[7697]  train-rmse:0.000713 
[7698]  train-rmse:0.000713 
[7699]  train-rmse:0.000713 
[7700]  train-rmse:0.000713 
[7701]  train-rmse:0.000713 
[7702]  train-rmse:0.000713 
[7703]  train-rmse:0.000713 
[7704]  train-rmse:0.000713 
[7705]  train-rmse:0.000713 
[7706]  train-rmse:0.000713 
[7707]  train-rmse:0.000713 
[7708]  train-rmse:0.000712 
[7709]  train-rmse:0.000712 
[7710]  train-rmse:0.000711 
[7711]  train-rmse:0.000711 
[7712]  train-rmse:0.000711 
[7713]  train-rmse:0.000711 
[7714]  train-rmse:0.000711 
[7715]  train-rmse:0.000711 
[7716]  train-rmse:0.000711 
[7717]  train-rmse:0.000711 
[7718]  train-rmse:0.000711 
[7719]  train-rmse:0.000711 
[7720]  train-rmse:0.000711 
[7721]  train-rmse:0.000711 
[7722]  train-rmse:0.000710 
[7723]  train-rmse:0.000710 
[7724]  train-rmse:0.000710 
[7725]  train-rmse:0.000710 
[7726]  train-rmse:0.000710 
[7727]  train-rmse:0.000710 
[7728]  train-rmse:0.000710 
[7729]  train-rmse:0.000710 
[7730]  train-rmse:0.000709 
[7731]  train-rmse:0.000709 
[7732]  train-rmse:0.000709 
[7733]  train-rmse:0.000708 
[7734]  train-rmse:0.000708 
[7735]  train-rmse:0.000708 
[7736]  train-rmse:0.000709 
[7737]  train-rmse:0.000709 
[7738]  train-rmse:0.000709 
[7739]  train-rmse:0.000709 
[7740]  train-rmse:0.000708 
[7741]  train-rmse:0.000708 
[7742]  train-rmse:0.000708 
[7743]  train-rmse:0.000708 
[7744]  train-rmse:0.000707 
[7745]  train-rmse:0.000707 
[7746]  train-rmse:0.000707 
[7747]  train-rmse:0.000706 
[7748]  train-rmse:0.000706 
[7749]  train-rmse:0.000706 
[7750]  train-rmse:0.000706 
[7751]  train-rmse:0.000706 
[7752]  train-rmse:0.000706 
[7753]  train-rmse:0.000706 
[7754]  train-rmse:0.000705 
[7755]  train-rmse:0.000705 
[7756]  train-rmse:0.000705 
[7757]  train-rmse:0.000705 
[7758]  train-rmse:0.000705 
[7759]  train-rmse:0.000705 
[7760]  train-rmse:0.000705 
[7761]  train-rmse:0.000705 
[7762]  train-rmse:0.000705 
[7763]  train-rmse:0.000705 
[7764]  train-rmse:0.000705 
[7765]  train-rmse:0.000705 
[7766]  train-rmse:0.000705 
[7767]  train-rmse:0.000704 
[7768]  train-rmse:0.000704 
[7769]  train-rmse:0.000704 
[7770]  train-rmse:0.000703 
[7771]  train-rmse:0.000703 
[7772]  train-rmse:0.000703 
[7773]  train-rmse:0.000703 
[7774]  train-rmse:0.000703 
[7775]  train-rmse:0.000703 
[7776]  train-rmse:0.000703 
[7777]  train-rmse:0.000703 
[7778]  train-rmse:0.000703 
[7779]  train-rmse:0.000703 
[7780]  train-rmse:0.000703 
[7781]  train-rmse:0.000703 
[7782]  train-rmse:0.000703 
[7783]  train-rmse:0.000703 
[7784]  train-rmse:0.000703 
[7785]  train-rmse:0.000703 
[7786]  train-rmse:0.000703 
[7787]  train-rmse:0.000703 
[7788]  train-rmse:0.000703 
[7789]  train-rmse:0.000703 
[7790]  train-rmse:0.000703 
[7791]  train-rmse:0.000703 
[7792]  train-rmse:0.000703 
[7793]  train-rmse:0.000703 
[7794]  train-rmse:0.000703 
[7795]  train-rmse:0.000703 
[7796]  train-rmse:0.000703 
[7797]  train-rmse:0.000703 
[7798]  train-rmse:0.000703 
[7799]  train-rmse:0.000703 
[7800]  train-rmse:0.000703 
[7801]  train-rmse:0.000703 
[7802]  train-rmse:0.000703 
[7803]  train-rmse:0.000702 
[7804]  train-rmse:0.000702 
[7805]  train-rmse:0.000702 
[7806]  train-rmse:0.000702 
[7807]  train-rmse:0.000702 
[7808]  train-rmse:0.000702 
[7809]  train-rmse:0.000701 
[7810]  train-rmse:0.000701 
[7811]  train-rmse:0.000700 
[7812]  train-rmse:0.000700 
[7813]  train-rmse:0.000700 
[7814]  train-rmse:0.000700 
[7815]  train-rmse:0.000700 
[7816]  train-rmse:0.000700 
[7817]  train-rmse:0.000700 
[7818]  train-rmse:0.000700 
[7819]  train-rmse:0.000700 
[7820]  train-rmse:0.000700 
[7821]  train-rmse:0.000700 
[7822]  train-rmse:0.000700 
[7823]  train-rmse:0.000700 
[7824]  train-rmse:0.000700 
[7825]  train-rmse:0.000700 
[7826]  train-rmse:0.000700 
[7827]  train-rmse:0.000700 
[7828]  train-rmse:0.000700 
[7829]  train-rmse:0.000700 
[7830]  train-rmse:0.000700 
[7831]  train-rmse:0.000700 
[7832]  train-rmse:0.000700 
[7833]  train-rmse:0.000700 
[7834]  train-rmse:0.000700 
[7835]  train-rmse:0.000700 
[7836]  train-rmse:0.000700 
[7837]  train-rmse:0.000700 
[7838]  train-rmse:0.000700 
[7839]  train-rmse:0.000700 
[7840]  train-rmse:0.000700 
[7841]  train-rmse:0.000700 
[7842]  train-rmse:0.000700 
[7843]  train-rmse:0.000700 
[7844]  train-rmse:0.000700 
[7845]  train-rmse:0.000699 
[7846]  train-rmse:0.000699 
[7847]  train-rmse:0.000699 
[7848]  train-rmse:0.000699 
[7849]  train-rmse:0.000699 
[7850]  train-rmse:0.000699 
[7851]  train-rmse:0.000698 
[7852]  train-rmse:0.000698 
[7853]  train-rmse:0.000698 
[7854]  train-rmse:0.000698 
[7855]  train-rmse:0.000698 
[7856]  train-rmse:0.000698 
[7857]  train-rmse:0.000698 
[7858]  train-rmse:0.000697 
[7859]  train-rmse:0.000697 
[7860]  train-rmse:0.000697 
[7861]  train-rmse:0.000697 
[7862]  train-rmse:0.000697 
[7863]  train-rmse:0.000697 
[7864]  train-rmse:0.000697 
[7865]  train-rmse:0.000697 
[7866]  train-rmse:0.000697 
[7867]  train-rmse:0.000697 
[7868]  train-rmse:0.000697 
[7869]  train-rmse:0.000696 
[7870]  train-rmse:0.000696 
[7871]  train-rmse:0.000696 
[7872]  train-rmse:0.000696 
[7873]  train-rmse:0.000696 
[7874]  train-rmse:0.000695 
[7875]  train-rmse:0.000695 
[7876]  train-rmse:0.000695 
[7877]  train-rmse:0.000695 
[7878]  train-rmse:0.000695 
[7879]  train-rmse:0.000695 
[7880]  train-rmse:0.000695 
[7881]  train-rmse:0.000695 
[7882]  train-rmse:0.000695 
[7883]  train-rmse:0.000695 
[7884]  train-rmse:0.000695 
[7885]  train-rmse:0.000695 
[7886]  train-rmse:0.000695 
[7887]  train-rmse:0.000695 
[7888]  train-rmse:0.000695 
[7889]  train-rmse:0.000695 
[7890]  train-rmse:0.000695 
[7891]  train-rmse:0.000695 
[7892]  train-rmse:0.000695 
[7893]  train-rmse:0.000695 
[7894]  train-rmse:0.000695 
[7895]  train-rmse:0.000695 
[7896]  train-rmse:0.000695 
[7897]  train-rmse:0.000695 
[7898]  train-rmse:0.000694 
[7899]  train-rmse:0.000694 
[7900]  train-rmse:0.000693 
[7901]  train-rmse:0.000694 
[7902]  train-rmse:0.000693 
[7903]  train-rmse:0.000693 
[7904]  train-rmse:0.000692 
[7905]  train-rmse:0.000692 
[7906]  train-rmse:0.000692 
[7907]  train-rmse:0.000692 
[7908]  train-rmse:0.000692 
[7909]  train-rmse:0.000692 
[7910]  train-rmse:0.000692 
[7911]  train-rmse:0.000692 
[7912]  train-rmse:0.000692 
[7913]  train-rmse:0.000692 
[7914]  train-rmse:0.000692 
[7915]  train-rmse:0.000692 
[7916]  train-rmse:0.000692 
[7917]  train-rmse:0.000692 
[7918]  train-rmse:0.000692 
[7919]  train-rmse:0.000692 
[7920]  train-rmse:0.000692 
[7921]  train-rmse:0.000692 
[7922]  train-rmse:0.000692 
[7923]  train-rmse:0.000692 
[7924]  train-rmse:0.000692 
[7925]  train-rmse:0.000692 
[7926]  train-rmse:0.000692 
[7927]  train-rmse:0.000692 
[7928]  train-rmse:0.000692 
[7929]  train-rmse:0.000692 
[7930]  train-rmse:0.000692 
[7931]  train-rmse:0.000692 
[7932]  train-rmse:0.000692 
[7933]  train-rmse:0.000692 
[7934]  train-rmse:0.000692 
[7935]  train-rmse:0.000692 
[7936]  train-rmse:0.000692 
[7937]  train-rmse:0.000692 
[7938]  train-rmse:0.000692 
[7939]  train-rmse:0.000692 
[7940]  train-rmse:0.000692 
[7941]  train-rmse:0.000692 
[7942]  train-rmse:0.000692 
[7943]  train-rmse:0.000692 
[7944]  train-rmse:0.000692 
[7945]  train-rmse:0.000692 
[7946]  train-rmse:0.000692 
[7947]  train-rmse:0.000691 
[7948]  train-rmse:0.000691 
[7949]  train-rmse:0.000691 
[7950]  train-rmse:0.000692 
[7951]  train-rmse:0.000691 
[7952]  train-rmse:0.000691 
[7953]  train-rmse:0.000691 
[7954]  train-rmse:0.000691 
[7955]  train-rmse:0.000690 
[7956]  train-rmse:0.000690 
[7957]  train-rmse:0.000690 
[7958]  train-rmse:0.000690 
[7959]  train-rmse:0.000690 
[7960]  train-rmse:0.000690 
[7961]  train-rmse:0.000690 
[7962]  train-rmse:0.000690 
[7963]  train-rmse:0.000690 
[7964]  train-rmse:0.000689 
[7965]  train-rmse:0.000689 
[7966]  train-rmse:0.000689 
[7967]  train-rmse:0.000689 
[7968]  train-rmse:0.000689 
[7969]  train-rmse:0.000689 
[7970]  train-rmse:0.000689 
[7971]  train-rmse:0.000689 
[7972]  train-rmse:0.000689 
[7973]  train-rmse:0.000689 
[7974]  train-rmse:0.000689 
[7975]  train-rmse:0.000689 
[7976]  train-rmse:0.000689 
[7977]  train-rmse:0.000689 
[7978]  train-rmse:0.000689 
[7979]  train-rmse:0.000689 
[7980]  train-rmse:0.000689 
[7981]  train-rmse:0.000689 
[7982]  train-rmse:0.000689 
[7983]  train-rmse:0.000688 
[7984]  train-rmse:0.000688 
[7985]  train-rmse:0.000688 
[7986]  train-rmse:0.000688 
[7987]  train-rmse:0.000688 
[7988]  train-rmse:0.000688 
[7989]  train-rmse:0.000687 
[7990]  train-rmse:0.000687 
[7991]  train-rmse:0.000687 
[7992]  train-rmse:0.000687 
[7993]  train-rmse:0.000687 
[7994]  train-rmse:0.000687 
[7995]  train-rmse:0.000687 
[7996]  train-rmse:0.000687 
[7997]  train-rmse:0.000687 
[7998]  train-rmse:0.000687 
[7999]  train-rmse:0.000687 
[8000]  train-rmse:0.000687 
[8001]  train-rmse:0.000687 
[8002]  train-rmse:0.000687 
[8003]  train-rmse:0.000687 
[8004]  train-rmse:0.000687 
[8005]  train-rmse:0.000687 
[8006]  train-rmse:0.000687 
[8007]  train-rmse:0.000687 
[8008]  train-rmse:0.000687 
[8009]  train-rmse:0.000687 
[8010]  train-rmse:0.000687 
[8011]  train-rmse:0.000687 
[8012]  train-rmse:0.000687 
[8013]  train-rmse:0.000688 
[8014]  train-rmse:0.000687 
[8015]  train-rmse:0.000687 
[8016]  train-rmse:0.000687 
[8017]  train-rmse:0.000687 
[8018]  train-rmse:0.000687 
[8019]  train-rmse:0.000687 
[8020]  train-rmse:0.000687 
[8021]  train-rmse:0.000687 
[8022]  train-rmse:0.000687 
[8023]  train-rmse:0.000687 
[8024]  train-rmse:0.000686 
[8025]  train-rmse:0.000686 
[8026]  train-rmse:0.000686 
[8027]  train-rmse:0.000686 
[8028]  train-rmse:0.000686 
[8029]  train-rmse:0.000686 
[8030]  train-rmse:0.000686 
[8031]  train-rmse:0.000686 
[8032]  train-rmse:0.000686 
[8033]  train-rmse:0.000686 
[8034]  train-rmse:0.000686 
[8035]  train-rmse:0.000686 
[8036]  train-rmse:0.000686 
[8037]  train-rmse:0.000686 
[8038]  train-rmse:0.000685 
[8039]  train-rmse:0.000685 
[8040]  train-rmse:0.000685 
[8041]  train-rmse:0.000684 
[8042]  train-rmse:0.000684 
[8043]  train-rmse:0.000684 
[8044]  train-rmse:0.000684 
[8045]  train-rmse:0.000684 
[8046]  train-rmse:0.000684 
[8047]  train-rmse:0.000683 
[8048]  train-rmse:0.000683 
[8049]  train-rmse:0.000683 
[8050]  train-rmse:0.000683 
[8051]  train-rmse:0.000683 
[8052]  train-rmse:0.000682 
[8053]  train-rmse:0.000682 
[8054]  train-rmse:0.000682 
[8055]  train-rmse:0.000682 
[8056]  train-rmse:0.000682 
[8057]  train-rmse:0.000682 
[8058]  train-rmse:0.000682 
[8059]  train-rmse:0.000682 
[8060]  train-rmse:0.000682 
[8061]  train-rmse:0.000682 
[8062]  train-rmse:0.000682 
[8063]  train-rmse:0.000682 
[8064]  train-rmse:0.000682 
[8065]  train-rmse:0.000682 
[8066]  train-rmse:0.000682 
[8067]  train-rmse:0.000682 
[8068]  train-rmse:0.000682 
[8069]  train-rmse:0.000682 
[8070]  train-rmse:0.000682 
[8071]  train-rmse:0.000682 
[8072]  train-rmse:0.000682 
[8073]  train-rmse:0.000682 
[8074]  train-rmse:0.000682 
[8075]  train-rmse:0.000682 
[8076]  train-rmse:0.000682 
[8077]  train-rmse:0.000682 
[8078]  train-rmse:0.000682 
[8079]  train-rmse:0.000682 
[8080]  train-rmse:0.000682 
[8081]  train-rmse:0.000682 
[8082]  train-rmse:0.000682 
[8083]  train-rmse:0.000682 
[8084]  train-rmse:0.000682 
[8085]  train-rmse:0.000682 
[8086]  train-rmse:0.000682 
[8087]  train-rmse:0.000682 
[8088]  train-rmse:0.000681 
[8089]  train-rmse:0.000681 
[8090]  train-rmse:0.000681 
[8091]  train-rmse:0.000681 
[8092]  train-rmse:0.000681 
[8093]  train-rmse:0.000681 
[8094]  train-rmse:0.000681 
[8095]  train-rmse:0.000680 
[8096]  train-rmse:0.000680 
[8097]  train-rmse:0.000680 
[8098]  train-rmse:0.000680 
[8099]  train-rmse:0.000680 
[8100]  train-rmse:0.000680 
[8101]  train-rmse:0.000680 
[8102]  train-rmse:0.000680 
[8103]  train-rmse:0.000680 
[8104]  train-rmse:0.000680 
[8105]  train-rmse:0.000680 
[8106]  train-rmse:0.000680 
[8107]  train-rmse:0.000680 
[8108]  train-rmse:0.000680 
[8109]  train-rmse:0.000680 
[8110]  train-rmse:0.000680 
[8111]  train-rmse:0.000680 
[8112]  train-rmse:0.000680 
[8113]  train-rmse:0.000680 
[8114]  train-rmse:0.000680 
[8115]  train-rmse:0.000680 
[8116]  train-rmse:0.000679 
[8117]  train-rmse:0.000679 
[8118]  train-rmse:0.000679 
[8119]  train-rmse:0.000679 
[8120]  train-rmse:0.000679 
[8121]  train-rmse:0.000679 
[8122]  train-rmse:0.000680 
[8123]  train-rmse:0.000680 
[8124]  train-rmse:0.000680 
[8125]  train-rmse:0.000680 
[8126]  train-rmse:0.000680 
[8127]  train-rmse:0.000680 
[8128]  train-rmse:0.000680 
[8129]  train-rmse:0.000680 
[8130]  train-rmse:0.000680 
[8131]  train-rmse:0.000680 
[8132]  train-rmse:0.000680 
[8133]  train-rmse:0.000680 
[8134]  train-rmse:0.000680 
[8135]  train-rmse:0.000680 
[8136]  train-rmse:0.000680 
[8137]  train-rmse:0.000680 
[8138]  train-rmse:0.000680 
[8139]  train-rmse:0.000680 
[8140]  train-rmse:0.000680 
[8141]  train-rmse:0.000679 
[8142]  train-rmse:0.000679 
[8143]  train-rmse:0.000679 
[8144]  train-rmse:0.000678 
[8145]  train-rmse:0.000677 
[8146]  train-rmse:0.000677 
[8147]  train-rmse:0.000677 
[8148]  train-rmse:0.000677 
[8149]  train-rmse:0.000677 
[8150]  train-rmse:0.000677 
[8151]  train-rmse:0.000677 
[8152]  train-rmse:0.000677 
[8153]  train-rmse:0.000677 
[8154]  train-rmse:0.000677 
[8155]  train-rmse:0.000677 
[8156]  train-rmse:0.000677 
[8157]  train-rmse:0.000677 
[8158]  train-rmse:0.000677 
[8159]  train-rmse:0.000677 
[8160]  train-rmse:0.000677 
[8161]  train-rmse:0.000677 
[8162]  train-rmse:0.000677 
[8163]  train-rmse:0.000677 
[8164]  train-rmse:0.000677 
[8165]  train-rmse:0.000677 
[8166]  train-rmse:0.000677 
[8167]  train-rmse:0.000677 
[8168]  train-rmse:0.000677 
[8169]  train-rmse:0.000677 
[8170]  train-rmse:0.000677 
[8171]  train-rmse:0.000677 
[8172]  train-rmse:0.000677 
[8173]  train-rmse:0.000677 
[8174]  train-rmse:0.000676 
[8175]  train-rmse:0.000676 
[8176]  train-rmse:0.000676 
[8177]  train-rmse:0.000676 
[8178]  train-rmse:0.000676 
[8179]  train-rmse:0.000676 
[8180]  train-rmse:0.000675 
[8181]  train-rmse:0.000674 
[8182]  train-rmse:0.000673 
[8183]  train-rmse:0.000673 
[8184]  train-rmse:0.000673 
[8185]  train-rmse:0.000673 
[8186]  train-rmse:0.000673 
[8187]  train-rmse:0.000673 
[8188]  train-rmse:0.000673 
[8189]  train-rmse:0.000673 
[8190]  train-rmse:0.000673 
[8191]  train-rmse:0.000673 
[8192]  train-rmse:0.000673 
[8193]  train-rmse:0.000673 
[8194]  train-rmse:0.000673 
[8195]  train-rmse:0.000673 
[8196]  train-rmse:0.000673 
[8197]  train-rmse:0.000673 
[8198]  train-rmse:0.000673 
[8199]  train-rmse:0.000673 
[8200]  train-rmse:0.000673 
[8201]  train-rmse:0.000673 
[8202]  train-rmse:0.000673 
[8203]  train-rmse:0.000673 
[8204]  train-rmse:0.000673 
[8205]  train-rmse:0.000672 
[8206]  train-rmse:0.000671 
[8207]  train-rmse:0.000671 
[8208]  train-rmse:0.000671 
[8209]  train-rmse:0.000671 
[8210]  train-rmse:0.000671 
[8211]  train-rmse:0.000671 
[8212]  train-rmse:0.000671 
[8213]  train-rmse:0.000671 
[8214]  train-rmse:0.000671 
[8215]  train-rmse:0.000671 
[8216]  train-rmse:0.000671 
[8217]  train-rmse:0.000671 
[8218]  train-rmse:0.000671 
[8219]  train-rmse:0.000671 
[8220]  train-rmse:0.000670 
[8221]  train-rmse:0.000670 
[8222]  train-rmse:0.000669 
[8223]  train-rmse:0.000669 
[8224]  train-rmse:0.000669 
[8225]  train-rmse:0.000668 
[8226]  train-rmse:0.000668 
[8227]  train-rmse:0.000668 
[8228]  train-rmse:0.000668 
[8229]  train-rmse:0.000668 
[8230]  train-rmse:0.000668 
[8231]  train-rmse:0.000668 
[8232]  train-rmse:0.000668 
[8233]  train-rmse:0.000668 
[8234]  train-rmse:0.000668 
[8235]  train-rmse:0.000668 
[8236]  train-rmse:0.000668 
[8237]  train-rmse:0.000668 
[8238]  train-rmse:0.000668 
[8239]  train-rmse:0.000668 
[8240]  train-rmse:0.000668 
[8241]  train-rmse:0.000668 
[8242]  train-rmse:0.000667 
[8243]  train-rmse:0.000667 
[8244]  train-rmse:0.000667 
[8245]  train-rmse:0.000667 
[8246]  train-rmse:0.000667 
[8247]  train-rmse:0.000667 
[8248]  train-rmse:0.000667 
[8249]  train-rmse:0.000666 
[8250]  train-rmse:0.000666 
[8251]  train-rmse:0.000666 
[8252]  train-rmse:0.000666 
[8253]  train-rmse:0.000665 
[8254]  train-rmse:0.000665 
[8255]  train-rmse:0.000665 
[8256]  train-rmse:0.000666 
[8257]  train-rmse:0.000665 
[8258]  train-rmse:0.000665 
[8259]  train-rmse:0.000665 
[8260]  train-rmse:0.000665 
[8261]  train-rmse:0.000665 
[8262]  train-rmse:0.000665 
[8263]  train-rmse:0.000665 
[8264]  train-rmse:0.000665 
[8265]  train-rmse:0.000665 
[8266]  train-rmse:0.000665 
[8267]  train-rmse:0.000665 
[8268]  train-rmse:0.000665 
[8269]  train-rmse:0.000665 
[8270]  train-rmse:0.000665 
[8271]  train-rmse:0.000665 
[8272]  train-rmse:0.000665 
[8273]  train-rmse:0.000665 
[8274]  train-rmse:0.000665 
[8275]  train-rmse:0.000665 
[8276]  train-rmse:0.000665 
[8277]  train-rmse:0.000665 
[8278]  train-rmse:0.000665 
[8279]  train-rmse:0.000665 
[8280]  train-rmse:0.000665 
[8281]  train-rmse:0.000665 
[8282]  train-rmse:0.000665 
[8283]  train-rmse:0.000665 
[8284]  train-rmse:0.000665 
[8285]  train-rmse:0.000665 
[8286]  train-rmse:0.000665 
[8287]  train-rmse:0.000665 
[8288]  train-rmse:0.000664 
[8289]  train-rmse:0.000664 
[8290]  train-rmse:0.000664 
[8291]  train-rmse:0.000663 
[8292]  train-rmse:0.000663 
[8293]  train-rmse:0.000663 
[8294]  train-rmse:0.000662 
[8295]  train-rmse:0.000661 
[8296]  train-rmse:0.000661 
[8297]  train-rmse:0.000661 
[8298]  train-rmse:0.000661 
[8299]  train-rmse:0.000661 
[8300]  train-rmse:0.000661 
[8301]  train-rmse:0.000661 
[8302]  train-rmse:0.000661 
[8303]  train-rmse:0.000661 
[8304]  train-rmse:0.000661 
[8305]  train-rmse:0.000661 
[8306]  train-rmse:0.000661 
[8307]  train-rmse:0.000661 
[8308]  train-rmse:0.000661 
[8309]  train-rmse:0.000661 
[8310]  train-rmse:0.000661 
[8311]  train-rmse:0.000661 
[8312]  train-rmse:0.000661 
[8313]  train-rmse:0.000661 
[8314]  train-rmse:0.000661 
[8315]  train-rmse:0.000661 
[8316]  train-rmse:0.000661 
[8317]  train-rmse:0.000661 
[8318]  train-rmse:0.000661 
[8319]  train-rmse:0.000661 
[8320]  train-rmse:0.000660 
[8321]  train-rmse:0.000660 
[8322]  train-rmse:0.000660 
[8323]  train-rmse:0.000660 
[8324]  train-rmse:0.000660 
[8325]  train-rmse:0.000660 
[8326]  train-rmse:0.000660 
[8327]  train-rmse:0.000660 
[8328]  train-rmse:0.000660 
[8329]  train-rmse:0.000660 
[8330]  train-rmse:0.000660 
[8331]  train-rmse:0.000660 
[8332]  train-rmse:0.000659 
[8333]  train-rmse:0.000659 
[8334]  train-rmse:0.000659 
[8335]  train-rmse:0.000659 
[8336]  train-rmse:0.000659 
[8337]  train-rmse:0.000659 
[8338]  train-rmse:0.000659 
[8339]  train-rmse:0.000659 
[8340]  train-rmse:0.000658 
[8341]  train-rmse:0.000658 
[8342]  train-rmse:0.000658 
[8343]  train-rmse:0.000658 
[8344]  train-rmse:0.000658 
[8345]  train-rmse:0.000658 
[8346]  train-rmse:0.000658 
[8347]  train-rmse:0.000658 
[8348]  train-rmse:0.000658 
[8349]  train-rmse:0.000658 
[8350]  train-rmse:0.000658 
[8351]  train-rmse:0.000658 
[8352]  train-rmse:0.000658 
[8353]  train-rmse:0.000658 
[8354]  train-rmse:0.000658 
[8355]  train-rmse:0.000658 
[8356]  train-rmse:0.000658 
[8357]  train-rmse:0.000658 
[8358]  train-rmse:0.000658 
[8359]  train-rmse:0.000658 
[8360]  train-rmse:0.000658 
[8361]  train-rmse:0.000658 
[8362]  train-rmse:0.000658 
[8363]  train-rmse:0.000658 
[8364]  train-rmse:0.000658 
[8365]  train-rmse:0.000658 
[8366]  train-rmse:0.000658 
[8367]  train-rmse:0.000658 
[8368]  train-rmse:0.000658 
[8369]  train-rmse:0.000658 
[8370]  train-rmse:0.000658 
[8371]  train-rmse:0.000658 
[8372]  train-rmse:0.000657 
[8373]  train-rmse:0.000657 
[8374]  train-rmse:0.000657 
[8375]  train-rmse:0.000657 
[8376]  train-rmse:0.000657 
[8377]  train-rmse:0.000656 
[8378]  train-rmse:0.000656 
[8379]  train-rmse:0.000656 
[8380]  train-rmse:0.000656 
[8381]  train-rmse:0.000656 
[8382]  train-rmse:0.000656 
[8383]  train-rmse:0.000656 
[8384]  train-rmse:0.000656 
[8385]  train-rmse:0.000656 
[8386]  train-rmse:0.000656 
[8387]  train-rmse:0.000655 
[8388]  train-rmse:0.000655 
[8389]  train-rmse:0.000655 
[8390]  train-rmse:0.000655 
[8391]  train-rmse:0.000655 
[8392]  train-rmse:0.000655 
[8393]  train-rmse:0.000655 
[8394]  train-rmse:0.000655 
[8395]  train-rmse:0.000655 
[8396]  train-rmse:0.000655 
[8397]  train-rmse:0.000655 
[8398]  train-rmse:0.000655 
[8399]  train-rmse:0.000655 
[8400]  train-rmse:0.000655 
[8401]  train-rmse:0.000655 
[8402]  train-rmse:0.000655 
[8403]  train-rmse:0.000655 
[8404]  train-rmse:0.000655 
[8405]  train-rmse:0.000655 
[8406]  train-rmse:0.000655 
[8407]  train-rmse:0.000655 
[8408]  train-rmse:0.000655 
[8409]  train-rmse:0.000655 
[8410]  train-rmse:0.000655 
[8411]  train-rmse:0.000655 
[8412]  train-rmse:0.000655 
[8413]  train-rmse:0.000655 
[8414]  train-rmse:0.000655 
[8415]  train-rmse:0.000655 
[8416]  train-rmse:0.000655 
[8417]  train-rmse:0.000654 
[8418]  train-rmse:0.000654 
[8419]  train-rmse:0.000654 
[8420]  train-rmse:0.000654 
[8421]  train-rmse:0.000654 
[8422]  train-rmse:0.000654 
[8423]  train-rmse:0.000654 
[8424]  train-rmse:0.000654 
[8425]  train-rmse:0.000654 
[8426]  train-rmse:0.000654 
[8427]  train-rmse:0.000654 
[8428]  train-rmse:0.000654 
[8429]  train-rmse:0.000654 
[8430]  train-rmse:0.000654 
[8431]  train-rmse:0.000654 
[8432]  train-rmse:0.000654 
[8433]  train-rmse:0.000654 
[8434]  train-rmse:0.000654 
[8435]  train-rmse:0.000654 
[8436]  train-rmse:0.000654 
[8437]  train-rmse:0.000654 
[8438]  train-rmse:0.000654 
[8439]  train-rmse:0.000654 
[8440]  train-rmse:0.000654 
[8441]  train-rmse:0.000654 
[8442]  train-rmse:0.000654 
[8443]  train-rmse:0.000654 
[8444]  train-rmse:0.000654 
[8445]  train-rmse:0.000654 
[8446]  train-rmse:0.000654 
[8447]  train-rmse:0.000654 
[8448]  train-rmse:0.000654 
[8449]  train-rmse:0.000654 
[8450]  train-rmse:0.000654 
[8451]  train-rmse:0.000654 
[8452]  train-rmse:0.000654 
[8453]  train-rmse:0.000654 
[8454]  train-rmse:0.000654 
[8455]  train-rmse:0.000654 
[8456]  train-rmse:0.000654 
[8457]  train-rmse:0.000654 
[8458]  train-rmse:0.000654 
[8459]  train-rmse:0.000654 
[8460]  train-rmse:0.000654 
[8461]  train-rmse:0.000654 
[8462]  train-rmse:0.000654 
[8463]  train-rmse:0.000654 
[8464]  train-rmse:0.000654 
[8465]  train-rmse:0.000654 
[8466]  train-rmse:0.000654 
[8467]  train-rmse:0.000654 
[8468]  train-rmse:0.000654 
[8469]  train-rmse:0.000654 
[8470]  train-rmse:0.000654 
[8471]  train-rmse:0.000654 
[8472]  train-rmse:0.000654 
[8473]  train-rmse:0.000654 
[8474]  train-rmse:0.000654 
[8475]  train-rmse:0.000654 
[8476]  train-rmse:0.000654 
[8477]  train-rmse:0.000653 
[8478]  train-rmse:0.000653 
[8479]  train-rmse:0.000653 
[8480]  train-rmse:0.000653 
[8481]  train-rmse:0.000653 
[8482]  train-rmse:0.000653 
[8483]  train-rmse:0.000652 
[8484]  train-rmse:0.000652 
[8485]  train-rmse:0.000651 
[8486]  train-rmse:0.000651 
[8487]  train-rmse:0.000651 
[8488]  train-rmse:0.000651 
[8489]  train-rmse:0.000651 
[8490]  train-rmse:0.000651 
[8491]  train-rmse:0.000651 
[8492]  train-rmse:0.000651 
[8493]  train-rmse:0.000651 
[8494]  train-rmse:0.000651 
[8495]  train-rmse:0.000651 
[8496]  train-rmse:0.000651 
[8497]  train-rmse:0.000651 
[8498]  train-rmse:0.000651 
[8499]  train-rmse:0.000651 
[8500]  train-rmse:0.000650 
[8501]  train-rmse:0.000650 
[8502]  train-rmse:0.000650 
[8503]  train-rmse:0.000650 
[8504]  train-rmse:0.000650 
[8505]  train-rmse:0.000650 
[8506]  train-rmse:0.000650 
[8507]  train-rmse:0.000650 
[8508]  train-rmse:0.000650 
[8509]  train-rmse:0.000650 
[8510]  train-rmse:0.000650 
[8511]  train-rmse:0.000650 
[8512]  train-rmse:0.000650 
[8513]  train-rmse:0.000650 
[8514]  train-rmse:0.000650 
[8515]  train-rmse:0.000650 
[8516]  train-rmse:0.000650 
[8517]  train-rmse:0.000650 
[8518]  train-rmse:0.000650 
[8519]  train-rmse:0.000650 
[8520]  train-rmse:0.000651 
[8521]  train-rmse:0.000651 
[8522]  train-rmse:0.000651 
[8523]  train-rmse:0.000651 
[8524]  train-rmse:0.000651 
[8525]  train-rmse:0.000651 
[8526]  train-rmse:0.000651 
[8527]  train-rmse:0.000651 
[8528]  train-rmse:0.000651 
[8529]  train-rmse:0.000651 
[8530]  train-rmse:0.000651 
[8531]  train-rmse:0.000651 
[8532]  train-rmse:0.000651 
[8533]  train-rmse:0.000651 
[8534]  train-rmse:0.000651 
[8535]  train-rmse:0.000651 
[8536]  train-rmse:0.000651 
[8537]  train-rmse:0.000651 
[8538]  train-rmse:0.000651 
[8539]  train-rmse:0.000651 
[8540]  train-rmse:0.000651 
[8541]  train-rmse:0.000651 
[8542]  train-rmse:0.000651 
[8543]  train-rmse:0.000651 
[8544]  train-rmse:0.000651 
[8545]  train-rmse:0.000650 
[8546]  train-rmse:0.000650 
[8547]  train-rmse:0.000650 
[8548]  train-rmse:0.000650 
[8549]  train-rmse:0.000650 
[8550]  train-rmse:0.000650 
[8551]  train-rmse:0.000650 
[8552]  train-rmse:0.000650 
[8553]  train-rmse:0.000650 
[8554]  train-rmse:0.000650 
[8555]  train-rmse:0.000650 
[8556]  train-rmse:0.000650 
[8557]  train-rmse:0.000650 
[8558]  train-rmse:0.000650 
[8559]  train-rmse:0.000650 
[8560]  train-rmse:0.000650 
[8561]  train-rmse:0.000650 
[8562]  train-rmse:0.000650 
[8563]  train-rmse:0.000650 
[8564]  train-rmse:0.000650 
[8565]  train-rmse:0.000650 
[8566]  train-rmse:0.000650 
[8567]  train-rmse:0.000650 
[8568]  train-rmse:0.000650 
[8569]  train-rmse:0.000650 
[8570]  train-rmse:0.000650 
[8571]  train-rmse:0.000650 
[8572]  train-rmse:0.000650 
[8573]  train-rmse:0.000650 
[8574]  train-rmse:0.000650 
[8575]  train-rmse:0.000650 
[8576]  train-rmse:0.000650 
[8577]  train-rmse:0.000650 
[8578]  train-rmse:0.000650 
[8579]  train-rmse:0.000650 
[8580]  train-rmse:0.000650 
[8581]  train-rmse:0.000650 
[8582]  train-rmse:0.000650 
[8583]  train-rmse:0.000650 
[8584]  train-rmse:0.000650 
[8585]  train-rmse:0.000650 
[8586]  train-rmse:0.000650 
[8587]  train-rmse:0.000650 
[8588]  train-rmse:0.000650 
[8589]  train-rmse:0.000650 
[8590]  train-rmse:0.000650 
[8591]  train-rmse:0.000649 
[8592]  train-rmse:0.000649 
[8593]  train-rmse:0.000649 
[8594]  train-rmse:0.000649 
[8595]  train-rmse:0.000649 
[8596]  train-rmse:0.000649 
[8597]  train-rmse:0.000649 
[8598]  train-rmse:0.000649 
[8599]  train-rmse:0.000649 
[8600]  train-rmse:0.000649 
[8601]  train-rmse:0.000649 
[8602]  train-rmse:0.000649 
[8603]  train-rmse:0.000649 
[8604]  train-rmse:0.000649 
[8605]  train-rmse:0.000649 
[8606]  train-rmse:0.000649 
[8607]  train-rmse:0.000649 
[8608]  train-rmse:0.000649 
[8609]  train-rmse:0.000648 
[8610]  train-rmse:0.000647 
[8611]  train-rmse:0.000647 
[8612]  train-rmse:0.000647 
[8613]  train-rmse:0.000647 
[8614]  train-rmse:0.000647 
[8615]  train-rmse:0.000647 
[8616]  train-rmse:0.000647 
[8617]  train-rmse:0.000647 
[8618]  train-rmse:0.000647 
[8619]  train-rmse:0.000646 
[8620]  train-rmse:0.000646 
[8621]  train-rmse:0.000646 
[8622]  train-rmse:0.000646 
[8623]  train-rmse:0.000646 
[8624]  train-rmse:0.000646 
[8625]  train-rmse:0.000646 
[8626]  train-rmse:0.000646 
[8627]  train-rmse:0.000646 
[8628]  train-rmse:0.000646 
[8629]  train-rmse:0.000646 
[8630]  train-rmse:0.000646 
[8631]  train-rmse:0.000646 
[8632]  train-rmse:0.000646 
[8633]  train-rmse:0.000646 
[8634]  train-rmse:0.000646 
[8635]  train-rmse:0.000646 
[8636]  train-rmse:0.000646 
[8637]  train-rmse:0.000646 
[8638]  train-rmse:0.000646 
[8639]  train-rmse:0.000646 
[8640]  train-rmse:0.000646 
[8641]  train-rmse:0.000646 
[8642]  train-rmse:0.000646 
[8643]  train-rmse:0.000646 
[8644]  train-rmse:0.000646 
[8645]  train-rmse:0.000646 
[8646]  train-rmse:0.000646 
[8647]  train-rmse:0.000646 
[8648]  train-rmse:0.000645 
[8649]  train-rmse:0.000646 
[8650]  train-rmse:0.000646 
[8651]  train-rmse:0.000646 
[8652]  train-rmse:0.000646 
[8653]  train-rmse:0.000646 
[8654]  train-rmse:0.000646 
[8655]  train-rmse:0.000646 
[8656]  train-rmse:0.000646 
[8657]  train-rmse:0.000646 
[8658]  train-rmse:0.000646 
[8659]  train-rmse:0.000646 
[8660]  train-rmse:0.000646 
[8661]  train-rmse:0.000646 
[8662]  train-rmse:0.000645 
[8663]  train-rmse:0.000645 
[8664]  train-rmse:0.000645 
[8665]  train-rmse:0.000645 
[8666]  train-rmse:0.000645 
[8667]  train-rmse:0.000645 
[8668]  train-rmse:0.000645 
[8669]  train-rmse:0.000645 
[8670]  train-rmse:0.000645 
[8671]  train-rmse:0.000645 
[8672]  train-rmse:0.000645 
[8673]  train-rmse:0.000645 
[8674]  train-rmse:0.000645 
[8675]  train-rmse:0.000645 
[8676]  train-rmse:0.000645 
[8677]  train-rmse:0.000645 
[8678]  train-rmse:0.000645 
[8679]  train-rmse:0.000645 
[8680]  train-rmse:0.000645 
[8681]  train-rmse:0.000645 
[8682]  train-rmse:0.000645 
[8683]  train-rmse:0.000645 
[8684]  train-rmse:0.000645 
[8685]  train-rmse:0.000645 
[8686]  train-rmse:0.000645 
[8687]  train-rmse:0.000644 
[8688]  train-rmse:0.000644 
[8689]  train-rmse:0.000644 
[8690]  train-rmse:0.000644 
[8691]  train-rmse:0.000644 
[8692]  train-rmse:0.000644 
[8693]  train-rmse:0.000644 
[8694]  train-rmse:0.000644 
[8695]  train-rmse:0.000645 
[8696]  train-rmse:0.000645 
[8697]  train-rmse:0.000645 
[8698]  train-rmse:0.000645 
[8699]  train-rmse:0.000645 
[8700]  train-rmse:0.000645 
[8701]  train-rmse:0.000645 
[8702]  train-rmse:0.000645 
[8703]  train-rmse:0.000645 
[8704]  train-rmse:0.000645 
[8705]  train-rmse:0.000644 
[8706]  train-rmse:0.000644 
[8707]  train-rmse:0.000644 
[8708]  train-rmse:0.000644 
[8709]  train-rmse:0.000644 
[8710]  train-rmse:0.000644 
[8711]  train-rmse:0.000644 
[8712]  train-rmse:0.000644 
[8713]  train-rmse:0.000644 
[8714]  train-rmse:0.000644 
[8715]  train-rmse:0.000644 
[8716]  train-rmse:0.000644 
[8717]  train-rmse:0.000644 
[8718]  train-rmse:0.000644 
[8719]  train-rmse:0.000643 
[8720]  train-rmse:0.000643 
[8721]  train-rmse:0.000643 
[8722]  train-rmse:0.000642 
[8723]  train-rmse:0.000642 
[8724]  train-rmse:0.000642 
[8725]  train-rmse:0.000642 
[8726]  train-rmse:0.000642 
[8727]  train-rmse:0.000642 
[8728]  train-rmse:0.000642 
[8729]  train-rmse:0.000642 
[8730]  train-rmse:0.000642 
[8731]  train-rmse:0.000642 
[8732]  train-rmse:0.000642 
[8733]  train-rmse:0.000642 
[8734]  train-rmse:0.000642 
[8735]  train-rmse:0.000642 
[8736]  train-rmse:0.000642 
[8737]  train-rmse:0.000642 
[8738]  train-rmse:0.000642 
[8739]  train-rmse:0.000642 
[8740]  train-rmse:0.000642 
[8741]  train-rmse:0.000642 
[8742]  train-rmse:0.000642 
[8743]  train-rmse:0.000642 
[8744]  train-rmse:0.000642 
[8745]  train-rmse:0.000642 
[8746]  train-rmse:0.000642 
[8747]  train-rmse:0.000642 
[8748]  train-rmse:0.000642 
[8749]  train-rmse:0.000642 
[8750]  train-rmse:0.000642 
[8751]  train-rmse:0.000642 
[8752]  train-rmse:0.000642 
[8753]  train-rmse:0.000642 
[8754]  train-rmse:0.000642 
[8755]  train-rmse:0.000641 
[8756]  train-rmse:0.000641 
[8757]  train-rmse:0.000641 
[8758]  train-rmse:0.000641 
[8759]  train-rmse:0.000641 
[8760]  train-rmse:0.000642 
[8761]  train-rmse:0.000641 
[8762]  train-rmse:0.000641 
[8763]  train-rmse:0.000641 
[8764]  train-rmse:0.000641 
[8765]  train-rmse:0.000641 
[8766]  train-rmse:0.000641 
[8767]  train-rmse:0.000641 
[8768]  train-rmse:0.000641 
[8769]  train-rmse:0.000641 
[8770]  train-rmse:0.000641 
[8771]  train-rmse:0.000641 
[8772]  train-rmse:0.000641 
[8773]  train-rmse:0.000641 
[8774]  train-rmse:0.000641 
[8775]  train-rmse:0.000641 
[8776]  train-rmse:0.000641 
[8777]  train-rmse:0.000641 
[8778]  train-rmse:0.000641 
[8779]  train-rmse:0.000641 
[8780]  train-rmse:0.000641 
[8781]  train-rmse:0.000641 
[8782]  train-rmse:0.000641 
[8783]  train-rmse:0.000641 
[8784]  train-rmse:0.000641 
[8785]  train-rmse:0.000641 
[8786]  train-rmse:0.000642 
[8787]  train-rmse:0.000642 
[8788]  train-rmse:0.000642 
[8789]  train-rmse:0.000641 
[8790]  train-rmse:0.000642 
[8791]  train-rmse:0.000642 
[8792]  train-rmse:0.000641 
[8793]  train-rmse:0.000641 
[8794]  train-rmse:0.000641 
[8795]  train-rmse:0.000641 
[8796]  train-rmse:0.000642 
[8797]  train-rmse:0.000642 
[8798]  train-rmse:0.000642 
[8799]  train-rmse:0.000642 
[8800]  train-rmse:0.000642 
[8801]  train-rmse:0.000642 
[8802]  train-rmse:0.000641 
[8803]  train-rmse:0.000641 
[8804]  train-rmse:0.000641 
[8805]  train-rmse:0.000641 
[8806]  train-rmse:0.000641 
[8807]  train-rmse:0.000641 
[8808]  train-rmse:0.000641 
[8809]  train-rmse:0.000641 
[8810]  train-rmse:0.000641 
[8811]  train-rmse:0.000640 
[8812]  train-rmse:0.000640 
[8813]  train-rmse:0.000640 
[8814]  train-rmse:0.000640 
[8815]  train-rmse:0.000640 
[8816]  train-rmse:0.000640 
[8817]  train-rmse:0.000640 
[8818]  train-rmse:0.000640 
[8819]  train-rmse:0.000640 
[8820]  train-rmse:0.000640 
[8821]  train-rmse:0.000640 
[8822]  train-rmse:0.000639 
[8823]  train-rmse:0.000639 
[8824]  train-rmse:0.000639 
[8825]  train-rmse:0.000639 
[8826]  train-rmse:0.000639 
[8827]  train-rmse:0.000639 
[8828]  train-rmse:0.000639 
[8829]  train-rmse:0.000639 
[8830]  train-rmse:0.000639 
[8831]  train-rmse:0.000639 
[8832]  train-rmse:0.000639 
[8833]  train-rmse:0.000639 
[8834]  train-rmse:0.000639 
[8835]  train-rmse:0.000639 
[8836]  train-rmse:0.000639 
[8837]  train-rmse:0.000639 
[8838]  train-rmse:0.000639 
[8839]  train-rmse:0.000639 
[8840]  train-rmse:0.000639 
[8841]  train-rmse:0.000639 
[8842]  train-rmse:0.000639 
[8843]  train-rmse:0.000639 
[8844]  train-rmse:0.000639 
[8845]  train-rmse:0.000639 
[8846]  train-rmse:0.000639 
[8847]  train-rmse:0.000639 
[8848]  train-rmse:0.000639 
[8849]  train-rmse:0.000639 
[8850]  train-rmse:0.000639 
[8851]  train-rmse:0.000639 
[8852]  train-rmse:0.000639 
[8853]  train-rmse:0.000639 
[8854]  train-rmse:0.000639 
[8855]  train-rmse:0.000639 
[8856]  train-rmse:0.000639 
[8857]  train-rmse:0.000639 
[8858]  train-rmse:0.000639 
[8859]  train-rmse:0.000639 
[8860]  train-rmse:0.000639 
[8861]  train-rmse:0.000639 
[8862]  train-rmse:0.000639 
[8863]  train-rmse:0.000639 
[8864]  train-rmse:0.000639 
[8865]  train-rmse:0.000638 
[8866]  train-rmse:0.000638 
[8867]  train-rmse:0.000638 
[8868]  train-rmse:0.000638 
[8869]  train-rmse:0.000638 
[8870]  train-rmse:0.000638 
[8871]  train-rmse:0.000638 
[8872]  train-rmse:0.000638 
[8873]  train-rmse:0.000638 
[8874]  train-rmse:0.000638 
[8875]  train-rmse:0.000638 
[8876]  train-rmse:0.000638 
[8877]  train-rmse:0.000638 
[8878]  train-rmse:0.000638 
[8879]  train-rmse:0.000638 
[8880]  train-rmse:0.000638 
[8881]  train-rmse:0.000638 
[8882]  train-rmse:0.000638 
[8883]  train-rmse:0.000638 
[8884]  train-rmse:0.000638 
[8885]  train-rmse:0.000638 
[8886]  train-rmse:0.000638 
[8887]  train-rmse:0.000638 
[8888]  train-rmse:0.000638 
[8889]  train-rmse:0.000638 
[8890]  train-rmse:0.000638 
[8891]  train-rmse:0.000638 
[8892]  train-rmse:0.000638 
[8893]  train-rmse:0.000638 
[8894]  train-rmse:0.000638 
[8895]  train-rmse:0.000638 
[8896]  train-rmse:0.000638 
[8897]  train-rmse:0.000638 
[8898]  train-rmse:0.000638 
[8899]  train-rmse:0.000638 
[8900]  train-rmse:0.000638 
[8901]  train-rmse:0.000637 
[8902]  train-rmse:0.000637 
[8903]  train-rmse:0.000637 
[8904]  train-rmse:0.000637 
[8905]  train-rmse:0.000637 
[8906]  train-rmse:0.000637 
[8907]  train-rmse:0.000637 
[8908]  train-rmse:0.000637 
[8909]  train-rmse:0.000637 
[8910]  train-rmse:0.000637 
[8911]  train-rmse:0.000637 
[8912]  train-rmse:0.000637 
[8913]  train-rmse:0.000637 
[8914]  train-rmse:0.000637 
[8915]  train-rmse:0.000637 
[8916]  train-rmse:0.000637 
[8917]  train-rmse:0.000636 
[8918]  train-rmse:0.000636 
[8919]  train-rmse:0.000636 
[8920]  train-rmse:0.000635 
[8921]  train-rmse:0.000635 
[8922]  train-rmse:0.000635 
[8923]  train-rmse:0.000635 
[8924]  train-rmse:0.000635 
[8925]  train-rmse:0.000635 
[8926]  train-rmse:0.000635 
[8927]  train-rmse:0.000635 
[8928]  train-rmse:0.000635 
[8929]  train-rmse:0.000635 
[8930]  train-rmse:0.000635 
[8931]  train-rmse:0.000635 
[8932]  train-rmse:0.000635 
[8933]  train-rmse:0.000635 
[8934]  train-rmse:0.000635 
[8935]  train-rmse:0.000635 
[8936]  train-rmse:0.000635 
[8937]  train-rmse:0.000634 
[8938]  train-rmse:0.000634 
[8939]  train-rmse:0.000634 
[8940]  train-rmse:0.000634 
[8941]  train-rmse:0.000634 
[8942]  train-rmse:0.000634 
[8943]  train-rmse:0.000634 
[8944]  train-rmse:0.000634 
[8945]  train-rmse:0.000634 
[8946]  train-rmse:0.000634 
[8947]  train-rmse:0.000634 
[8948]  train-rmse:0.000634 
[8949]  train-rmse:0.000634 
[8950]  train-rmse:0.000634 
[8951]  train-rmse:0.000634 
[8952]  train-rmse:0.000634 
[8953]  train-rmse:0.000634 
[8954]  train-rmse:0.000634 
[8955]  train-rmse:0.000634 
[8956]  train-rmse:0.000634 
[8957]  train-rmse:0.000634 
[8958]  train-rmse:0.000634 
[8959]  train-rmse:0.000634 
[8960]  train-rmse:0.000634 
[8961]  train-rmse:0.000634 
[8962]  train-rmse:0.000634 
[8963]  train-rmse:0.000634 
[8964]  train-rmse:0.000634 
[8965]  train-rmse:0.000634 
[8966]  train-rmse:0.000633 
[8967]  train-rmse:0.000633 
[8968]  train-rmse:0.000633 
[8969]  train-rmse:0.000633 
[8970]  train-rmse:0.000633 
[8971]  train-rmse:0.000633 
[8972]  train-rmse:0.000633 
[8973]  train-rmse:0.000633 
[8974]  train-rmse:0.000633 
[8975]  train-rmse:0.000633 
[8976]  train-rmse:0.000633 
[8977]  train-rmse:0.000633 
[8978]  train-rmse:0.000633 
[8979]  train-rmse:0.000632 
[8980]  train-rmse:0.000632 
[8981]  train-rmse:0.000632 
[8982]  train-rmse:0.000632 
[8983]  train-rmse:0.000632 
[8984]  train-rmse:0.000632 
[8985]  train-rmse:0.000632 
[8986]  train-rmse:0.000632 
[8987]  train-rmse:0.000632 
[8988]  train-rmse:0.000632 
[8989]  train-rmse:0.000632 
[8990]  train-rmse:0.000632 
[8991]  train-rmse:0.000632 
[8992]  train-rmse:0.000632 
[8993]  train-rmse:0.000632 
[8994]  train-rmse:0.000632 
[8995]  train-rmse:0.000632 
[8996]  train-rmse:0.000632 
[8997]  train-rmse:0.000632 
[8998]  train-rmse:0.000632 
[8999]  train-rmse:0.000632 
[9000]  train-rmse:0.000632 
[9001]  train-rmse:0.000632 
[9002]  train-rmse:0.000632 
[9003]  train-rmse:0.000632 
[9004]  train-rmse:0.000632 
[9005]  train-rmse:0.000632 
[9006]  train-rmse:0.000632 
[9007]  train-rmse:0.000632 
[9008]  train-rmse:0.000632 
[9009]  train-rmse:0.000632 
[9010]  train-rmse:0.000632 
[9011]  train-rmse:0.000632 
[9012]  train-rmse:0.000632 
[9013]  train-rmse:0.000632 
[9014]  train-rmse:0.000632 
[9015]  train-rmse:0.000632 
[9016]  train-rmse:0.000631 
[9017]  train-rmse:0.000631 
[9018]  train-rmse:0.000631 
[9019]  train-rmse:0.000631 
[9020]  train-rmse:0.000631 
[9021]  train-rmse:0.000631 
[9022]  train-rmse:0.000631 
[9023]  train-rmse:0.000631 
[9024]  train-rmse:0.000631 
[9025]  train-rmse:0.000631 
[9026]  train-rmse:0.000631 
[9027]  train-rmse:0.000631 
[9028]  train-rmse:0.000631 
[9029]  train-rmse:0.000631 
[9030]  train-rmse:0.000631 
[9031]  train-rmse:0.000631 
[9032]  train-rmse:0.000631 
[9033]  train-rmse:0.000631 
[9034]  train-rmse:0.000631 
[9035]  train-rmse:0.000631 
[9036]  train-rmse:0.000631 
[9037]  train-rmse:0.000631 
[9038]  train-rmse:0.000631 
[9039]  train-rmse:0.000631 
[9040]  train-rmse:0.000631 
[9041]  train-rmse:0.000631 
[9042]  train-rmse:0.000631 
[9043]  train-rmse:0.000631 
[9044]  train-rmse:0.000631 
[9045]  train-rmse:0.000631 
[9046]  train-rmse:0.000630 
[9047]  train-rmse:0.000630 
[9048]  train-rmse:0.000630 
[9049]  train-rmse:0.000630 
[9050]  train-rmse:0.000630 
[9051]  train-rmse:0.000630 
[9052]  train-rmse:0.000630 
[9053]  train-rmse:0.000630 
[9054]  train-rmse:0.000630 
[9055]  train-rmse:0.000630 
[9056]  train-rmse:0.000630 
[9057]  train-rmse:0.000629 
[9058]  train-rmse:0.000629 
[9059]  train-rmse:0.000629 
[9060]  train-rmse:0.000629 
[9061]  train-rmse:0.000629 
[9062]  train-rmse:0.000629 
[9063]  train-rmse:0.000629 
[9064]  train-rmse:0.000629 
[9065]  train-rmse:0.000629 
[9066]  train-rmse:0.000629 
[9067]  train-rmse:0.000630 
[9068]  train-rmse:0.000629 
[9069]  train-rmse:0.000629 
[9070]  train-rmse:0.000629 
[9071]  train-rmse:0.000629 
[9072]  train-rmse:0.000629 
[9073]  train-rmse:0.000629 
[9074]  train-rmse:0.000629 
[9075]  train-rmse:0.000629 
[9076]  train-rmse:0.000629 
[9077]  train-rmse:0.000629 
[9078]  train-rmse:0.000629 
[9079]  train-rmse:0.000629 
[9080]  train-rmse:0.000629 
[9081]  train-rmse:0.000629 
[9082]  train-rmse:0.000629 
[9083]  train-rmse:0.000629 
[9084]  train-rmse:0.000629 
[9085]  train-rmse:0.000629 
[9086]  train-rmse:0.000628 
[9087]  train-rmse:0.000628 
[9088]  train-rmse:0.000628 
[9089]  train-rmse:0.000628 
[9090]  train-rmse:0.000629 
[9091]  train-rmse:0.000629 
[9092]  train-rmse:0.000628 
[9093]  train-rmse:0.000628 
[9094]  train-rmse:0.000628 
[9095]  train-rmse:0.000628 
[9096]  train-rmse:0.000628 
[9097]  train-rmse:0.000628 
[9098]  train-rmse:0.000628 
[9099]  train-rmse:0.000628 
[9100]  train-rmse:0.000628 
[9101]  train-rmse:0.000628 
[9102]  train-rmse:0.000628 
[9103]  train-rmse:0.000628 
[9104]  train-rmse:0.000628 
[9105]  train-rmse:0.000628 
[9106]  train-rmse:0.000628 
[9107]  train-rmse:0.000628 
[9108]  train-rmse:0.000628 
[9109]  train-rmse:0.000628 
[9110]  train-rmse:0.000628 
[9111]  train-rmse:0.000628 
[9112]  train-rmse:0.000628 
[9113]  train-rmse:0.000628 
[9114]  train-rmse:0.000628 
[9115]  train-rmse:0.000628 
[9116]  train-rmse:0.000628 
[9117]  train-rmse:0.000628 
[9118]  train-rmse:0.000628 
[9119]  train-rmse:0.000628 
[9120]  train-rmse:0.000628 
[9121]  train-rmse:0.000628 
[9122]  train-rmse:0.000628 
[9123]  train-rmse:0.000628 
[9124]  train-rmse:0.000628 
[9125]  train-rmse:0.000628 
[9126]  train-rmse:0.000628 
[9127]  train-rmse:0.000628 
[9128]  train-rmse:0.000628 
[9129]  train-rmse:0.000628 
[9130]  train-rmse:0.000628 
[9131]  train-rmse:0.000628 
[9132]  train-rmse:0.000628 
[9133]  train-rmse:0.000628 
[9134]  train-rmse:0.000628 
[9135]  train-rmse:0.000628 
[9136]  train-rmse:0.000628 
[9137]  train-rmse:0.000628 
[9138]  train-rmse:0.000628 
[9139]  train-rmse:0.000628 
[9140]  train-rmse:0.000628 
[9141]  train-rmse:0.000628 
[9142]  train-rmse:0.000628 
[9143]  train-rmse:0.000628 
[9144]  train-rmse:0.000628 
[9145]  train-rmse:0.000628 
[9146]  train-rmse:0.000628 
[9147]  train-rmse:0.000628 
[9148]  train-rmse:0.000628 
[9149]  train-rmse:0.000628 
[9150]  train-rmse:0.000628 
[9151]  train-rmse:0.000628 
[9152]  train-rmse:0.000627 
[9153]  train-rmse:0.000627 
[9154]  train-rmse:0.000627 
[9155]  train-rmse:0.000627 
[9156]  train-rmse:0.000627 
[9157]  train-rmse:0.000626 
[9158]  train-rmse:0.000626 
[9159]  train-rmse:0.000626 
[9160]  train-rmse:0.000626 
[9161]  train-rmse:0.000626 
[9162]  train-rmse:0.000626 
[9163]  train-rmse:0.000626 
[9164]  train-rmse:0.000626 
[9165]  train-rmse:0.000626 
[9166]  train-rmse:0.000626 
[9167]  train-rmse:0.000626 
[9168]  train-rmse:0.000626 
[9169]  train-rmse:0.000626 
[9170]  train-rmse:0.000626 
[9171]  train-rmse:0.000626 
[9172]  train-rmse:0.000626 
[9173]  train-rmse:0.000626 
[9174]  train-rmse:0.000626 
[9175]  train-rmse:0.000626 
[9176]  train-rmse:0.000626 
[9177]  train-rmse:0.000626 
[9178]  train-rmse:0.000626 
[9179]  train-rmse:0.000626 
[9180]  train-rmse:0.000626 
[9181]  train-rmse:0.000626 
[9182]  train-rmse:0.000626 
[9183]  train-rmse:0.000626 
[9184]  train-rmse:0.000626 
[9185]  train-rmse:0.000626 
[9186]  train-rmse:0.000626 
[9187]  train-rmse:0.000626 
[9188]  train-rmse:0.000626 
[9189]  train-rmse:0.000626 
[9190]  train-rmse:0.000626 
[9191]  train-rmse:0.000626 
[9192]  train-rmse:0.000626 
[9193]  train-rmse:0.000626 
[9194]  train-rmse:0.000626 
[9195]  train-rmse:0.000626 
[9196]  train-rmse:0.000626 
[9197]  train-rmse:0.000626 
[9198]  train-rmse:0.000626 
[9199]  train-rmse:0.000626 
[9200]  train-rmse:0.000626 
[9201]  train-rmse:0.000626 
[9202]  train-rmse:0.000626 
[9203]  train-rmse:0.000626 
[9204]  train-rmse:0.000626 
[9205]  train-rmse:0.000626 
[9206]  train-rmse:0.000626 
[9207]  train-rmse:0.000626 
[9208]  train-rmse:0.000626 
[9209]  train-rmse:0.000626 
[9210]  train-rmse:0.000626 
[9211]  train-rmse:0.000626 
[9212]  train-rmse:0.000626 
[9213]  train-rmse:0.000626 
[9214]  train-rmse:0.000626 
[9215]  train-rmse:0.000626 
[9216]  train-rmse:0.000626 
[9217]  train-rmse:0.000626 
[9218]  train-rmse:0.000626 
[9219]  train-rmse:0.000626 
[9220]  train-rmse:0.000625 
[9221]  train-rmse:0.000625 
[9222]  train-rmse:0.000625 
[9223]  train-rmse:0.000625 
[9224]  train-rmse:0.000625 
[9225]  train-rmse:0.000625 
[9226]  train-rmse:0.000625 
[9227]  train-rmse:0.000625 
[9228]  train-rmse:0.000625 
[9229]  train-rmse:0.000625 
[9230]  train-rmse:0.000625 
[9231]  train-rmse:0.000625 
[9232]  train-rmse:0.000625 
[9233]  train-rmse:0.000625 
[9234]  train-rmse:0.000625 
[9235]  train-rmse:0.000625 
[9236]  train-rmse:0.000625 
[9237]  train-rmse:0.000625 
[9238]  train-rmse:0.000625 
[9239]  train-rmse:0.000625 
[9240]  train-rmse:0.000625 
[9241]  train-rmse:0.000625 
[9242]  train-rmse:0.000625 
[9243]  train-rmse:0.000625 
[9244]  train-rmse:0.000625 
[9245]  train-rmse:0.000625 
[9246]  train-rmse:0.000625 
[9247]  train-rmse:0.000625 
[9248]  train-rmse:0.000625 
[9249]  train-rmse:0.000625 
[9250]  train-rmse:0.000625 
[9251]  train-rmse:0.000625 
[9252]  train-rmse:0.000625 
[9253]  train-rmse:0.000625 
[9254]  train-rmse:0.000625 
[9255]  train-rmse:0.000625 
[9256]  train-rmse:0.000625 
[9257]  train-rmse:0.000625 
[9258]  train-rmse:0.000625 
[9259]  train-rmse:0.000624 
[9260]  train-rmse:0.000624 
[9261]  train-rmse:0.000624 
[9262]  train-rmse:0.000624 
[9263]  train-rmse:0.000624 
[9264]  train-rmse:0.000624 
[9265]  train-rmse:0.000624 
[9266]  train-rmse:0.000624 
[9267]  train-rmse:0.000624 
[9268]  train-rmse:0.000624 
[9269]  train-rmse:0.000624 
[9270]  train-rmse:0.000624 
[9271]  train-rmse:0.000624 
[9272]  train-rmse:0.000624 
[9273]  train-rmse:0.000624 
[9274]  train-rmse:0.000624 
[9275]  train-rmse:0.000624 
[9276]  train-rmse:0.000624 
[9277]  train-rmse:0.000624 
[9278]  train-rmse:0.000624 
[9279]  train-rmse:0.000624 
[9280]  train-rmse:0.000624 
[9281]  train-rmse:0.000624 
[9282]  train-rmse:0.000624 
[9283]  train-rmse:0.000624 
[9284]  train-rmse:0.000624 
[9285]  train-rmse:0.000624 
[9286]  train-rmse:0.000624 
[9287]  train-rmse:0.000624 
[9288]  train-rmse:0.000624 
[9289]  train-rmse:0.000624 
[9290]  train-rmse:0.000624 
[9291]  train-rmse:0.000624 
[9292]  train-rmse:0.000624 
[9293]  train-rmse:0.000624 
[9294]  train-rmse:0.000624 
[9295]  train-rmse:0.000624 
[9296]  train-rmse:0.000624 
[9297]  train-rmse:0.000624 
[9298]  train-rmse:0.000624 
[9299]  train-rmse:0.000624 
[9300]  train-rmse:0.000623 
[9301]  train-rmse:0.000623 
[9302]  train-rmse:0.000623 
[9303]  train-rmse:0.000623 
[9304]  train-rmse:0.000623 
[9305]  train-rmse:0.000623 
[9306]  train-rmse:0.000623 
[9307]  train-rmse:0.000623 
[9308]  train-rmse:0.000623 
[9309]  train-rmse:0.000623 
[9310]  train-rmse:0.000623 
[9311]  train-rmse:0.000623 
[9312]  train-rmse:0.000623 
[9313]  train-rmse:0.000623 
[9314]  train-rmse:0.000623 
[9315]  train-rmse:0.000623 
[9316]  train-rmse:0.000623 
[9317]  train-rmse:0.000623 
[9318]  train-rmse:0.000623 
[9319]  train-rmse:0.000623 
[9320]  train-rmse:0.000623 
[9321]  train-rmse:0.000623 
[9322]  train-rmse:0.000623 
[9323]  train-rmse:0.000623 
[9324]  train-rmse:0.000622 
[9325]  train-rmse:0.000622 
[9326]  train-rmse:0.000622 
[9327]  train-rmse:0.000622 
[9328]  train-rmse:0.000622 
[9329]  train-rmse:0.000622 
[9330]  train-rmse:0.000622 
[9331]  train-rmse:0.000622 
[9332]  train-rmse:0.000622 
[9333]  train-rmse:0.000621 
[9334]  train-rmse:0.000621 
[9335]  train-rmse:0.000621 
[9336]  train-rmse:0.000621 
[9337]  train-rmse:0.000621 
[9338]  train-rmse:0.000621 
[9339]  train-rmse:0.000621 
[9340]  train-rmse:0.000621 
[9341]  train-rmse:0.000621 
[9342]  train-rmse:0.000621 
[9343]  train-rmse:0.000621 
[9344]  train-rmse:0.000621 
[9345]  train-rmse:0.000621 
[9346]  train-rmse:0.000621 
[9347]  train-rmse:0.000621 
[9348]  train-rmse:0.000621 
[9349]  train-rmse:0.000622 
[9350]  train-rmse:0.000621 
[9351]  train-rmse:0.000622 
[9352]  train-rmse:0.000621 
[9353]  train-rmse:0.000622 
[9354]  train-rmse:0.000621 
[9355]  train-rmse:0.000621 
[9356]  train-rmse:0.000621 
[9357]  train-rmse:0.000621 
[9358]  train-rmse:0.000621 
[9359]  train-rmse:0.000621 
[9360]  train-rmse:0.000621 
[9361]  train-rmse:0.000621 
[9362]  train-rmse:0.000621 
[9363]  train-rmse:0.000621 
[9364]  train-rmse:0.000621 
[9365]  train-rmse:0.000621 
[9366]  train-rmse:0.000621 
[9367]  train-rmse:0.000621 
[9368]  train-rmse:0.000621 
[9369]  train-rmse:0.000621 
[9370]  train-rmse:0.000621 
[9371]  train-rmse:0.000621 
[9372]  train-rmse:0.000621 
[9373]  train-rmse:0.000621 
[9374]  train-rmse:0.000621 
[9375]  train-rmse:0.000621 
[9376]  train-rmse:0.000621 
[9377]  train-rmse:0.000621 
[9378]  train-rmse:0.000621 
[9379]  train-rmse:0.000621 
[9380]  train-rmse:0.000621 
[9381]  train-rmse:0.000621 
[9382]  train-rmse:0.000621 
[9383]  train-rmse:0.000621 
[9384]  train-rmse:0.000621 
[9385]  train-rmse:0.000621 
[9386]  train-rmse:0.000621 
[9387]  train-rmse:0.000621 
[9388]  train-rmse:0.000621 
[9389]  train-rmse:0.000621 
[9390]  train-rmse:0.000621 
[9391]  train-rmse:0.000621 
[9392]  train-rmse:0.000621 
[9393]  train-rmse:0.000621 
[9394]  train-rmse:0.000621 
[9395]  train-rmse:0.000621 
[9396]  train-rmse:0.000621 
[9397]  train-rmse:0.000620 
[9398]  train-rmse:0.000620 
[9399]  train-rmse:0.000620 
[9400]  train-rmse:0.000620 
[9401]  train-rmse:0.000620 
[9402]  train-rmse:0.000620 
[9403]  train-rmse:0.000620 
[9404]  train-rmse:0.000620 
[9405]  train-rmse:0.000620 
[9406]  train-rmse:0.000620 
[9407]  train-rmse:0.000620 
[9408]  train-rmse:0.000620 
[9409]  train-rmse:0.000620 
[9410]  train-rmse:0.000620 
[9411]  train-rmse:0.000620 
[9412]  train-rmse:0.000620 
[9413]  train-rmse:0.000620 
[9414]  train-rmse:0.000620 
[9415]  train-rmse:0.000620 
[9416]  train-rmse:0.000620 
[9417]  train-rmse:0.000620 
[9418]  train-rmse:0.000620 
[9419]  train-rmse:0.000620 
[9420]  train-rmse:0.000620 
[9421]  train-rmse:0.000619 
[9422]  train-rmse:0.000619 
[9423]  train-rmse:0.000619 
[9424]  train-rmse:0.000619 
[9425]  train-rmse:0.000619 
[9426]  train-rmse:0.000619 
[9427]  train-rmse:0.000619 
[9428]  train-rmse:0.000619 
[9429]  train-rmse:0.000619 
[9430]  train-rmse:0.000619 
[9431]  train-rmse:0.000619 
[9432]  train-rmse:0.000619 
[9433]  train-rmse:0.000619 
[9434]  train-rmse:0.000619 
[9435]  train-rmse:0.000619 
[9436]  train-rmse:0.000619 
[9437]  train-rmse:0.000619 
[9438]  train-rmse:0.000619 
[9439]  train-rmse:0.000619 
[9440]  train-rmse:0.000619 
[9441]  train-rmse:0.000619 
[9442]  train-rmse:0.000619 
[9443]  train-rmse:0.000619 
[9444]  train-rmse:0.000619 
[9445]  train-rmse:0.000619 
[9446]  train-rmse:0.000619 
[9447]  train-rmse:0.000619 
[9448]  train-rmse:0.000619 
[9449]  train-rmse:0.000619 
[9450]  train-rmse:0.000619 
[9451]  train-rmse:0.000619 
[9452]  train-rmse:0.000619 
[9453]  train-rmse:0.000619 
[9454]  train-rmse:0.000619 
[9455]  train-rmse:0.000619 
[9456]  train-rmse:0.000619 
[9457]  train-rmse:0.000619 
[9458]  train-rmse:0.000619 
[9459]  train-rmse:0.000619 
[9460]  train-rmse:0.000619 
[9461]  train-rmse:0.000619 
[9462]  train-rmse:0.000619 
[9463]  train-rmse:0.000619 
[9464]  train-rmse:0.000619 
[9465]  train-rmse:0.000619 
[9466]  train-rmse:0.000619 
[9467]  train-rmse:0.000619 
[9468]  train-rmse:0.000619 
[9469]  train-rmse:0.000619 
[9470]  train-rmse:0.000619 
[9471]  train-rmse:0.000619 
[9472]  train-rmse:0.000619 
[9473]  train-rmse:0.000619 
[9474]  train-rmse:0.000619 
[9475]  train-rmse:0.000619 
[9476]  train-rmse:0.000619 
[9477]  train-rmse:0.000619 
[9478]  train-rmse:0.000619 
[9479]  train-rmse:0.000619 
[9480]  train-rmse:0.000619 
[9481]  train-rmse:0.000619 
[9482]  train-rmse:0.000619 
[9483]  train-rmse:0.000619 
[9484]  train-rmse:0.000619 
[9485]  train-rmse:0.000619 
[9486]  train-rmse:0.000619 
[9487]  train-rmse:0.000619 
[9488]  train-rmse:0.000619 
[9489]  train-rmse:0.000619 
[9490]  train-rmse:0.000619 
[9491]  train-rmse:0.000619 
[9492]  train-rmse:0.000619 
[9493]  train-rmse:0.000619 
[9494]  train-rmse:0.000619 
[9495]  train-rmse:0.000619 
[9496]  train-rmse:0.000619 
[9497]  train-rmse:0.000619 
[9498]  train-rmse:0.000619 
[9499]  train-rmse:0.000619 
[9500]  train-rmse:0.000619 
[9501]  train-rmse:0.000619 
[9502]  train-rmse:0.000619 
[9503]  train-rmse:0.000619 
[9504]  train-rmse:0.000619 
[9505]  train-rmse:0.000619 
[9506]  train-rmse:0.000619 
[9507]  train-rmse:0.000619 
[9508]  train-rmse:0.000619 
[9509]  train-rmse:0.000619 
[9510]  train-rmse:0.000619 
[9511]  train-rmse:0.000619 
[9512]  train-rmse:0.000619 
[9513]  train-rmse:0.000619 
[9514]  train-rmse:0.000619 
[9515]  train-rmse:0.000618 
[9516]  train-rmse:0.000618 
[9517]  train-rmse:0.000618 
[9518]  train-rmse:0.000618 
[9519]  train-rmse:0.000618 
[9520]  train-rmse:0.000618 
[9521]  train-rmse:0.000618 
[9522]  train-rmse:0.000618 
[9523]  train-rmse:0.000618 
[9524]  train-rmse:0.000618 
[9525]  train-rmse:0.000618 
[9526]  train-rmse:0.000618 
[9527]  train-rmse:0.000618 
[9528]  train-rmse:0.000618 
[9529]  train-rmse:0.000618 
[9530]  train-rmse:0.000618 
[9531]  train-rmse:0.000618 
[9532]  train-rmse:0.000618 
[9533]  train-rmse:0.000618 
[9534]  train-rmse:0.000618 
[9535]  train-rmse:0.000618 
[9536]  train-rmse:0.000618 
[9537]  train-rmse:0.000618 
[9538]  train-rmse:0.000618 
[9539]  train-rmse:0.000618 
[9540]  train-rmse:0.000618 
[9541]  train-rmse:0.000618 
[9542]  train-rmse:0.000618 
[9543]  train-rmse:0.000618 
[9544]  train-rmse:0.000618 
[9545]  train-rmse:0.000618 
[9546]  train-rmse:0.000618 
[9547]  train-rmse:0.000618 
[9548]  train-rmse:0.000618 
[9549]  train-rmse:0.000617 
[9550]  train-rmse:0.000617 
[9551]  train-rmse:0.000617 
[9552]  train-rmse:0.000617 
[9553]  train-rmse:0.000617 
[9554]  train-rmse:0.000617 
[9555]  train-rmse:0.000617 
[9556]  train-rmse:0.000617 
[9557]  train-rmse:0.000617 
[9558]  train-rmse:0.000617 
[9559]  train-rmse:0.000617 
[9560]  train-rmse:0.000617 
[9561]  train-rmse:0.000617 
[9562]  train-rmse:0.000617 
[9563]  train-rmse:0.000617 
[9564]  train-rmse:0.000617 
[9565]  train-rmse:0.000617 
[9566]  train-rmse:0.000617 
[9567]  train-rmse:0.000617 
[9568]  train-rmse:0.000617 
[9569]  train-rmse:0.000617 
[9570]  train-rmse:0.000617 
[9571]  train-rmse:0.000617 
[9572]  train-rmse:0.000617 
[9573]  train-rmse:0.000617 
[9574]  train-rmse:0.000617 
[9575]  train-rmse:0.000617 
[9576]  train-rmse:0.000617 
[9577]  train-rmse:0.000617 
[9578]  train-rmse:0.000617 
[9579]  train-rmse:0.000617 
[9580]  train-rmse:0.000617 
[9581]  train-rmse:0.000617 
[9582]  train-rmse:0.000617 
[9583]  train-rmse:0.000617 
[9584]  train-rmse:0.000617 
[9585]  train-rmse:0.000617 
[9586]  train-rmse:0.000617 
[9587]  train-rmse:0.000617 
[9588]  train-rmse:0.000617 
[9589]  train-rmse:0.000617 
[9590]  train-rmse:0.000617 
[9591]  train-rmse:0.000617 
[9592]  train-rmse:0.000617 
[9593]  train-rmse:0.000617 
[9594]  train-rmse:0.000617 
[9595]  train-rmse:0.000616 
[9596]  train-rmse:0.000616 
[9597]  train-rmse:0.000616 
[9598]  train-rmse:0.000616 
[9599]  train-rmse:0.000616 
[9600]  train-rmse:0.000616 
[9601]  train-rmse:0.000616 
[9602]  train-rmse:0.000616 
[9603]  train-rmse:0.000616 
[9604]  train-rmse:0.000616 
[9605]  train-rmse:0.000616 
[9606]  train-rmse:0.000616 
[9607]  train-rmse:0.000616 
[9608]  train-rmse:0.000616 
[9609]  train-rmse:0.000616 
[9610]  train-rmse:0.000616 
[9611]  train-rmse:0.000616 
[9612]  train-rmse:0.000616 
[9613]  train-rmse:0.000616 
[9614]  train-rmse:0.000616 
[9615]  train-rmse:0.000616 
[9616]  train-rmse:0.000616 
[9617]  train-rmse:0.000616 
[9618]  train-rmse:0.000615 
[9619]  train-rmse:0.000615 
[9620]  train-rmse:0.000615 
[9621]  train-rmse:0.000615 
[9622]  train-rmse:0.000615 
[9623]  train-rmse:0.000615 
[9624]  train-rmse:0.000615 
[9625]  train-rmse:0.000615 
[9626]  train-rmse:0.000615 
[9627]  train-rmse:0.000615 
[9628]  train-rmse:0.000615 
[9629]  train-rmse:0.000615 
[9630]  train-rmse:0.000615 
[9631]  train-rmse:0.000615 
[9632]  train-rmse:0.000615 
[9633]  train-rmse:0.000615 
[9634]  train-rmse:0.000614 
[9635]  train-rmse:0.000614 
[9636]  train-rmse:0.000614 
[9637]  train-rmse:0.000614 
[9638]  train-rmse:0.000614 
[9639]  train-rmse:0.000614 
[9640]  train-rmse:0.000614 
[9641]  train-rmse:0.000614 
[9642]  train-rmse:0.000614 
[9643]  train-rmse:0.000614 
[9644]  train-rmse:0.000614 
[9645]  train-rmse:0.000614 
[9646]  train-rmse:0.000614 
[9647]  train-rmse:0.000614 
[9648]  train-rmse:0.000614 
[9649]  train-rmse:0.000614 
[9650]  train-rmse:0.000614 
[9651]  train-rmse:0.000614 
[9652]  train-rmse:0.000614 
[9653]  train-rmse:0.000614 
[9654]  train-rmse:0.000614 
[9655]  train-rmse:0.000614 
[9656]  train-rmse:0.000614 
[9657]  train-rmse:0.000614 
[9658]  train-rmse:0.000614 
[9659]  train-rmse:0.000614 
[9660]  train-rmse:0.000614 
[9661]  train-rmse:0.000614 
[9662]  train-rmse:0.000614 
[9663]  train-rmse:0.000614 
[9664]  train-rmse:0.000614 
[9665]  train-rmse:0.000614 
[9666]  train-rmse:0.000614 
[9667]  train-rmse:0.000614 
[9668]  train-rmse:0.000614 
[9669]  train-rmse:0.000614 
[9670]  train-rmse:0.000614 
[9671]  train-rmse:0.000614 
[9672]  train-rmse:0.000614 
[9673]  train-rmse:0.000614 
[9674]  train-rmse:0.000614 
[9675]  train-rmse:0.000614 
[9676]  train-rmse:0.000614 
[9677]  train-rmse:0.000614 
[9678]  train-rmse:0.000614 
[9679]  train-rmse:0.000614 
[9680]  train-rmse:0.000614 
[9681]  train-rmse:0.000614 
[9682]  train-rmse:0.000614 
[9683]  train-rmse:0.000614 
[9684]  train-rmse:0.000614 
[9685]  train-rmse:0.000614 
[9686]  train-rmse:0.000614 
[9687]  train-rmse:0.000614 
[9688]  train-rmse:0.000614 
[9689]  train-rmse:0.000614 
[9690]  train-rmse:0.000614 
[9691]  train-rmse:0.000614 
[9692]  train-rmse:0.000614 
[9693]  train-rmse:0.000614 
[9694]  train-rmse:0.000614 
[9695]  train-rmse:0.000614 
[9696]  train-rmse:0.000614 
[9697]  train-rmse:0.000614 
[9698]  train-rmse:0.000614 
[9699]  train-rmse:0.000614 
[9700]  train-rmse:0.000614 
[9701]  train-rmse:0.000614 
[9702]  train-rmse:0.000614 
[9703]  train-rmse:0.000614 
[9704]  train-rmse:0.000614 
[9705]  train-rmse:0.000614 
[9706]  train-rmse:0.000614 
[9707]  train-rmse:0.000614 
[9708]  train-rmse:0.000614 
[9709]  train-rmse:0.000614 
[9710]  train-rmse:0.000614 
[9711]  train-rmse:0.000614 
[9712]  train-rmse:0.000614 
[9713]  train-rmse:0.000614 
[9714]  train-rmse:0.000614 
[9715]  train-rmse:0.000614 
[9716]  train-rmse:0.000614 
[9717]  train-rmse:0.000614 
[9718]  train-rmse:0.000614 
[9719]  train-rmse:0.000614 
[9720]  train-rmse:0.000614 
[9721]  train-rmse:0.000614 
[9722]  train-rmse:0.000614 
[9723]  train-rmse:0.000614 
[9724]  train-rmse:0.000614 
[9725]  train-rmse:0.000614 
[9726]  train-rmse:0.000614 
[9727]  train-rmse:0.000614 
[9728]  train-rmse:0.000614 
[9729]  train-rmse:0.000614 
[9730]  train-rmse:0.000614 
[9731]  train-rmse:0.000614 
[9732]  train-rmse:0.000614 
[9733]  train-rmse:0.000614 
[9734]  train-rmse:0.000614 
[9735]  train-rmse:0.000614 
[9736]  train-rmse:0.000614 
[9737]  train-rmse:0.000614 
[9738]  train-rmse:0.000614 
[9739]  train-rmse:0.000614 
[9740]  train-rmse:0.000614 
[9741]  train-rmse:0.000614 
[9742]  train-rmse:0.000614 
[9743]  train-rmse:0.000614 
[9744]  train-rmse:0.000614 
[9745]  train-rmse:0.000614 
[9746]  train-rmse:0.000614 
[9747]  train-rmse:0.000613 
[9748]  train-rmse:0.000613 
[9749]  train-rmse:0.000613 
[9750]  train-rmse:0.000613 
[9751]  train-rmse:0.000613 
[9752]  train-rmse:0.000613 
[9753]  train-rmse:0.000613 
[9754]  train-rmse:0.000613 
[9755]  train-rmse:0.000613 
[9756]  train-rmse:0.000613 
[9757]  train-rmse:0.000613 
[9758]  train-rmse:0.000613 
[9759]  train-rmse:0.000613 
[9760]  train-rmse:0.000613 
[9761]  train-rmse:0.000613 
[9762]  train-rmse:0.000613 
[9763]  train-rmse:0.000613 
[9764]  train-rmse:0.000613 
[9765]  train-rmse:0.000613 
[9766]  train-rmse:0.000613 
[9767]  train-rmse:0.000613 
[9768]  train-rmse:0.000613 
[9769]  train-rmse:0.000613 
[9770]  train-rmse:0.000613 
[9771]  train-rmse:0.000613 
[9772]  train-rmse:0.000613 
[9773]  train-rmse:0.000613 
[9774]  train-rmse:0.000613 
[9775]  train-rmse:0.000613 
[9776]  train-rmse:0.000613 
[9777]  train-rmse:0.000613 
[9778]  train-rmse:0.000613 
[9779]  train-rmse:0.000613 
[9780]  train-rmse:0.000613 
[9781]  train-rmse:0.000613 
[9782]  train-rmse:0.000613 
[9783]  train-rmse:0.000613 
[9784]  train-rmse:0.000613 
[9785]  train-rmse:0.000613 
[9786]  train-rmse:0.000613 
[9787]  train-rmse:0.000613 
[9788]  train-rmse:0.000613 
[9789]  train-rmse:0.000613 
[9790]  train-rmse:0.000613 
[9791]  train-rmse:0.000613 
[9792]  train-rmse:0.000613 
[9793]  train-rmse:0.000613 
[9794]  train-rmse:0.000613 
[9795]  train-rmse:0.000613 
[9796]  train-rmse:0.000613 
[9797]  train-rmse:0.000613 
[9798]  train-rmse:0.000613 
[9799]  train-rmse:0.000613 
[9800]  train-rmse:0.000613 
[9801]  train-rmse:0.000613 
[9802]  train-rmse:0.000613 
[9803]  train-rmse:0.000613 
[9804]  train-rmse:0.000613 
[9805]  train-rmse:0.000613 
[9806]  train-rmse:0.000613 
[9807]  train-rmse:0.000613 
[9808]  train-rmse:0.000613 
[9809]  train-rmse:0.000613 
[9810]  train-rmse:0.000613 
[9811]  train-rmse:0.000612 
[9812]  train-rmse:0.000612 
[9813]  train-rmse:0.000612 
[9814]  train-rmse:0.000612 
[9815]  train-rmse:0.000612 
[9816]  train-rmse:0.000612 
[9817]  train-rmse:0.000611 
[9818]  train-rmse:0.000611 
[9819]  train-rmse:0.000611 
[9820]  train-rmse:0.000611 
[9821]  train-rmse:0.000611 
[9822]  train-rmse:0.000610 
[9823]  train-rmse:0.000610 
[9824]  train-rmse:0.000610 
[9825]  train-rmse:0.000610 
[9826]  train-rmse:0.000610 
[9827]  train-rmse:0.000610 
[9828]  train-rmse:0.000610 
[9829]  train-rmse:0.000610 
[9830]  train-rmse:0.000610 
[9831]  train-rmse:0.000610 
[9832]  train-rmse:0.000610 
[9833]  train-rmse:0.000610 
[9834]  train-rmse:0.000610 
[9835]  train-rmse:0.000610 
[9836]  train-rmse:0.000610 
[9837]  train-rmse:0.000609 
[9838]  train-rmse:0.000609 
[9839]  train-rmse:0.000609 
[9840]  train-rmse:0.000609 
[9841]  train-rmse:0.000609 
[9842]  train-rmse:0.000609 
[9843]  train-rmse:0.000609 
[9844]  train-rmse:0.000609 
[9845]  train-rmse:0.000609 
[9846]  train-rmse:0.000609 
[9847]  train-rmse:0.000609 
[9848]  train-rmse:0.000610 
[9849]  train-rmse:0.000610 
[9850]  train-rmse:0.000610 
[9851]  train-rmse:0.000609 
[9852]  train-rmse:0.000609 
[9853]  train-rmse:0.000609 
[9854]  train-rmse:0.000609 
[9855]  train-rmse:0.000609 
[9856]  train-rmse:0.000610 
[9857]  train-rmse:0.000610 
[9858]  train-rmse:0.000610 
[9859]  train-rmse:0.000609 
[9860]  train-rmse:0.000610 
[9861]  train-rmse:0.000610 
[9862]  train-rmse:0.000610 
[9863]  train-rmse:0.000609 
[9864]  train-rmse:0.000609 
[9865]  train-rmse:0.000609 
[9866]  train-rmse:0.000609 
[9867]  train-rmse:0.000609 
[9868]  train-rmse:0.000609 
[9869]  train-rmse:0.000609 
[9870]  train-rmse:0.000609 
[9871]  train-rmse:0.000609 
[9872]  train-rmse:0.000608 
[9873]  train-rmse:0.000608 
[9874]  train-rmse:0.000608 
[9875]  train-rmse:0.000608 
[9876]  train-rmse:0.000608 
[9877]  train-rmse:0.000608 
[9878]  train-rmse:0.000608 
[9879]  train-rmse:0.000608 
[9880]  train-rmse:0.000608 
[9881]  train-rmse:0.000608 
[9882]  train-rmse:0.000608 
[9883]  train-rmse:0.000608 
[9884]  train-rmse:0.000608 
[9885]  train-rmse:0.000608 
[9886]  train-rmse:0.000608 
[9887]  train-rmse:0.000608 
[9888]  train-rmse:0.000607 
[9889]  train-rmse:0.000607 
[9890]  train-rmse:0.000607 
[9891]  train-rmse:0.000608 
[9892]  train-rmse:0.000608 
[9893]  train-rmse:0.000607 
[9894]  train-rmse:0.000607 
[9895]  train-rmse:0.000607 
[9896]  train-rmse:0.000607 
[9897]  train-rmse:0.000607 
[9898]  train-rmse:0.000607 
[9899]  train-rmse:0.000607 
[9900]  train-rmse:0.000607 
[9901]  train-rmse:0.000607 
[9902]  train-rmse:0.000607 
[9903]  train-rmse:0.000607 
[9904]  train-rmse:0.000607 
[9905]  train-rmse:0.000607 
[9906]  train-rmse:0.000607 
[9907]  train-rmse:0.000607 
[9908]  train-rmse:0.000607 
[9909]  train-rmse:0.000607 
[9910]  train-rmse:0.000607 
[9911]  train-rmse:0.000608 
[9912]  train-rmse:0.000607 
[9913]  train-rmse:0.000607 
[9914]  train-rmse:0.000607 
[9915]  train-rmse:0.000607 
[9916]  train-rmse:0.000608 
[9917]  train-rmse:0.000608 
[9918]  train-rmse:0.000608 
[9919]  train-rmse:0.000608 
[9920]  train-rmse:0.000608 
[9921]  train-rmse:0.000608 
[9922]  train-rmse:0.000608 
[9923]  train-rmse:0.000608 
[9924]  train-rmse:0.000608 
[9925]  train-rmse:0.000608 
[9926]  train-rmse:0.000608 
[9927]  train-rmse:0.000608 
[9928]  train-rmse:0.000608 
[9929]  train-rmse:0.000607 
[9930]  train-rmse:0.000607 
[9931]  train-rmse:0.000607 
[9932]  train-rmse:0.000608 
[9933]  train-rmse:0.000607 
[9934]  train-rmse:0.000607 
[9935]  train-rmse:0.000608 
[9936]  train-rmse:0.000607 
[9937]  train-rmse:0.000607 
[9938]  train-rmse:0.000607 
[9939]  train-rmse:0.000607 
[9940]  train-rmse:0.000607 
[9941]  train-rmse:0.000607 
[9942]  train-rmse:0.000607 
[9943]  train-rmse:0.000607 
[9944]  train-rmse:0.000607 
[9945]  train-rmse:0.000607 
[9946]  train-rmse:0.000607 
[9947]  train-rmse:0.000607 
[9948]  train-rmse:0.000607 
[9949]  train-rmse:0.000607 
[9950]  train-rmse:0.000607 
[9951]  train-rmse:0.000607 
[9952]  train-rmse:0.000607 
[9953]  train-rmse:0.000607 
[9954]  train-rmse:0.000607 
[9955]  train-rmse:0.000607 
[9956]  train-rmse:0.000607 
[9957]  train-rmse:0.000607 
[9958]  train-rmse:0.000607 
[9959]  train-rmse:0.000607 
[9960]  train-rmse:0.000607 
[9961]  train-rmse:0.000607 
[9962]  train-rmse:0.000607 
[9963]  train-rmse:0.000607 
[9964]  train-rmse:0.000607 
[9965]  train-rmse:0.000607 
[9966]  train-rmse:0.000607 
[9967]  train-rmse:0.000607 
[9968]  train-rmse:0.000607 
[9969]  train-rmse:0.000607 
[9970]  train-rmse:0.000607 
[9971]  train-rmse:0.000607 
[9972]  train-rmse:0.000607 
[9973]  train-rmse:0.000607 
[9974]  train-rmse:0.000607 
[9975]  train-rmse:0.000607 
[9976]  train-rmse:0.000607 
[9977]  train-rmse:0.000607 
[9978]  train-rmse:0.000607 
[9979]  train-rmse:0.000607 
[9980]  train-rmse:0.000607 
[9981]  train-rmse:0.000607 
[9982]  train-rmse:0.000607 
[9983]  train-rmse:0.000607 
[9984]  train-rmse:0.000606 
[9985]  train-rmse:0.000606 
[9986]  train-rmse:0.000606 
[9987]  train-rmse:0.000606 
[9988]  train-rmse:0.000606 
[9989]  train-rmse:0.000606 
[9990]  train-rmse:0.000606 
[9991]  train-rmse:0.000606 
[9992]  train-rmse:0.000606 
[9993]  train-rmse:0.000606 
[9994]  train-rmse:0.000606 
[9995]  train-rmse:0.000606 
[9996]  train-rmse:0.000606 
[9997]  train-rmse:0.000606 
[9998]  train-rmse:0.000606 
[9999]  train-rmse:0.000606 
[10000] train-rmse:0.000606 
[10001] train-rmse:0.000606 
[10002] train-rmse:0.000606 
[10003] train-rmse:0.000606 
[10004] train-rmse:0.000606 
[10005] train-rmse:0.000606 
[10006] train-rmse:0.000606 
[10007] train-rmse:0.000606 
[10008] train-rmse:0.000606 
[10009] train-rmse:0.000606 
[10010] train-rmse:0.000606 
[10011] train-rmse:0.000606 
[10012] train-rmse:0.000606 
[10013] train-rmse:0.000606 
[10014] train-rmse:0.000606 
[10015] train-rmse:0.000606 
[10016] train-rmse:0.000606 
[10017] train-rmse:0.000606 
[10018] train-rmse:0.000606 
[10019] train-rmse:0.000606 
[10020] train-rmse:0.000606 
[10021] train-rmse:0.000606 
[10022] train-rmse:0.000606 
[10023] train-rmse:0.000606 
[10024] train-rmse:0.000606 
[10025] train-rmse:0.000606 
[10026] train-rmse:0.000606 
[10027] train-rmse:0.000606 
[10028] train-rmse:0.000606 
[10029] train-rmse:0.000606 
[10030] train-rmse:0.000606 
[10031] train-rmse:0.000606 
[10032] train-rmse:0.000606 
[10033] train-rmse:0.000606 
[10034] train-rmse:0.000606 
[10035] train-rmse:0.000606 
[10036] train-rmse:0.000606 
[10037] train-rmse:0.000606 
[10038] train-rmse:0.000606 
[10039] train-rmse:0.000606 
[10040] train-rmse:0.000606 
[10041] train-rmse:0.000606 
[10042] train-rmse:0.000606 
[10043] train-rmse:0.000606 
[10044] train-rmse:0.000606 
[10045] train-rmse:0.000606 
[10046] train-rmse:0.000606 
[10047] train-rmse:0.000606 
[10048] train-rmse:0.000606 
[10049] train-rmse:0.000606 
[10050] train-rmse:0.000606 
[10051] train-rmse:0.000606 
[10052] train-rmse:0.000606 
[10053] train-rmse:0.000606 
[10054] train-rmse:0.000606 
[10055] train-rmse:0.000606 
[10056] train-rmse:0.000606 
[10057] train-rmse:0.000606 
[10058] train-rmse:0.000606 
[10059] train-rmse:0.000606 
[10060] train-rmse:0.000606 
[10061] train-rmse:0.000606 
[10062] train-rmse:0.000606 
[10063] train-rmse:0.000606 
[10064] train-rmse:0.000606 
[10065] train-rmse:0.000606 
[10066] train-rmse:0.000606 
[10067] train-rmse:0.000606 
[10068] train-rmse:0.000606 
[10069] train-rmse:0.000606 
[10070] train-rmse:0.000606 
[10071] train-rmse:0.000606 
[10072] train-rmse:0.000606 
[10073] train-rmse:0.000606 
[10074] train-rmse:0.000606 
[10075] train-rmse:0.000606 
[10076] train-rmse:0.000606 
[10077] train-rmse:0.000606 
[10078] train-rmse:0.000606 
[10079] train-rmse:0.000606 
[10080] train-rmse:0.000606 
[10081] train-rmse:0.000606 
[10082] train-rmse:0.000606 
[10083] train-rmse:0.000606 
[10084] train-rmse:0.000606 
[10085] train-rmse:0.000606 
[10086] train-rmse:0.000606 
[10087] train-rmse:0.000606 
[10088] train-rmse:0.000606 
[10089] train-rmse:0.000606 
[10090] train-rmse:0.000606 
[10091] train-rmse:0.000606 
[10092] train-rmse:0.000606 
[10093] train-rmse:0.000606 
[10094] train-rmse:0.000606 
[10095] train-rmse:0.000606 
[10096] train-rmse:0.000606 
[10097] train-rmse:0.000606 
[10098] train-rmse:0.000606 
[10099] train-rmse:0.000606 
[10100] train-rmse:0.000606 
[10101] train-rmse:0.000606 
[10102] train-rmse:0.000606 
[10103] train-rmse:0.000605 
[10104] train-rmse:0.000605 
[10105] train-rmse:0.000605 
[10106] train-rmse:0.000605 
[10107] train-rmse:0.000605 
[10108] train-rmse:0.000605 
[10109] train-rmse:0.000605 
[10110] train-rmse:0.000605 
[10111] train-rmse:0.000605 
[10112] train-rmse:0.000605 
[10113] train-rmse:0.000605 
[10114] train-rmse:0.000605 
[10115] train-rmse:0.000605 
[10116] train-rmse:0.000605 
[10117] train-rmse:0.000605 
[10118] train-rmse:0.000605 
[10119] train-rmse:0.000605 
[10120] train-rmse:0.000605 
[10121] train-rmse:0.000605 
[10122] train-rmse:0.000605 
[10123] train-rmse:0.000605 
[10124] train-rmse:0.000605 
[10125] train-rmse:0.000605 
[10126] train-rmse:0.000605 
[10127] train-rmse:0.000605 
[10128] train-rmse:0.000605 
[10129] train-rmse:0.000605 
[10130] train-rmse:0.000605 
[10131] train-rmse:0.000605 
[10132] train-rmse:0.000605 
[10133] train-rmse:0.000605 
[10134] train-rmse:0.000605 
[10135] train-rmse:0.000605 
[10136] train-rmse:0.000605 
[10137] train-rmse:0.000605 
[10138] train-rmse:0.000605 
[10139] train-rmse:0.000605 
[10140] train-rmse:0.000605 
[10141] train-rmse:0.000605 
[10142] train-rmse:0.000605 
[10143] train-rmse:0.000605 
[10144] train-rmse:0.000605 
[10145] train-rmse:0.000605 
[10146] train-rmse:0.000604 
[10147] train-rmse:0.000604 
[10148] train-rmse:0.000604 
[10149] train-rmse:0.000604 
[10150] train-rmse:0.000604 
[10151] train-rmse:0.000604 
[10152] train-rmse:0.000604 
[10153] train-rmse:0.000604 
[10154] train-rmse:0.000604 
[10155] train-rmse:0.000604 
[10156] train-rmse:0.000604 
[10157] train-rmse:0.000604 
[10158] train-rmse:0.000604 
[10159] train-rmse:0.000604 
[10160] train-rmse:0.000604 
[10161] train-rmse:0.000604 
[10162] train-rmse:0.000604 
[10163] train-rmse:0.000604 
[10164] train-rmse:0.000604 
[10165] train-rmse:0.000604 
[10166] train-rmse:0.000604 
[10167] train-rmse:0.000604 
[10168] train-rmse:0.000604 
[10169] train-rmse:0.000604 
[10170] train-rmse:0.000604 
[10171] train-rmse:0.000604 
[10172] train-rmse:0.000604 
[10173] train-rmse:0.000604 
[10174] train-rmse:0.000603 
[10175] train-rmse:0.000603 
[10176] train-rmse:0.000603 
[10177] train-rmse:0.000603 
[10178] train-rmse:0.000603 
[10179] train-rmse:0.000603 
[10180] train-rmse:0.000603 
[10181] train-rmse:0.000603 
[10182] train-rmse:0.000602 
[10183] train-rmse:0.000602 
[10184] train-rmse:0.000602 
[10185] train-rmse:0.000602 
[10186] train-rmse:0.000602 
[10187] train-rmse:0.000602 
[10188] train-rmse:0.000602 
[10189] train-rmse:0.000602 
[10190] train-rmse:0.000602 
[10191] train-rmse:0.000602 
[10192] train-rmse:0.000602 
[10193] train-rmse:0.000602 
[10194] train-rmse:0.000602 
[10195] train-rmse:0.000602 
[10196] train-rmse:0.000602 
[10197] train-rmse:0.000602 
[10198] train-rmse:0.000602 
[10199] train-rmse:0.000602 
[10200] train-rmse:0.000602 
[10201] train-rmse:0.000602 
[10202] train-rmse:0.000602 
[10203] train-rmse:0.000602 
[10204] train-rmse:0.000602 
[10205] train-rmse:0.000602 
[10206] train-rmse:0.000602 
[10207] train-rmse:0.000602 
[10208] train-rmse:0.000602 
[10209] train-rmse:0.000602 
[10210] train-rmse:0.000602 
[10211] train-rmse:0.000602 
[10212] train-rmse:0.000602 
[10213] train-rmse:0.000602 
[10214] train-rmse:0.000602 
[10215] train-rmse:0.000602 
[10216] train-rmse:0.000602 
[10217] train-rmse:0.000602 
[10218] train-rmse:0.000602 
[10219] train-rmse:0.000602 
[10220] train-rmse:0.000602 
[10221] train-rmse:0.000602 
[10222] train-rmse:0.000602 
[10223] train-rmse:0.000602 
[10224] train-rmse:0.000601 
[10225] train-rmse:0.000601 
[10226] train-rmse:0.000601 
[10227] train-rmse:0.000601 
[10228] train-rmse:0.000601 
[10229] train-rmse:0.000601 
[10230] train-rmse:0.000601 
[10231] train-rmse:0.000601 
[10232] train-rmse:0.000601 
[10233] train-rmse:0.000601 
[10234] train-rmse:0.000601 
[10235] train-rmse:0.000601 
[10236] train-rmse:0.000601 
[10237] train-rmse:0.000601 
[10238] train-rmse:0.000601 
[10239] train-rmse:0.000601 
[10240] train-rmse:0.000601 
[10241] train-rmse:0.000601 
[10242] train-rmse:0.000601 
[10243] train-rmse:0.000601 
[10244] train-rmse:0.000601 
[10245] train-rmse:0.000601 
[10246] train-rmse:0.000601 
[10247] train-rmse:0.000601 
[10248] train-rmse:0.000601 
[10249] train-rmse:0.000601 
[10250] train-rmse:0.000601 
[10251] train-rmse:0.000601 
[10252] train-rmse:0.000601 
[10253] train-rmse:0.000601 
[10254] train-rmse:0.000601 
[10255] train-rmse:0.000601 
[10256] train-rmse:0.000601 
[10257] train-rmse:0.000601 
[10258] train-rmse:0.000601 
[10259] train-rmse:0.000601 
[10260] train-rmse:0.000601 
[10261] train-rmse:0.000601 
[10262] train-rmse:0.000601 
[10263] train-rmse:0.000601 
[10264] train-rmse:0.000601 
[10265] train-rmse:0.000601 
[10266] train-rmse:0.000601 
[10267] train-rmse:0.000601 
[10268] train-rmse:0.000601 
[10269] train-rmse:0.000601 
[10270] train-rmse:0.000601 
[10271] train-rmse:0.000601 
[10272] train-rmse:0.000601 
[10273] train-rmse:0.000601 
[10274] train-rmse:0.000601 
[10275] train-rmse:0.000601 
[10276] train-rmse:0.000601 
[10277] train-rmse:0.000601 
[10278] train-rmse:0.000601 
[10279] train-rmse:0.000601 
[10280] train-rmse:0.000601 
[10281] train-rmse:0.000601 
[10282] train-rmse:0.000601 
[10283] train-rmse:0.000601 
[10284] train-rmse:0.000601 
[10285] train-rmse:0.000601 
[10286] train-rmse:0.000600 
[10287] train-rmse:0.000600 
[10288] train-rmse:0.000600 
[10289] train-rmse:0.000600 
[10290] train-rmse:0.000600 
[10291] train-rmse:0.000600 
[10292] train-rmse:0.000600 
[10293] train-rmse:0.000600 
[10294] train-rmse:0.000600 
[10295] train-rmse:0.000600 
[10296] train-rmse:0.000600 
[10297] train-rmse:0.000600 
[10298] train-rmse:0.000600 
[10299] train-rmse:0.000600 
[10300] train-rmse:0.000600 
[10301] train-rmse:0.000600 
[10302] train-rmse:0.000600 
[10303] train-rmse:0.000600 
[10304] train-rmse:0.000600 
[10305] train-rmse:0.000600 
[10306] train-rmse:0.000600 
[10307] train-rmse:0.000600 
[10308] train-rmse:0.000600 
[10309] train-rmse:0.000600 
[10310] train-rmse:0.000600 
[10311] train-rmse:0.000600 
[10312] train-rmse:0.000600 
[10313] train-rmse:0.000600 
[10314] train-rmse:0.000599 
[10315] train-rmse:0.000599 
[10316] train-rmse:0.000599 
[10317] train-rmse:0.000599 
[10318] train-rmse:0.000599 
[10319] train-rmse:0.000599 
[10320] train-rmse:0.000599 
[10321] train-rmse:0.000599 
[10322] train-rmse:0.000599 
[10323] train-rmse:0.000599 
[10324] train-rmse:0.000599 
[10325] train-rmse:0.000599 
[10326] train-rmse:0.000599 
[10327] train-rmse:0.000599 
[10328] train-rmse:0.000599 
[10329] train-rmse:0.000599 
[10330] train-rmse:0.000599 
[10331] train-rmse:0.000599 
[10332] train-rmse:0.000599 
[10333] train-rmse:0.000599 
[10334] train-rmse:0.000599 
[10335] train-rmse:0.000599 
[10336] train-rmse:0.000599 
[10337] train-rmse:0.000598 
[10338] train-rmse:0.000598 
[10339] train-rmse:0.000598 
[10340] train-rmse:0.000598 
[10341] train-rmse:0.000598 
[10342] train-rmse:0.000598 
[10343] train-rmse:0.000598 
[10344] train-rmse:0.000598 
[10345] train-rmse:0.000598 
[10346] train-rmse:0.000598 
[10347] train-rmse:0.000598 
[10348] train-rmse:0.000599 
[10349] train-rmse:0.000598 
[10350] train-rmse:0.000598 
[10351] train-rmse:0.000599 
[10352] train-rmse:0.000599 
[10353] train-rmse:0.000598 
[10354] train-rmse:0.000598 
[10355] train-rmse:0.000598 
[10356] train-rmse:0.000598 
[10357] train-rmse:0.000598 
[10358] train-rmse:0.000598 
[10359] train-rmse:0.000598 
[10360] train-rmse:0.000598 
[10361] train-rmse:0.000598 
[10362] train-rmse:0.000598 
[10363] train-rmse:0.000598 
[10364] train-rmse:0.000598 
[10365] train-rmse:0.000598 
[10366] train-rmse:0.000598 
[10367] train-rmse:0.000598 
[10368] train-rmse:0.000598 
[10369] train-rmse:0.000598 
[10370] train-rmse:0.000598 
[10371] train-rmse:0.000598 
[10372] train-rmse:0.000598 
[10373] train-rmse:0.000598 
[10374] train-rmse:0.000598 
[10375] train-rmse:0.000598 
[10376] train-rmse:0.000598 
[10377] train-rmse:0.000598 
[10378] train-rmse:0.000598 
[10379] train-rmse:0.000598 
[10380] train-rmse:0.000598 
[10381] train-rmse:0.000598 
[10382] train-rmse:0.000598 
[10383] train-rmse:0.000598 
[10384] train-rmse:0.000598 
[10385] train-rmse:0.000598 
[10386] train-rmse:0.000598 
[10387] train-rmse:0.000598 
[10388] train-rmse:0.000598 
[10389] train-rmse:0.000598 
[10390] train-rmse:0.000598 
[10391] train-rmse:0.000598 
[10392] train-rmse:0.000597 
[10393] train-rmse:0.000597 
[10394] train-rmse:0.000597 
[10395] train-rmse:0.000597 
[10396] train-rmse:0.000597 
[10397] train-rmse:0.000597 
[10398] train-rmse:0.000597 
[10399] train-rmse:0.000597 
[10400] train-rmse:0.000597 
[10401] train-rmse:0.000597 
[10402] train-rmse:0.000597 
[10403] train-rmse:0.000597 
[10404] train-rmse:0.000597 
[10405] train-rmse:0.000597 
[10406] train-rmse:0.000597 
[10407] train-rmse:0.000597 
[10408] train-rmse:0.000597 
[10409] train-rmse:0.000597 
[10410] train-rmse:0.000597 
[10411] train-rmse:0.000597 
[10412] train-rmse:0.000597 
[10413] train-rmse:0.000597 
[10414] train-rmse:0.000597 
[10415] train-rmse:0.000597 
[10416] train-rmse:0.000597 
[10417] train-rmse:0.000596 
[10418] train-rmse:0.000596 
[10419] train-rmse:0.000596 
[10420] train-rmse:0.000596 
[10421] train-rmse:0.000596 
[10422] train-rmse:0.000596 
[10423] train-rmse:0.000596 
[10424] train-rmse:0.000596 
[10425] train-rmse:0.000596 
[10426] train-rmse:0.000596 
[10427] train-rmse:0.000596 
[10428] train-rmse:0.000596 
[10429] train-rmse:0.000596 
[10430] train-rmse:0.000596 
[10431] train-rmse:0.000596 
[10432] train-rmse:0.000596 
[10433] train-rmse:0.000596 
[10434] train-rmse:0.000596 
[10435] train-rmse:0.000596 
[10436] train-rmse:0.000596 
[10437] train-rmse:0.000596 
[10438] train-rmse:0.000596 
[10439] train-rmse:0.000596 
[10440] train-rmse:0.000596 
[10441] train-rmse:0.000596 
[10442] train-rmse:0.000596 
[10443] train-rmse:0.000596 
[10444] train-rmse:0.000596 
[10445] train-rmse:0.000596 
[10446] train-rmse:0.000596 
[10447] train-rmse:0.000596 
[10448] train-rmse:0.000596 
[10449] train-rmse:0.000596 
[10450] train-rmse:0.000596 
[10451] train-rmse:0.000596 
[10452] train-rmse:0.000596 
[10453] train-rmse:0.000596 
[10454] train-rmse:0.000596 
[10455] train-rmse:0.000596 
[10456] train-rmse:0.000596 
[10457] train-rmse:0.000596 
[10458] train-rmse:0.000596 
[10459] train-rmse:0.000596 
[10460] train-rmse:0.000596 
[10461] train-rmse:0.000596 
[10462] train-rmse:0.000596 
[10463] train-rmse:0.000596 
[10464] train-rmse:0.000596 
[10465] train-rmse:0.000596 
[10466] train-rmse:0.000596 
[10467] train-rmse:0.000596 
[10468] train-rmse:0.000596 
[10469] train-rmse:0.000596 
[10470] train-rmse:0.000596 
[10471] train-rmse:0.000596 
[10472] train-rmse:0.000596 
[10473] train-rmse:0.000596 
[10474] train-rmse:0.000596 
[10475] train-rmse:0.000596 
[10476] train-rmse:0.000596 
[10477] train-rmse:0.000596 
[10478] train-rmse:0.000596 
[10479] train-rmse:0.000596 
[10480] train-rmse:0.000596 
[10481] train-rmse:0.000596 
[10482] train-rmse:0.000596 
[10483] train-rmse:0.000596 
[10484] train-rmse:0.000596 
[10485] train-rmse:0.000595 
[10486] train-rmse:0.000595 
[10487] train-rmse:0.000595 
[10488] train-rmse:0.000595 
[10489] train-rmse:0.000595 
[10490] train-rmse:0.000595 
[10491] train-rmse:0.000595 
[10492] train-rmse:0.000595 
[10493] train-rmse:0.000595 
[10494] train-rmse:0.000595 
[10495] train-rmse:0.000595 
[10496] train-rmse:0.000595 
[10497] train-rmse:0.000595 
[10498] train-rmse:0.000595 
[10499] train-rmse:0.000595 
[10500] train-rmse:0.000595 
[10501] train-rmse:0.000595 
[10502] train-rmse:0.000595 
[10503] train-rmse:0.000595 
[10504] train-rmse:0.000595 
[10505] train-rmse:0.000595 
[10506] train-rmse:0.000595 
[10507] train-rmse:0.000595 
[10508] train-rmse:0.000595 
[10509] train-rmse:0.000594 
[10510] train-rmse:0.000594 
[10511] train-rmse:0.000594 
[10512] train-rmse:0.000594 
[10513] train-rmse:0.000594 
[10514] train-rmse:0.000594 
[10515] train-rmse:0.000594 
[10516] train-rmse:0.000594 
[10517] train-rmse:0.000594 
[10518] train-rmse:0.000594 
[10519] train-rmse:0.000594 
[10520] train-rmse:0.000594 
[10521] train-rmse:0.000594 
[10522] train-rmse:0.000594 
[10523] train-rmse:0.000594 
[10524] train-rmse:0.000594 
[10525] train-rmse:0.000594 
[10526] train-rmse:0.000594 
[10527] train-rmse:0.000594 
[10528] train-rmse:0.000594 
[10529] train-rmse:0.000594 
[10530] train-rmse:0.000594 
[10531] train-rmse:0.000594 
[10532] train-rmse:0.000594 
[10533] train-rmse:0.000594 
[10534] train-rmse:0.000594 
[10535] train-rmse:0.000594 
[10536] train-rmse:0.000594 
[10537] train-rmse:0.000594 
[10538] train-rmse:0.000594 
[10539] train-rmse:0.000594 
[10540] train-rmse:0.000594 
[10541] train-rmse:0.000594 
[10542] train-rmse:0.000594 
[10543] train-rmse:0.000594 
[10544] train-rmse:0.000594 
[10545] train-rmse:0.000594 
[10546] train-rmse:0.000594 
[10547] train-rmse:0.000594 
[10548] train-rmse:0.000594 
[10549] train-rmse:0.000594 
[10550] train-rmse:0.000594 
[10551] train-rmse:0.000594 
[10552] train-rmse:0.000594 
[10553] train-rmse:0.000594 
[10554] train-rmse:0.000594 
[10555] train-rmse:0.000594 
[10556] train-rmse:0.000594 
[10557] train-rmse:0.000594 
[10558] train-rmse:0.000594 
[10559] train-rmse:0.000594 
[10560] train-rmse:0.000594 
[10561] train-rmse:0.000594 
[10562] train-rmse:0.000594 
[10563] train-rmse:0.000594 
[10564] train-rmse:0.000594 
[10565] train-rmse:0.000594 
[10566] train-rmse:0.000594 
[10567] train-rmse:0.000594 
[10568] train-rmse:0.000594 
[10569] train-rmse:0.000594 
[10570] train-rmse:0.000594 
[10571] train-rmse:0.000594 
[10572] train-rmse:0.000594 
[10573] train-rmse:0.000594 
[10574] train-rmse:0.000594 
[10575] train-rmse:0.000594 
[10576] train-rmse:0.000594 
[10577] train-rmse:0.000594 
[10578] train-rmse:0.000594 
[10579] train-rmse:0.000594 
[10580] train-rmse:0.000594 
[10581] train-rmse:0.000594 
[10582] train-rmse:0.000593 
[10583] train-rmse:0.000593 
[10584] train-rmse:0.000593 
[10585] train-rmse:0.000593 
[10586] train-rmse:0.000593 
[10587] train-rmse:0.000593 
[10588] train-rmse:0.000593 
[10589] train-rmse:0.000593 
[10590] train-rmse:0.000593 
[10591] train-rmse:0.000593 
[10592] train-rmse:0.000593 
[10593] train-rmse:0.000593 
[10594] train-rmse:0.000593 
[10595] train-rmse:0.000593 
[10596] train-rmse:0.000593 
[10597] train-rmse:0.000593 
[10598] train-rmse:0.000593 
[10599] train-rmse:0.000593 
[10600] train-rmse:0.000593 
[10601] train-rmse:0.000593 
[10602] train-rmse:0.000593 
[10603] train-rmse:0.000593 
[10604] train-rmse:0.000593 
[10605] train-rmse:0.000593 
[10606] train-rmse:0.000593 
[10607] train-rmse:0.000593 
[10608] train-rmse:0.000593 
[10609] train-rmse:0.000593 
[10610] train-rmse:0.000593 
[10611] train-rmse:0.000593 
[10612] train-rmse:0.000593 
[10613] train-rmse:0.000593 
[10614] train-rmse:0.000593 
[10615] train-rmse:0.000593 
[10616] train-rmse:0.000593 
[10617] train-rmse:0.000593 
[10618] train-rmse:0.000593 
[10619] train-rmse:0.000593 
[10620] train-rmse:0.000593 
[10621] train-rmse:0.000593 
[10622] train-rmse:0.000593 
[10623] train-rmse:0.000593 
[10624] train-rmse:0.000593 
[10625] train-rmse:0.000593 
[10626] train-rmse:0.000593 
[10627] train-rmse:0.000593 
[10628] train-rmse:0.000593 
[10629] train-rmse:0.000593 
[10630] train-rmse:0.000593 
[10631] train-rmse:0.000593 
[10632] train-rmse:0.000593 
[10633] train-rmse:0.000593 
[10634] train-rmse:0.000593 
[10635] train-rmse:0.000593 
[10636] train-rmse:0.000593 
[10637] train-rmse:0.000593 
[10638] train-rmse:0.000593 
[10639] train-rmse:0.000593 
[10640] train-rmse:0.000593 
[10641] train-rmse:0.000593 
[10642] train-rmse:0.000593 
[10643] train-rmse:0.000593 
[10644] train-rmse:0.000593 
[10645] train-rmse:0.000593 
[10646] train-rmse:0.000593 
[10647] train-rmse:0.000593 
[10648] train-rmse:0.000593 
[10649] train-rmse:0.000593 
[10650] train-rmse:0.000593 
[10651] train-rmse:0.000593 
[10652] train-rmse:0.000593 
[10653] train-rmse:0.000593 
[10654] train-rmse:0.000593 
[10655] train-rmse:0.000593 
[10656] train-rmse:0.000593 
[10657] train-rmse:0.000593 
[10658] train-rmse:0.000593 
[10659] train-rmse:0.000593 
[10660] train-rmse:0.000593 
[10661] train-rmse:0.000593 
[10662] train-rmse:0.000593 
[10663] train-rmse:0.000593 
[10664] train-rmse:0.000593 
[10665] train-rmse:0.000593 
[10666] train-rmse:0.000593 
[10667] train-rmse:0.000593 
[10668] train-rmse:0.000593 
[10669] train-rmse:0.000593 
[10670] train-rmse:0.000593 
[10671] train-rmse:0.000593 
[10672] train-rmse:0.000593 
[10673] train-rmse:0.000592 
[10674] train-rmse:0.000592 
[10675] train-rmse:0.000592 
[10676] train-rmse:0.000592 
[10677] train-rmse:0.000592 
[10678] train-rmse:0.000592 
[10679] train-rmse:0.000592 
[10680] train-rmse:0.000592 
[10681] train-rmse:0.000592 
[10682] train-rmse:0.000592 
[10683] train-rmse:0.000592 
[10684] train-rmse:0.000592 
[10685] train-rmse:0.000592 
[10686] train-rmse:0.000592 
[10687] train-rmse:0.000592 
[10688] train-rmse:0.000592 
[10689] train-rmse:0.000592 
[10690] train-rmse:0.000592 
[10691] train-rmse:0.000592 
[10692] train-rmse:0.000592 
[10693] train-rmse:0.000592 
[10694] train-rmse:0.000592 
[10695] train-rmse:0.000592 
[10696] train-rmse:0.000592 
[10697] train-rmse:0.000592 
[10698] train-rmse:0.000592 
[10699] train-rmse:0.000592 
[10700] train-rmse:0.000592 
[10701] train-rmse:0.000592 
[10702] train-rmse:0.000592 
[10703] train-rmse:0.000592 
[10704] train-rmse:0.000592 
[10705] train-rmse:0.000592 
[10706] train-rmse:0.000592 
[10707] train-rmse:0.000592 
[10708] train-rmse:0.000592 
[10709] train-rmse:0.000592 
[10710] train-rmse:0.000592 
[10711] train-rmse:0.000592 
[10712] train-rmse:0.000592 
[10713] train-rmse:0.000592 
[10714] train-rmse:0.000592 
[10715] train-rmse:0.000592 
[10716] train-rmse:0.000592 
[10717] train-rmse:0.000592 
[10718] train-rmse:0.000592 
[10719] train-rmse:0.000592 
[10720] train-rmse:0.000592 
[10721] train-rmse:0.000592 
[10722] train-rmse:0.000592 
[10723] train-rmse:0.000592 
[10724] train-rmse:0.000592 
[10725] train-rmse:0.000592 
[10726] train-rmse:0.000592 
[10727] train-rmse:0.000592 
[10728] train-rmse:0.000592 
[10729] train-rmse:0.000592 
[10730] train-rmse:0.000592 
[10731] train-rmse:0.000592 
[10732] train-rmse:0.000592 
[10733] train-rmse:0.000592 
[10734] train-rmse:0.000592 
[10735] train-rmse:0.000592 
[10736] train-rmse:0.000592 
[10737] train-rmse:0.000592 
[10738] train-rmse:0.000592 
[10739] train-rmse:0.000592 
[10740] train-rmse:0.000592 
[10741] train-rmse:0.000592 
[10742] train-rmse:0.000592 
[10743] train-rmse:0.000592 
[10744] train-rmse:0.000592 
[10745] train-rmse:0.000592 
[10746] train-rmse:0.000591 
[10747] train-rmse:0.000591 
[10748] train-rmse:0.000591 
[10749] train-rmse:0.000590 
[10750] train-rmse:0.000590 
[10751] train-rmse:0.000590 
[10752] train-rmse:0.000590 
[10753] train-rmse:0.000590 
[10754] train-rmse:0.000590 
[10755] train-rmse:0.000590 
[10756] train-rmse:0.000590 
[10757] train-rmse:0.000590 
[10758] train-rmse:0.000590 
[10759] train-rmse:0.000590 
[10760] train-rmse:0.000590 
[10761] train-rmse:0.000590 
[10762] train-rmse:0.000590 
[10763] train-rmse:0.000590 
[10764] train-rmse:0.000590 
[10765] train-rmse:0.000590 
[10766] train-rmse:0.000590 
[10767] train-rmse:0.000590 
[10768] train-rmse:0.000590 
[10769] train-rmse:0.000590 
[10770] train-rmse:0.000590 
[10771] train-rmse:0.000590 
[10772] train-rmse:0.000590 
[10773] train-rmse:0.000590 
[10774] train-rmse:0.000590 
[10775] train-rmse:0.000590 
[10776] train-rmse:0.000590 
[10777] train-rmse:0.000590 
[10778] train-rmse:0.000590 
[10779] train-rmse:0.000590 
[10780] train-rmse:0.000589 
[10781] train-rmse:0.000589 
[10782] train-rmse:0.000589 
[10783] train-rmse:0.000589 
[10784] train-rmse:0.000589 
[10785] train-rmse:0.000589 
[10786] train-rmse:0.000589 
[10787] train-rmse:0.000589 
[10788] train-rmse:0.000589 
[10789] train-rmse:0.000589 
[10790] train-rmse:0.000589 
[10791] train-rmse:0.000589 
[10792] train-rmse:0.000589 
[10793] train-rmse:0.000589 
[10794] train-rmse:0.000589 
[10795] train-rmse:0.000589 
[10796] train-rmse:0.000589 
[10797] train-rmse:0.000589 
[10798] train-rmse:0.000589 
[10799] train-rmse:0.000589 
[10800] train-rmse:0.000589 
[10801] train-rmse:0.000589 
[10802] train-rmse:0.000589 
[10803] train-rmse:0.000589 
[10804] train-rmse:0.000589 
[10805] train-rmse:0.000589 
[10806] train-rmse:0.000589 
[10807] train-rmse:0.000589 
[10808] train-rmse:0.000589 
[10809] train-rmse:0.000589 
[10810] train-rmse:0.000589 
[10811] train-rmse:0.000589 
[10812] train-rmse:0.000589 
[10813] train-rmse:0.000589 
[10814] train-rmse:0.000589 
[10815] train-rmse:0.000589 
[10816] train-rmse:0.000589 
[10817] train-rmse:0.000589 
[10818] train-rmse:0.000589 
[10819] train-rmse:0.000589 
[10820] train-rmse:0.000589 
[10821] train-rmse:0.000589 
[10822] train-rmse:0.000589 
[10823] train-rmse:0.000589 
[10824] train-rmse:0.000589 
[10825] train-rmse:0.000589 
[10826] train-rmse:0.000589 
[10827] train-rmse:0.000589 
[10828] train-rmse:0.000589 
[10829] train-rmse:0.000589 
[10830] train-rmse:0.000589 
[10831] train-rmse:0.000589 
[10832] train-rmse:0.000589 
[10833] train-rmse:0.000589 
[10834] train-rmse:0.000589 
[10835] train-rmse:0.000589 
[10836] train-rmse:0.000589 
[10837] train-rmse:0.000589 
[10838] train-rmse:0.000589 
[10839] train-rmse:0.000589 
[10840] train-rmse:0.000589 
[10841] train-rmse:0.000589 
[10842] train-rmse:0.000588 
[10843] train-rmse:0.000588 
[10844] train-rmse:0.000588 
[10845] train-rmse:0.000588 
[10846] train-rmse:0.000588 
[10847] train-rmse:0.000588 
[10848] train-rmse:0.000588 
[10849] train-rmse:0.000588 
[10850] train-rmse:0.000588 
[10851] train-rmse:0.000588 
[10852] train-rmse:0.000588 
[10853] train-rmse:0.000588 
[10854] train-rmse:0.000588 
[10855] train-rmse:0.000588 
[10856] train-rmse:0.000588 
[10857] train-rmse:0.000588 
[10858] train-rmse:0.000588 
[10859] train-rmse:0.000588 
[10860] train-rmse:0.000588 
[10861] train-rmse:0.000588 
[10862] train-rmse:0.000588 
[10863] train-rmse:0.000587 
[10864] train-rmse:0.000587 
[10865] train-rmse:0.000587 
[10866] train-rmse:0.000587 
[10867] train-rmse:0.000587 
[10868] train-rmse:0.000587 
[10869] train-rmse:0.000587 
[10870] train-rmse:0.000587 
[10871] train-rmse:0.000587 
[10872] train-rmse:0.000587 
[10873] train-rmse:0.000587 
[10874] train-rmse:0.000587 
[10875] train-rmse:0.000587 
[10876] train-rmse:0.000587 
[10877] train-rmse:0.000587 
[10878] train-rmse:0.000587 
[10879] train-rmse:0.000587 
[10880] train-rmse:0.000587 
[10881] train-rmse:0.000587 
[10882] train-rmse:0.000587 
[10883] train-rmse:0.000587 
[10884] train-rmse:0.000587 
[10885] train-rmse:0.000587 
[10886] train-rmse:0.000587 
[10887] train-rmse:0.000586 
[10888] train-rmse:0.000586 
[10889] train-rmse:0.000586 
[10890] train-rmse:0.000586 
[10891] train-rmse:0.000586 
[10892] train-rmse:0.000586 
[10893] train-rmse:0.000586 
[10894] train-rmse:0.000586 
[10895] train-rmse:0.000586 
[10896] train-rmse:0.000586 
[10897] train-rmse:0.000586 
[10898] train-rmse:0.000586 
[10899] train-rmse:0.000586 
[10900] train-rmse:0.000586 
[10901] train-rmse:0.000586 
[10902] train-rmse:0.000586 
[10903] train-rmse:0.000586 
[10904] train-rmse:0.000586 
[10905] train-rmse:0.000586 
[10906] train-rmse:0.000586 
[10907] train-rmse:0.000586 
[10908] train-rmse:0.000586 
[10909] train-rmse:0.000586 
[10910] train-rmse:0.000586 
[10911] train-rmse:0.000586 
[10912] train-rmse:0.000586 
[10913] train-rmse:0.000586 
[10914] train-rmse:0.000586 
[10915] train-rmse:0.000586 
[10916] train-rmse:0.000586 
[10917] train-rmse:0.000586 
[10918] train-rmse:0.000586 
[10919] train-rmse:0.000586 
[10920] train-rmse:0.000586 
[10921] train-rmse:0.000586 
[10922] train-rmse:0.000586 
[10923] train-rmse:0.000586 
[10924] train-rmse:0.000586 
[10925] train-rmse:0.000586 
[10926] train-rmse:0.000586 
[10927] train-rmse:0.000586 
[10928] train-rmse:0.000586 
[10929] train-rmse:0.000586 
[10930] train-rmse:0.000586 
[10931] train-rmse:0.000586 
[10932] train-rmse:0.000586 
[10933] train-rmse:0.000586 
[10934] train-rmse:0.000586 
[10935] train-rmse:0.000586 
[10936] train-rmse:0.000586 
[10937] train-rmse:0.000586 
[10938] train-rmse:0.000586 
[10939] train-rmse:0.000586 
[10940] train-rmse:0.000586 
[10941] train-rmse:0.000586 
[10942] train-rmse:0.000586 
[10943] train-rmse:0.000586 
[10944] train-rmse:0.000586 
[10945] train-rmse:0.000586 
[10946] train-rmse:0.000586 
[10947] train-rmse:0.000586 
[10948] train-rmse:0.000586 
[10949] train-rmse:0.000586 
[10950] train-rmse:0.000586 
[10951] train-rmse:0.000586 
[10952] train-rmse:0.000586 
[10953] train-rmse:0.000585 
[10954] train-rmse:0.000585 
[10955] train-rmse:0.000585 
[10956] train-rmse:0.000585 
[10957] train-rmse:0.000585 
[10958] train-rmse:0.000585 
[10959] train-rmse:0.000585 
[10960] train-rmse:0.000585 
[10961] train-rmse:0.000585 
[10962] train-rmse:0.000585 
[10963] train-rmse:0.000585 
[10964] train-rmse:0.000585 
[10965] train-rmse:0.000585 
[10966] train-rmse:0.000585 
[10967] train-rmse:0.000585 
[10968] train-rmse:0.000585 
[10969] train-rmse:0.000585 
[10970] train-rmse:0.000585 
[10971] train-rmse:0.000585 
[10972] train-rmse:0.000585 
[10973] train-rmse:0.000585 
[10974] train-rmse:0.000585 
[10975] train-rmse:0.000585 
[10976] train-rmse:0.000585 
[10977] train-rmse:0.000585 
[10978] train-rmse:0.000585 
[10979] train-rmse:0.000585 
[10980] train-rmse:0.000585 
[10981] train-rmse:0.000585 
[10982] train-rmse:0.000585 
[10983] train-rmse:0.000585 
[10984] train-rmse:0.000585 
[10985] train-rmse:0.000585 
[10986] train-rmse:0.000585 
[10987] train-rmse:0.000585 
[10988] train-rmse:0.000585 
[10989] train-rmse:0.000585 
[10990] train-rmse:0.000585 
[10991] train-rmse:0.000585 
[10992] train-rmse:0.000585 
[10993] train-rmse:0.000585 
[10994] train-rmse:0.000585 
[10995] train-rmse:0.000585 
[10996] train-rmse:0.000585 
[10997] train-rmse:0.000585 
[10998] train-rmse:0.000585 
[10999] train-rmse:0.000585 
[11000] train-rmse:0.000585 
[11001] train-rmse:0.000585 
[11002] train-rmse:0.000585 
[11003] train-rmse:0.000585 
[11004] train-rmse:0.000585 
[11005] train-rmse:0.000585 
[11006] train-rmse:0.000585 
[11007] train-rmse:0.000585 
[11008] train-rmse:0.000585 
[11009] train-rmse:0.000585 
[11010] train-rmse:0.000585 
[11011] train-rmse:0.000585 
[11012] train-rmse:0.000585 
[11013] train-rmse:0.000585 
[11014] train-rmse:0.000585 
[11015] train-rmse:0.000585 
[11016] train-rmse:0.000585 
[11017] train-rmse:0.000585 
[11018] train-rmse:0.000585 
[11019] train-rmse:0.000585 
[11020] train-rmse:0.000585 
[11021] train-rmse:0.000585 
[11022] train-rmse:0.000585 
[11023] train-rmse:0.000585 
[11024] train-rmse:0.000585 
[11025] train-rmse:0.000585 
[11026] train-rmse:0.000585 
[11027] train-rmse:0.000585 
[11028] train-rmse:0.000585 
[11029] train-rmse:0.000585 
[11030] train-rmse:0.000585 
[11031] train-rmse:0.000585 
[11032] train-rmse:0.000585 
[11033] train-rmse:0.000585 
[11034] train-rmse:0.000585 
[11035] train-rmse:0.000585 
[11036] train-rmse:0.000585 
[11037] train-rmse:0.000585 
[11038] train-rmse:0.000585 
[11039] train-rmse:0.000585 
[11040] train-rmse:0.000585 
[11041] train-rmse:0.000585 
[11042] train-rmse:0.000585 
[11043] train-rmse:0.000585 
[11044] train-rmse:0.000585 
[11045] train-rmse:0.000585 
[11046] train-rmse:0.000585 
[11047] train-rmse:0.000585 
[11048] train-rmse:0.000585 
[11049] train-rmse:0.000585 
[11050] train-rmse:0.000585 
[11051] train-rmse:0.000585 
[11052] train-rmse:0.000585 
[11053] train-rmse:0.000585 
[11054] train-rmse:0.000585 
[11055] train-rmse:0.000585 
[11056] train-rmse:0.000585 
[11057] train-rmse:0.000585 
[11058] train-rmse:0.000585 
[11059] train-rmse:0.000585 
[11060] train-rmse:0.000585 
[11061] train-rmse:0.000585 
[11062] train-rmse:0.000585 
[11063] train-rmse:0.000585 
[11064] train-rmse:0.000585 
[11065] train-rmse:0.000585 
[11066] train-rmse:0.000585 
[11067] train-rmse:0.000585 
[11068] train-rmse:0.000585 
[11069] train-rmse:0.000585 
[11070] train-rmse:0.000585 
[11071] train-rmse:0.000585 
[11072] train-rmse:0.000585 
[11073] train-rmse:0.000585 
[11074] train-rmse:0.000585 
[11075] train-rmse:0.000585 
[11076] train-rmse:0.000585 
[11077] train-rmse:0.000585 
[11078] train-rmse:0.000585 
[11079] train-rmse:0.000585 
[11080] train-rmse:0.000585 
[11081] train-rmse:0.000585 
[11082] train-rmse:0.000585 
[11083] train-rmse:0.000585 
[11084] train-rmse:0.000585 
[11085] train-rmse:0.000585 
[11086] train-rmse:0.000585 
[11087] train-rmse:0.000585 
[11088] train-rmse:0.000585 
[11089] train-rmse:0.000585 
[11090] train-rmse:0.000585 
[11091] train-rmse:0.000585 
[11092] train-rmse:0.000585 
[11093] train-rmse:0.000585 
[11094] train-rmse:0.000585 
[11095] train-rmse:0.000585 
[11096] train-rmse:0.000585 
[11097] train-rmse:0.000585 
[11098] train-rmse:0.000585 
[11099] train-rmse:0.000585 
[11100] train-rmse:0.000585 
[11101] train-rmse:0.000585 
[11102] train-rmse:0.000585 
[11103] train-rmse:0.000585 
[11104] train-rmse:0.000585 
[11105] train-rmse:0.000585 
[11106] train-rmse:0.000585 
[11107] train-rmse:0.000585 
[11108] train-rmse:0.000585 
[11109] train-rmse:0.000585 
[11110] train-rmse:0.000585 
[11111] train-rmse:0.000585 
[11112] train-rmse:0.000585 
[11113] train-rmse:0.000585 
[11114] train-rmse:0.000585 
[11115] train-rmse:0.000585 
[11116] train-rmse:0.000585 
[11117] train-rmse:0.000585 
[11118] train-rmse:0.000585 
[11119] train-rmse:0.000585 
[11120] train-rmse:0.000585 
[11121] train-rmse:0.000585 
[11122] train-rmse:0.000585 
[11123] train-rmse:0.000585 
[11124] train-rmse:0.000584 
[11125] train-rmse:0.000584 
[11126] train-rmse:0.000584 
[11127] train-rmse:0.000584 
[11128] train-rmse:0.000584 
[11129] train-rmse:0.000584 
[11130] train-rmse:0.000584 
[11131] train-rmse:0.000584 
[11132] train-rmse:0.000584 
[11133] train-rmse:0.000584 
[11134] train-rmse:0.000584 
[11135] train-rmse:0.000584 
[11136] train-rmse:0.000584 
[11137] train-rmse:0.000584 
[11138] train-rmse:0.000584 
[11139] train-rmse:0.000584 
[11140] train-rmse:0.000584 
[11141] train-rmse:0.000584 
[11142] train-rmse:0.000584 
[11143] train-rmse:0.000584 
[11144] train-rmse:0.000584 
[11145] train-rmse:0.000584 
[11146] train-rmse:0.000584 
[11147] train-rmse:0.000584 
[11148] train-rmse:0.000584 
[11149] train-rmse:0.000584 
[11150] train-rmse:0.000584 
[11151] train-rmse:0.000584 
[11152] train-rmse:0.000584 
[11153] train-rmse:0.000584 
[11154] train-rmse:0.000584 
[11155] train-rmse:0.000584 
[11156] train-rmse:0.000584 
[11157] train-rmse:0.000584 
[11158] train-rmse:0.000584 
[11159] train-rmse:0.000584 
[11160] train-rmse:0.000584 
[11161] train-rmse:0.000584 
[11162] train-rmse:0.000584 
[11163] train-rmse:0.000584 
[11164] train-rmse:0.000584 
[11165] train-rmse:0.000584 
[11166] train-rmse:0.000584 
[11167] train-rmse:0.000584 
[11168] train-rmse:0.000584 
[11169] train-rmse:0.000584 
[11170] train-rmse:0.000584 
[11171] train-rmse:0.000584 
[11172] train-rmse:0.000584 
[11173] train-rmse:0.000584 
[11174] train-rmse:0.000584 
[11175] train-rmse:0.000584 
[11176] train-rmse:0.000584 
[11177] train-rmse:0.000584 
[11178] train-rmse:0.000584 
[11179] train-rmse:0.000584 
[11180] train-rmse:0.000584 
[11181] train-rmse:0.000584 
[11182] train-rmse:0.000584 
[11183] train-rmse:0.000584 
[11184] train-rmse:0.000584 
[11185] train-rmse:0.000584 
[11186] train-rmse:0.000584 
[11187] train-rmse:0.000584 
[11188] train-rmse:0.000584 
[11189] train-rmse:0.000584 
[11190] train-rmse:0.000584 
[11191] train-rmse:0.000584 
[11192] train-rmse:0.000584 
[11193] train-rmse:0.000584 
[11194] train-rmse:0.000584 
[11195] train-rmse:0.000584 
[11196] train-rmse:0.000584 
[11197] train-rmse:0.000584 
[11198] train-rmse:0.000584 
[11199] train-rmse:0.000584 
[11200] train-rmse:0.000584 
[11201] train-rmse:0.000584 
[11202] train-rmse:0.000584 
[11203] train-rmse:0.000584 
[11204] train-rmse:0.000584 
[11205] train-rmse:0.000584 
[11206] train-rmse:0.000584 
[11207] train-rmse:0.000584 
[11208] train-rmse:0.000584 
[11209] train-rmse:0.000584 
[11210] train-rmse:0.000584 
[11211] train-rmse:0.000584 
[11212] train-rmse:0.000584 
[11213] train-rmse:0.000584 
[11214] train-rmse:0.000584 
[11215] train-rmse:0.000584 
[11216] train-rmse:0.000583 
[11217] train-rmse:0.000584 
[11218] train-rmse:0.000584 
[11219] train-rmse:0.000584 
[11220] train-rmse:0.000583 
[11221] train-rmse:0.000583 
[11222] train-rmse:0.000583 
[11223] train-rmse:0.000583 
[11224] train-rmse:0.000583 
[11225] train-rmse:0.000583 
[11226] train-rmse:0.000583 
[11227] train-rmse:0.000582 
[11228] train-rmse:0.000582 
[11229] train-rmse:0.000582 
[11230] train-rmse:0.000582 
[11231] train-rmse:0.000582 
[11232] train-rmse:0.000582 
[11233] train-rmse:0.000582 
[11234] train-rmse:0.000582 
[11235] train-rmse:0.000582 
[11236] train-rmse:0.000582 
[11237] train-rmse:0.000582 
[11238] train-rmse:0.000582 
[11239] train-rmse:0.000582 
[11240] train-rmse:0.000582 
[11241] train-rmse:0.000582 
[11242] train-rmse:0.000582 
[11243] train-rmse:0.000582 
[11244] train-rmse:0.000582 
[11245] train-rmse:0.000582 
[11246] train-rmse:0.000582 
[11247] train-rmse:0.000582 
[11248] train-rmse:0.000582 
[11249] train-rmse:0.000582 
[11250] train-rmse:0.000582 
[11251] train-rmse:0.000582 
[11252] train-rmse:0.000582 
[11253] train-rmse:0.000582 
[11254] train-rmse:0.000582 
[11255] train-rmse:0.000582 
[11256] train-rmse:0.000582 
[11257] train-rmse:0.000582 
[11258] train-rmse:0.000582 
[11259] train-rmse:0.000582 
[11260] train-rmse:0.000582 
[11261] train-rmse:0.000582 
[11262] train-rmse:0.000582 
[11263] train-rmse:0.000582 
[11264] train-rmse:0.000582 
[11265] train-rmse:0.000582 
[11266] train-rmse:0.000582 
[11267] train-rmse:0.000582 
[11268] train-rmse:0.000582 
[11269] train-rmse:0.000582 
[11270] train-rmse:0.000582 
[11271] train-rmse:0.000582 
[11272] train-rmse:0.000582 
[11273] train-rmse:0.000582 
[11274] train-rmse:0.000582 
[11275] train-rmse:0.000582 
[11276] train-rmse:0.000582 
[11277] train-rmse:0.000582 
[11278] train-rmse:0.000582 
[11279] train-rmse:0.000582 
[11280] train-rmse:0.000582 
[11281] train-rmse:0.000582 
[11282] train-rmse:0.000582 
[11283] train-rmse:0.000582 
[11284] train-rmse:0.000582 
[11285] train-rmse:0.000582 
[11286] train-rmse:0.000582 
[11287] train-rmse:0.000582 
[11288] train-rmse:0.000582 
[11289] train-rmse:0.000582 
[11290] train-rmse:0.000582 
[11291] train-rmse:0.000581 
[11292] train-rmse:0.000581 
[11293] train-rmse:0.000581 
[11294] train-rmse:0.000581 
[11295] train-rmse:0.000581 
[11296] train-rmse:0.000581 
[11297] train-rmse:0.000581 
[11298] train-rmse:0.000581 
[11299] train-rmse:0.000581 
[11300] train-rmse:0.000581 
[11301] train-rmse:0.000581 
[11302] train-rmse:0.000581 
[11303] train-rmse:0.000581 
[11304] train-rmse:0.000581 
[11305] train-rmse:0.000581 
[11306] train-rmse:0.000581 
[11307] train-rmse:0.000581 
[11308] train-rmse:0.000581 
[11309] train-rmse:0.000581 
[11310] train-rmse:0.000581 
[11311] train-rmse:0.000581 
[11312] train-rmse:0.000581 
[11313] train-rmse:0.000581 
[11314] train-rmse:0.000581 
[11315] train-rmse:0.000581 
[11316] train-rmse:0.000581 
[11317] train-rmse:0.000581 
[11318] train-rmse:0.000581 
[11319] train-rmse:0.000581 
[11320] train-rmse:0.000581 
[11321] train-rmse:0.000581 
[11322] train-rmse:0.000581 
[11323] train-rmse:0.000581 
[11324] train-rmse:0.000581 
[11325] train-rmse:0.000581 
[11326] train-rmse:0.000581 
[11327] train-rmse:0.000581 
[11328] train-rmse:0.000580 
[11329] train-rmse:0.000580 
[11330] train-rmse:0.000580 
[11331] train-rmse:0.000580 
[11332] train-rmse:0.000580 
[11333] train-rmse:0.000580 
[11334] train-rmse:0.000580 
[11335] train-rmse:0.000580 
[11336] train-rmse:0.000580 
[11337] train-rmse:0.000580 
[11338] train-rmse:0.000580 
[11339] train-rmse:0.000580 
[11340] train-rmse:0.000580 
[11341] train-rmse:0.000580 
[11342] train-rmse:0.000580 
[11343] train-rmse:0.000580 
[11344] train-rmse:0.000580 
[11345] train-rmse:0.000580 
[11346] train-rmse:0.000580 
[11347] train-rmse:0.000580 
[11348] train-rmse:0.000580 
[11349] train-rmse:0.000580 
[11350] train-rmse:0.000580 
[11351] train-rmse:0.000580 
[11352] train-rmse:0.000580 
[11353] train-rmse:0.000580 
[11354] train-rmse:0.000580 
[11355] train-rmse:0.000580 
[11356] train-rmse:0.000580 
[11357] train-rmse:0.000580 
[11358] train-rmse:0.000580 
[11359] train-rmse:0.000580 
[11360] train-rmse:0.000580 
[11361] train-rmse:0.000580 
[11362] train-rmse:0.000580 
[11363] train-rmse:0.000580 
[11364] train-rmse:0.000580 
[11365] train-rmse:0.000580 
[11366] train-rmse:0.000580 
[11367] train-rmse:0.000580 
[11368] train-rmse:0.000580 
[11369] train-rmse:0.000580 
[11370] train-rmse:0.000580 
[11371] train-rmse:0.000580 
[11372] train-rmse:0.000580 
[11373] train-rmse:0.000580 
[11374] train-rmse:0.000580 
[11375] train-rmse:0.000580 
[11376] train-rmse:0.000580 
[11377] train-rmse:0.000580 
[11378] train-rmse:0.000580 
[11379] train-rmse:0.000580 
[11380] train-rmse:0.000580 
[11381] train-rmse:0.000580 
[11382] train-rmse:0.000581 
[11383] train-rmse:0.000580 
[11384] train-rmse:0.000580 
[11385] train-rmse:0.000579 
[11386] train-rmse:0.000579 
[11387] train-rmse:0.000579 
[11388] train-rmse:0.000579 
[11389] train-rmse:0.000579 
[11390] train-rmse:0.000579 
[11391] train-rmse:0.000579 
[11392] train-rmse:0.000579 
[11393] train-rmse:0.000579 
[11394] train-rmse:0.000579 
[11395] train-rmse:0.000579 
[11396] train-rmse:0.000579 
[11397] train-rmse:0.000579 
[11398] train-rmse:0.000579 
[11399] train-rmse:0.000579 
[11400] train-rmse:0.000579 
[11401] train-rmse:0.000579 
[11402] train-rmse:0.000579 
[11403] train-rmse:0.000579 
[11404] train-rmse:0.000579 
[11405] train-rmse:0.000579 
[11406] train-rmse:0.000579 
[11407] train-rmse:0.000579 
[11408] train-rmse:0.000579 
[11409] train-rmse:0.000579 
[11410] train-rmse:0.000579 
[11411] train-rmse:0.000579 
[11412] train-rmse:0.000579 
[11413] train-rmse:0.000579 
[11414] train-rmse:0.000579 
[11415] train-rmse:0.000579 
[11416] train-rmse:0.000579 
[11417] train-rmse:0.000579 
[11418] train-rmse:0.000579 
[11419] train-rmse:0.000579 
[11420] train-rmse:0.000579 
[11421] train-rmse:0.000579 
[11422] train-rmse:0.000579 
[11423] train-rmse:0.000579 
[11424] train-rmse:0.000579 
[11425] train-rmse:0.000578 
[11426] train-rmse:0.000578 
[11427] train-rmse:0.000578 
[11428] train-rmse:0.000578 
[11429] train-rmse:0.000578 
[11430] train-rmse:0.000578 
[11431] train-rmse:0.000578 
[11432] train-rmse:0.000578 
[11433] train-rmse:0.000578 
[11434] train-rmse:0.000578 
[11435] train-rmse:0.000578 
[11436] train-rmse:0.000578 
[11437] train-rmse:0.000578 
[11438] train-rmse:0.000578 
[11439] train-rmse:0.000578 
[11440] train-rmse:0.000578 
[11441] train-rmse:0.000578 
[11442] train-rmse:0.000578 
[11443] train-rmse:0.000578 
[11444] train-rmse:0.000579 
[11445] train-rmse:0.000578 
[11446] train-rmse:0.000578 
[11447] train-rmse:0.000578 
[11448] train-rmse:0.000578 
[11449] train-rmse:0.000578 
[11450] train-rmse:0.000578 
[11451] train-rmse:0.000578 
[11452] train-rmse:0.000578 
[11453] train-rmse:0.000578 
[11454] train-rmse:0.000578 
[11455] train-rmse:0.000578 
[11456] train-rmse:0.000578 
[11457] train-rmse:0.000578 
[11458] train-rmse:0.000578 
[11459] train-rmse:0.000578 
[11460] train-rmse:0.000578 
[11461] train-rmse:0.000578 
[11462] train-rmse:0.000578 
[11463] train-rmse:0.000578 
[11464] train-rmse:0.000578 
[11465] train-rmse:0.000578 
[11466] train-rmse:0.000578 
[11467] train-rmse:0.000578 
[11468] train-rmse:0.000578 
[11469] train-rmse:0.000578 
[11470] train-rmse:0.000578 
[11471] train-rmse:0.000578 
[11472] train-rmse:0.000578 
[11473] train-rmse:0.000578 
[11474] train-rmse:0.000578 
[11475] train-rmse:0.000578 
[11476] train-rmse:0.000578 
[11477] train-rmse:0.000578 
[11478] train-rmse:0.000578 
[11479] train-rmse:0.000578 
[11480] train-rmse:0.000578 
[11481] train-rmse:0.000578 
[11482] train-rmse:0.000578 
[11483] train-rmse:0.000578 
[11484] train-rmse:0.000578 
[11485] train-rmse:0.000578 
[11486] train-rmse:0.000578 
[11487] train-rmse:0.000578 
[11488] train-rmse:0.000578 
[11489] train-rmse:0.000577 
[11490] train-rmse:0.000578 
[11491] train-rmse:0.000578 
[11492] train-rmse:0.000578 
[11493] train-rmse:0.000578 
[11494] train-rmse:0.000577 
[11495] train-rmse:0.000578 
[11496] train-rmse:0.000578 
[11497] train-rmse:0.000578 
[11498] train-rmse:0.000578 
[11499] train-rmse:0.000577 
[11500] train-rmse:0.000577 
[11501] train-rmse:0.000577 
[11502] train-rmse:0.000577 
[11503] train-rmse:0.000577 
[11504] train-rmse:0.000578 
[11505] train-rmse:0.000577 
[11506] train-rmse:0.000578 
[11507] train-rmse:0.000577 
[11508] train-rmse:0.000577 
[11509] train-rmse:0.000577 
[11510] train-rmse:0.000577 
[11511] train-rmse:0.000577 
[11512] train-rmse:0.000578 
[11513] train-rmse:0.000577 
[11514] train-rmse:0.000577 
[11515] train-rmse:0.000578 
[11516] train-rmse:0.000578 
[11517] train-rmse:0.000578 
[11518] train-rmse:0.000578 
[11519] train-rmse:0.000578 
[11520] train-rmse:0.000577 
[11521] train-rmse:0.000577 
[11522] train-rmse:0.000577 
[11523] train-rmse:0.000577 
[11524] train-rmse:0.000577 
[11525] train-rmse:0.000577 
[11526] train-rmse:0.000577 
[11527] train-rmse:0.000577 
[11528] train-rmse:0.000578 
[11529] train-rmse:0.000577 
[11530] train-rmse:0.000577 
[11531] train-rmse:0.000577 
[11532] train-rmse:0.000577 
[11533] train-rmse:0.000578 
[11534] train-rmse:0.000577 
[11535] train-rmse:0.000577 
[11536] train-rmse:0.000577 
[11537] train-rmse:0.000577 
[11538] train-rmse:0.000577 
[11539] train-rmse:0.000578 
[11540] train-rmse:0.000578 
[11541] train-rmse:0.000577 
[11542] train-rmse:0.000577 
[11543] train-rmse:0.000577 
[11544] train-rmse:0.000578 
[11545] train-rmse:0.000578 
[11546] train-rmse:0.000578 
[11547] train-rmse:0.000578 
[11548] train-rmse:0.000577 
[11549] train-rmse:0.000577 
[11550] train-rmse:0.000577 
[11551] train-rmse:0.000577 
[11552] train-rmse:0.000577 
[11553] train-rmse:0.000577 
[11554] train-rmse:0.000577 
[11555] train-rmse:0.000577 
[11556] train-rmse:0.000577 
[11557] train-rmse:0.000577 
[11558] train-rmse:0.000577 
[11559] train-rmse:0.000577 
[11560] train-rmse:0.000577 
[11561] train-rmse:0.000577 
[11562] train-rmse:0.000577 
[11563] train-rmse:0.000577 
[11564] train-rmse:0.000577 
[11565] train-rmse:0.000577 
[11566] train-rmse:0.000577 
[11567] train-rmse:0.000577 
[11568] train-rmse:0.000577 
[11569] train-rmse:0.000577 
[11570] train-rmse:0.000577 
[11571] train-rmse:0.000577 
[11572] train-rmse:0.000577 
[11573] train-rmse:0.000577 
[11574] train-rmse:0.000577 
[11575] train-rmse:0.000577 
[11576] train-rmse:0.000577 
[11577] train-rmse:0.000577 
[11578] train-rmse:0.000577 
[11579] train-rmse:0.000577 
[11580] train-rmse:0.000577 
[11581] train-rmse:0.000577 
[11582] train-rmse:0.000577 
[11583] train-rmse:0.000577 
[11584] train-rmse:0.000577 
[11585] train-rmse:0.000577 
[11586] train-rmse:0.000577 
[11587] train-rmse:0.000577 
[11588] train-rmse:0.000577 
[11589] train-rmse:0.000577 
[11590] train-rmse:0.000577 
[11591] train-rmse:0.000577 
[11592] train-rmse:0.000577 
[11593] train-rmse:0.000577 
[11594] train-rmse:0.000577 
[11595] train-rmse:0.000577 
[11596] train-rmse:0.000577 
[11597] train-rmse:0.000577 
[11598] train-rmse:0.000577 
[11599] train-rmse:0.000577 
[11600] train-rmse:0.000577 
[11601] train-rmse:0.000577 
[11602] train-rmse:0.000577 
[11603] train-rmse:0.000577 
[11604] train-rmse:0.000577 
[11605] train-rmse:0.000577 
[11606] train-rmse:0.000577 
[11607] train-rmse:0.000577 
[11608] train-rmse:0.000577 
[11609] train-rmse:0.000577 
[11610] train-rmse:0.000577 
[11611] train-rmse:0.000577 
[11612] train-rmse:0.000577 
[11613] train-rmse:0.000577 
[11614] train-rmse:0.000577 
[11615] train-rmse:0.000577 
[11616] train-rmse:0.000577 
[11617] train-rmse:0.000577 
[11618] train-rmse:0.000577 
[11619] train-rmse:0.000577 
[11620] train-rmse:0.000577 
[11621] train-rmse:0.000577 
[11622] train-rmse:0.000577 
[11623] train-rmse:0.000577 
[11624] train-rmse:0.000577 
[11625] train-rmse:0.000577 
[11626] train-rmse:0.000577 
[11627] train-rmse:0.000577 
[11628] train-rmse:0.000577 
[11629] train-rmse:0.000577 
[11630] train-rmse:0.000577 
[11631] train-rmse:0.000577 
[11632] train-rmse:0.000577 
[11633] train-rmse:0.000577 
[11634] train-rmse:0.000577 
[11635] train-rmse:0.000577 
[11636] train-rmse:0.000577 
[11637] train-rmse:0.000577 
[11638] train-rmse:0.000577 
[11639] train-rmse:0.000577 
[11640] train-rmse:0.000577 
[11641] train-rmse:0.000577 
[11642] train-rmse:0.000577 
[11643] train-rmse:0.000577 
[11644] train-rmse:0.000577 
[11645] train-rmse:0.000577 
[11646] train-rmse:0.000577 
[11647] train-rmse:0.000577 
[11648] train-rmse:0.000577 
[11649] train-rmse:0.000577 
[11650] train-rmse:0.000577 
[11651] train-rmse:0.000577 
[11652] train-rmse:0.000577 
[11653] train-rmse:0.000577 
[11654] train-rmse:0.000577 
[11655] train-rmse:0.000577 
[11656] train-rmse:0.000577 
[11657] train-rmse:0.000577 
[11658] train-rmse:0.000577 
[11659] train-rmse:0.000577 
[11660] train-rmse:0.000577 
[11661] train-rmse:0.000577 
[11662] train-rmse:0.000577 
[11663] train-rmse:0.000577 
[11664] train-rmse:0.000577 
[11665] train-rmse:0.000577 
[11666] train-rmse:0.000577 
[11667] train-rmse:0.000577 
[11668] train-rmse:0.000577 
[11669] train-rmse:0.000577 
[11670] train-rmse:0.000577 
[11671] train-rmse:0.000577 
[11672] train-rmse:0.000577 
[11673] train-rmse:0.000577 
[11674] train-rmse:0.000577 
[11675] train-rmse:0.000577 
[11676] train-rmse:0.000577 
[11677] train-rmse:0.000577 
[11678] train-rmse:0.000577 
[11679] train-rmse:0.000577 
[11680] train-rmse:0.000577 
[11681] train-rmse:0.000577 
[11682] train-rmse:0.000577 
[11683] train-rmse:0.000577 
[11684] train-rmse:0.000577 
[11685] train-rmse:0.000577 
[11686] train-rmse:0.000576 
[11687] train-rmse:0.000576 
[11688] train-rmse:0.000576 
[11689] train-rmse:0.000576 
[11690] train-rmse:0.000576 
[11691] train-rmse:0.000576 
[11692] train-rmse:0.000576 
[11693] train-rmse:0.000576 
[11694] train-rmse:0.000576 
[11695] train-rmse:0.000576 
[11696] train-rmse:0.000576 
[11697] train-rmse:0.000576 
[11698] train-rmse:0.000576 
[11699] train-rmse:0.000576 
[11700] train-rmse:0.000576 
[11701] train-rmse:0.000576 
[11702] train-rmse:0.000576 
[11703] train-rmse:0.000576 
[11704] train-rmse:0.000576 
[11705] train-rmse:0.000576 
[11706] train-rmse:0.000576 
[11707] train-rmse:0.000576 
[11708] train-rmse:0.000576 
[11709] train-rmse:0.000576 
[11710] train-rmse:0.000576 
[11711] train-rmse:0.000576 
[11712] train-rmse:0.000576 
[11713] train-rmse:0.000576 
[11714] train-rmse:0.000576 
[11715] train-rmse:0.000576 
[11716] train-rmse:0.000576 
[11717] train-rmse:0.000576 
[11718] train-rmse:0.000576 
[11719] train-rmse:0.000576 
[11720] train-rmse:0.000576 
[11721] train-rmse:0.000576 
[11722] train-rmse:0.000576 
[11723] train-rmse:0.000576 
[11724] train-rmse:0.000576 
[11725] train-rmse:0.000576 
[11726] train-rmse:0.000576 
[11727] train-rmse:0.000576 
[11728] train-rmse:0.000576 
[11729] train-rmse:0.000576 
[11730] train-rmse:0.000576 
[11731] train-rmse:0.000576 
[11732] train-rmse:0.000576 
[11733] train-rmse:0.000576 
[11734] train-rmse:0.000576 
[11735] train-rmse:0.000576 
[11736] train-rmse:0.000576 
[11737] train-rmse:0.000576 
[11738] train-rmse:0.000576 
[11739] train-rmse:0.000576 
[11740] train-rmse:0.000576 
[11741] train-rmse:0.000576 
[11742] train-rmse:0.000576 
[11743] train-rmse:0.000576 
[11744] train-rmse:0.000576 
[11745] train-rmse:0.000576 
[11746] train-rmse:0.000576 
[11747] train-rmse:0.000576 
[11748] train-rmse:0.000576 
[11749] train-rmse:0.000576 
[11750] train-rmse:0.000576 
[11751] train-rmse:0.000576 
[11752] train-rmse:0.000576 
[11753] train-rmse:0.000576 
[11754] train-rmse:0.000576 
[11755] train-rmse:0.000576 
[11756] train-rmse:0.000576 
[11757] train-rmse:0.000576 
[11758] train-rmse:0.000576 
[11759] train-rmse:0.000576 
[11760] train-rmse:0.000576 
[11761] train-rmse:0.000576 
[11762] train-rmse:0.000576 
[11763] train-rmse:0.000576 
[11764] train-rmse:0.000576 
[11765] train-rmse:0.000576 
[11766] train-rmse:0.000576 
[11767] train-rmse:0.000576 
[11768] train-rmse:0.000576 
[11769] train-rmse:0.000576 
[11770] train-rmse:0.000576 
[11771] train-rmse:0.000576 
[11772] train-rmse:0.000576 
[11773] train-rmse:0.000576 
[11774] train-rmse:0.000576 
[11775] train-rmse:0.000575 
[11776] train-rmse:0.000575 
[11777] train-rmse:0.000575 
[11778] train-rmse:0.000575 
[11779] train-rmse:0.000575 
[11780] train-rmse:0.000575 
[11781] train-rmse:0.000575 
[11782] train-rmse:0.000575 
[11783] train-rmse:0.000575 
[11784] train-rmse:0.000575 
[11785] train-rmse:0.000575 
[11786] train-rmse:0.000575 
[11787] train-rmse:0.000575 
[11788] train-rmse:0.000575 
[11789] train-rmse:0.000575 
[11790] train-rmse:0.000575 
[11791] train-rmse:0.000575 
[11792] train-rmse:0.000575 
[11793] train-rmse:0.000575 
[11794] train-rmse:0.000575 
[11795] train-rmse:0.000575 
[11796] train-rmse:0.000575 
[11797] train-rmse:0.000575 
[11798] train-rmse:0.000575 
[11799] train-rmse:0.000575 
[11800] train-rmse:0.000575 
[11801] train-rmse:0.000575 
[11802] train-rmse:0.000575 
[11803] train-rmse:0.000575 
[11804] train-rmse:0.000575 
[11805] train-rmse:0.000575 
[11806] train-rmse:0.000575 
[11807] train-rmse:0.000575 
[11808] train-rmse:0.000575 
[11809] train-rmse:0.000575 
[11810] train-rmse:0.000575 
[11811] train-rmse:0.000575 
[11812] train-rmse:0.000575 
[11813] train-rmse:0.000575 
[11814] train-rmse:0.000575 
[11815] train-rmse:0.000575 
[11816] train-rmse:0.000575 
[11817] train-rmse:0.000575 
[11818] train-rmse:0.000575 
[11819] train-rmse:0.000575 
[11820] train-rmse:0.000575 
[11821] train-rmse:0.000575 
[11822] train-rmse:0.000575 
[11823] train-rmse:0.000575 
[11824] train-rmse:0.000575 
[11825] train-rmse:0.000575 
[11826] train-rmse:0.000575 
[11827] train-rmse:0.000575 
[11828] train-rmse:0.000575 
[11829] train-rmse:0.000575 
[11830] train-rmse:0.000575 
[11831] train-rmse:0.000575 
[11832] train-rmse:0.000575 
[11833] train-rmse:0.000575 
[11834] train-rmse:0.000574 
[11835] train-rmse:0.000574 
[11836] train-rmse:0.000574 
[11837] train-rmse:0.000574 
[11838] train-rmse:0.000574 
[11839] train-rmse:0.000574 
[11840] train-rmse:0.000574 
[11841] train-rmse:0.000574 
[11842] train-rmse:0.000574 
[11843] train-rmse:0.000574 
[11844] train-rmse:0.000573 
[11845] train-rmse:0.000573 
[11846] train-rmse:0.000573 
[11847] train-rmse:0.000573 
[11848] train-rmse:0.000573 
[11849] train-rmse:0.000573 
[11850] train-rmse:0.000573 
[11851] train-rmse:0.000573 
[11852] train-rmse:0.000573 
[11853] train-rmse:0.000573 
[11854] train-rmse:0.000573 
[11855] train-rmse:0.000573 
[11856] train-rmse:0.000573 
[11857] train-rmse:0.000573 
[11858] train-rmse:0.000573 
[11859] train-rmse:0.000573 
[11860] train-rmse:0.000573 
[11861] train-rmse:0.000573 
[11862] train-rmse:0.000573 
[11863] train-rmse:0.000573 
[11864] train-rmse:0.000573 
[11865] train-rmse:0.000573 
[11866] train-rmse:0.000573 
[11867] train-rmse:0.000573 
[11868] train-rmse:0.000573 
[11869] train-rmse:0.000573 
[11870] train-rmse:0.000573 
[11871] train-rmse:0.000573 
[11872] train-rmse:0.000573 
[11873] train-rmse:0.000573 
[11874] train-rmse:0.000573 
[11875] train-rmse:0.000573 
[11876] train-rmse:0.000573 
[11877] train-rmse:0.000573 
[11878] train-rmse:0.000573 
[11879] train-rmse:0.000573 
[11880] train-rmse:0.000573 
[11881] train-rmse:0.000573 
[11882] train-rmse:0.000573 
[11883] train-rmse:0.000573 
[11884] train-rmse:0.000573 
[11885] train-rmse:0.000573 
[11886] train-rmse:0.000573 
[11887] train-rmse:0.000573 
[11888] train-rmse:0.000573 
[11889] train-rmse:0.000573 
[11890] train-rmse:0.000573 
[11891] train-rmse:0.000573 
[11892] train-rmse:0.000573 
[11893] train-rmse:0.000573 
[11894] train-rmse:0.000573 
[11895] train-rmse:0.000573 
[11896] train-rmse:0.000573 
[11897] train-rmse:0.000573 
[11898] train-rmse:0.000573 
[11899] train-rmse:0.000573 
[11900] train-rmse:0.000573 
[11901] train-rmse:0.000573 
[11902] train-rmse:0.000573 
[11903] train-rmse:0.000573 
[11904] train-rmse:0.000573 
[11905] train-rmse:0.000573 
[11906] train-rmse:0.000573 
[11907] train-rmse:0.000573 
[11908] train-rmse:0.000573 
[11909] train-rmse:0.000573 
[11910] train-rmse:0.000573 
[11911] train-rmse:0.000573 
[11912] train-rmse:0.000573 
[11913] train-rmse:0.000573 
[11914] train-rmse:0.000573 
[11915] train-rmse:0.000573 
[11916] train-rmse:0.000573 
[11917] train-rmse:0.000573 
[11918] train-rmse:0.000573 
[11919] train-rmse:0.000573 
[11920] train-rmse:0.000573 
[11921] train-rmse:0.000573 
[11922] train-rmse:0.000573 
[11923] train-rmse:0.000573 
[11924] train-rmse:0.000573 
[11925] train-rmse:0.000573 
[11926] train-rmse:0.000573 
[11927] train-rmse:0.000573 
[11928] train-rmse:0.000573 
[11929] train-rmse:0.000573 
[11930] train-rmse:0.000573 
[11931] train-rmse:0.000573 
[11932] train-rmse:0.000573 
[11933] train-rmse:0.000573 
[11934] train-rmse:0.000573 
[11935] train-rmse:0.000573 
[11936] train-rmse:0.000573 
[11937] train-rmse:0.000573 
[11938] train-rmse:0.000573 
[11939] train-rmse:0.000573 
[11940] train-rmse:0.000573 
[11941] train-rmse:0.000573 
[11942] train-rmse:0.000573 
[11943] train-rmse:0.000573 
[11944] train-rmse:0.000573 
[11945] train-rmse:0.000573 
[11946] train-rmse:0.000573 
[11947] train-rmse:0.000573 
[11948] train-rmse:0.000573 
[11949] train-rmse:0.000573 
[11950] train-rmse:0.000573 
[11951] train-rmse:0.000573 
[11952] train-rmse:0.000573 
[11953] train-rmse:0.000573 
[11954] train-rmse:0.000573 
[11955] train-rmse:0.000573 
[11956] train-rmse:0.000573 
[11957] train-rmse:0.000573 
[11958] train-rmse:0.000573 
[11959] train-rmse:0.000573 
[11960] train-rmse:0.000573 
[11961] train-rmse:0.000573 
[11962] train-rmse:0.000573 
[11963] train-rmse:0.000573 
[11964] train-rmse:0.000573 
[11965] train-rmse:0.000573 
[11966] train-rmse:0.000573 
[11967] train-rmse:0.000573 
[11968] train-rmse:0.000573 
[11969] train-rmse:0.000573 
[11970] train-rmse:0.000573 
[11971] train-rmse:0.000573 
[11972] train-rmse:0.000573 
[11973] train-rmse:0.000573 
[11974] train-rmse:0.000573 
[11975] train-rmse:0.000573 
[11976] train-rmse:0.000573 
[11977] train-rmse:0.000573 
[11978] train-rmse:0.000573 
[11979] train-rmse:0.000573 
[11980] train-rmse:0.000573 
[11981] train-rmse:0.000573 
[11982] train-rmse:0.000573 
[11983] train-rmse:0.000573 
[11984] train-rmse:0.000573 
[11985] train-rmse:0.000573 
[11986] train-rmse:0.000573 
[11987] train-rmse:0.000573 
[11988] train-rmse:0.000573 
[11989] train-rmse:0.000573 
[11990] train-rmse:0.000573 
[11991] train-rmse:0.000573 
[11992] train-rmse:0.000573 
[11993] train-rmse:0.000573 
[11994] train-rmse:0.000573 
[11995] train-rmse:0.000573 
[11996] train-rmse:0.000573 
[11997] train-rmse:0.000573 
[11998] train-rmse:0.000573 
[11999] train-rmse:0.000573 
[12000] train-rmse:0.000573 
[12001] train-rmse:0.000573 
[12002] train-rmse:0.000573 
[12003] train-rmse:0.000573 
[12004] train-rmse:0.000573 
[12005] train-rmse:0.000573 
[12006] train-rmse:0.000573 
[12007] train-rmse:0.000573 
[12008] train-rmse:0.000573 
[12009] train-rmse:0.000573 
[12010] train-rmse:0.000573 
[12011] train-rmse:0.000573 
[12012] train-rmse:0.000573 
[12013] train-rmse:0.000573 
[12014] train-rmse:0.000573 
[12015] train-rmse:0.000573 
[12016] train-rmse:0.000573 
[12017] train-rmse:0.000573 
[12018] train-rmse:0.000573 
[12019] train-rmse:0.000573 
[12020] train-rmse:0.000573 
[12021] train-rmse:0.000573 
[12022] train-rmse:0.000573 
[12023] train-rmse:0.000573 
[12024] train-rmse:0.000573 
[12025] train-rmse:0.000573 
[12026] train-rmse:0.000573 
[12027] train-rmse:0.000573 
[12028] train-rmse:0.000573 
[12029] train-rmse:0.000573 
[12030] train-rmse:0.000573 
[12031] train-rmse:0.000573 
[12032] train-rmse:0.000573 
[12033] train-rmse:0.000573 
[12034] train-rmse:0.000573 
[12035] train-rmse:0.000573 
[12036] train-rmse:0.000573 
[12037] train-rmse:0.000573 
[12038] train-rmse:0.000573 
[12039] train-rmse:0.000573 
[12040] train-rmse:0.000573 
[12041] train-rmse:0.000573 
[12042] train-rmse:0.000573 
[12043] train-rmse:0.000573 
[12044] train-rmse:0.000573 
[12045] train-rmse:0.000572 
[12046] train-rmse:0.000572 
[12047] train-rmse:0.000572 
[12048] train-rmse:0.000572 
[12049] train-rmse:0.000572 
[12050] train-rmse:0.000572 
[12051] train-rmse:0.000572 
[12052] train-rmse:0.000572 
[12053] train-rmse:0.000572 
[12054] train-rmse:0.000572 
[12055] train-rmse:0.000572 
[12056] train-rmse:0.000572 
[12057] train-rmse:0.000572 
[12058] train-rmse:0.000572 
[12059] train-rmse:0.000572 
[12060] train-rmse:0.000572 
[12061] train-rmse:0.000572 
[12062] train-rmse:0.000572 
[12063] train-rmse:0.000572 
[12064] train-rmse:0.000572 
[12065] train-rmse:0.000572 
[12066] train-rmse:0.000572 
[12067] train-rmse:0.000572 
[12068] train-rmse:0.000572 
[12069] train-rmse:0.000572 
[12070] train-rmse:0.000572 
[12071] train-rmse:0.000572 
[12072] train-rmse:0.000572 
[12073] train-rmse:0.000572 
[12074] train-rmse:0.000572 
[12075] train-rmse:0.000572 
[12076] train-rmse:0.000572 
[12077] train-rmse:0.000572 
[12078] train-rmse:0.000572 
[12079] train-rmse:0.000572 
[12080] train-rmse:0.000572 
[12081] train-rmse:0.000572 
[12082] train-rmse:0.000572 
[12083] train-rmse:0.000572 
[12084] train-rmse:0.000572 
[12085] train-rmse:0.000572 
[12086] train-rmse:0.000572 
[12087] train-rmse:0.000572 
[12088] train-rmse:0.000572 
[12089] train-rmse:0.000572 
[12090] train-rmse:0.000572 
[12091] train-rmse:0.000572 
[12092] train-rmse:0.000572 
[12093] train-rmse:0.000572 
[12094] train-rmse:0.000572 
[12095] train-rmse:0.000572 
[12096] train-rmse:0.000572 
[12097] train-rmse:0.000572 
[12098] train-rmse:0.000572 
[12099] train-rmse:0.000572 
[12100] train-rmse:0.000572 
[12101] train-rmse:0.000572 
[12102] train-rmse:0.000572 
[12103] train-rmse:0.000572 
[12104] train-rmse:0.000572 
[12105] train-rmse:0.000572 
[12106] train-rmse:0.000572 
[12107] train-rmse:0.000572 
[12108] train-rmse:0.000572 
[12109] train-rmse:0.000572 
[12110] train-rmse:0.000572 
[12111] train-rmse:0.000572 
[12112] train-rmse:0.000572 
[12113] train-rmse:0.000572 
[12114] train-rmse:0.000572 
[12115] train-rmse:0.000572 
[12116] train-rmse:0.000572 
[12117] train-rmse:0.000572 
[12118] train-rmse:0.000572 
[12119] train-rmse:0.000572 
[12120] train-rmse:0.000572 
[12121] train-rmse:0.000572 
[12122] train-rmse:0.000572 
[12123] train-rmse:0.000572 
[12124] train-rmse:0.000572 
[12125] train-rmse:0.000572 
[12126] train-rmse:0.000572 
[12127] train-rmse:0.000572 
[12128] train-rmse:0.000572 
[12129] train-rmse:0.000572 
[12130] train-rmse:0.000572 
[12131] train-rmse:0.000572 
[12132] train-rmse:0.000572 
[12133] train-rmse:0.000572 
[12134] train-rmse:0.000572 
[12135] train-rmse:0.000572 
[12136] train-rmse:0.000572 
[12137] train-rmse:0.000572 
[12138] train-rmse:0.000572 
[12139] train-rmse:0.000572 
[12140] train-rmse:0.000572 
[12141] train-rmse:0.000572 
[12142] train-rmse:0.000572 
[12143] train-rmse:0.000572 
[12144] train-rmse:0.000572 
[12145] train-rmse:0.000572 
[12146] train-rmse:0.000572 
[12147] train-rmse:0.000572 
[12148] train-rmse:0.000572 
[12149] train-rmse:0.000572 
[12150] train-rmse:0.000572 
[12151] train-rmse:0.000572 
[12152] train-rmse:0.000572 
[12153] train-rmse:0.000572 
[12154] train-rmse:0.000572 
[12155] train-rmse:0.000572 
[12156] train-rmse:0.000572 
[12157] train-rmse:0.000572 
[12158] train-rmse:0.000572 
[12159] train-rmse:0.000572 
[12160] train-rmse:0.000572 
[12161] train-rmse:0.000572 
[12162] train-rmse:0.000572 
[12163] train-rmse:0.000572 
[12164] train-rmse:0.000572 
[12165] train-rmse:0.000572 
[12166] train-rmse:0.000572 
[12167] train-rmse:0.000572 
[12168] train-rmse:0.000572 
[12169] train-rmse:0.000572 
[12170] train-rmse:0.000572 
[12171] train-rmse:0.000572 
[12172] train-rmse:0.000572 
[12173] train-rmse:0.000572 
[12174] train-rmse:0.000572 
[12175] train-rmse:0.000572 
[12176] train-rmse:0.000572 
[12177] train-rmse:0.000572 
[12178] train-rmse:0.000572 
[12179] train-rmse:0.000572 
[12180] train-rmse:0.000572 
[12181] train-rmse:0.000572 
[12182] train-rmse:0.000572 
[12183] train-rmse:0.000572 
[12184] train-rmse:0.000572 
[12185] train-rmse:0.000572 
[12186] train-rmse:0.000572 
[12187] train-rmse:0.000572 
[12188] train-rmse:0.000572 
[12189] train-rmse:0.000572 
[12190] train-rmse:0.000572 
[12191] train-rmse:0.000572 
[12192] train-rmse:0.000572 
[12193] train-rmse:0.000572 
[12194] train-rmse:0.000572 
[12195] train-rmse:0.000572 
[12196] train-rmse:0.000572 
[12197] train-rmse:0.000572 
[12198] train-rmse:0.000572 
[12199] train-rmse:0.000572 
[12200] train-rmse:0.000572 
[12201] train-rmse:0.000572 
[12202] train-rmse:0.000572 
[12203] train-rmse:0.000572 
[12204] train-rmse:0.000572 
[12205] train-rmse:0.000572 
[12206] train-rmse:0.000572 
[12207] train-rmse:0.000572 
[12208] train-rmse:0.000572 
[12209] train-rmse:0.000572 
[12210] train-rmse:0.000572 
[12211] train-rmse:0.000572 
[12212] train-rmse:0.000572 
[12213] train-rmse:0.000572 
[12214] train-rmse:0.000572 
[12215] train-rmse:0.000572 
[12216] train-rmse:0.000572 
[12217] train-rmse:0.000572 
[12218] train-rmse:0.000572 
[12219] train-rmse:0.000572 
[12220] train-rmse:0.000572 
[12221] train-rmse:0.000572 
[12222] train-rmse:0.000572 
[12223] train-rmse:0.000572 
[12224] train-rmse:0.000572 
[12225] train-rmse:0.000572 
[12226] train-rmse:0.000572 
[12227] train-rmse:0.000572 
[12228] train-rmse:0.000572 
[12229] train-rmse:0.000572 
[12230] train-rmse:0.000572 
[12231] train-rmse:0.000572 
[12232] train-rmse:0.000572 
[12233] train-rmse:0.000572 
[12234] train-rmse:0.000572 
[12235] train-rmse:0.000572 
[12236] train-rmse:0.000572 
[12237] train-rmse:0.000572 
[12238] train-rmse:0.000572 
[12239] train-rmse:0.000572 
[12240] train-rmse:0.000572 
[12241] train-rmse:0.000572 
[12242] train-rmse:0.000572 
[12243] train-rmse:0.000572 
[12244] train-rmse:0.000572 
[12245] train-rmse:0.000572 
[12246] train-rmse:0.000572 
[12247] train-rmse:0.000572 
[12248] train-rmse:0.000572 
[12249] train-rmse:0.000572 
[12250] train-rmse:0.000572 
[12251] train-rmse:0.000572 
[12252] train-rmse:0.000572 
[12253] train-rmse:0.000572 
[12254] train-rmse:0.000572 
[12255] train-rmse:0.000572 
[12256] train-rmse:0.000572 
[12257] train-rmse:0.000572 
[12258] train-rmse:0.000572 
[12259] train-rmse:0.000572 
[12260] train-rmse:0.000572 
[12261] train-rmse:0.000572 
[12262] train-rmse:0.000572 
[12263] train-rmse:0.000572 
[12264] train-rmse:0.000572 
[12265] train-rmse:0.000572 
[12266] train-rmse:0.000572 
[12267] train-rmse:0.000572 
[12268] train-rmse:0.000572 
[12269] train-rmse:0.000572 
[12270] train-rmse:0.000572 
[12271] train-rmse:0.000572 
[12272] train-rmse:0.000572 
[12273] train-rmse:0.000572 
[12274] train-rmse:0.000572 
[12275] train-rmse:0.000572 
[12276] train-rmse:0.000572 
[12277] train-rmse:0.000572 
[12278] train-rmse:0.000572 
[12279] train-rmse:0.000572 
[12280] train-rmse:0.000572 
[12281] train-rmse:0.000572 
[12282] train-rmse:0.000572 
[12283] train-rmse:0.000572 
[12284] train-rmse:0.000572 
[12285] train-rmse:0.000572 
[12286] train-rmse:0.000572 
[12287] train-rmse:0.000572 
[12288] train-rmse:0.000572 
[12289] train-rmse:0.000572 
[12290] train-rmse:0.000572 
[12291] train-rmse:0.000572 
[12292] train-rmse:0.000572 
[12293] train-rmse:0.000572 
[12294] train-rmse:0.000572 
[12295] train-rmse:0.000572 
[12296] train-rmse:0.000572 
[12297] train-rmse:0.000572 
[12298] train-rmse:0.000572 
[12299] train-rmse:0.000572 
[12300] train-rmse:0.000572 
[12301] train-rmse:0.000572 
[12302] train-rmse:0.000572 
[12303] train-rmse:0.000572 
[12304] train-rmse:0.000572 
[12305] train-rmse:0.000572 
[12306] train-rmse:0.000572 
[12307] train-rmse:0.000572 
[12308] train-rmse:0.000572 
[12309] train-rmse:0.000572 
[12310] train-rmse:0.000572 
[12311] train-rmse:0.000572 
[12312] train-rmse:0.000572 
[12313] train-rmse:0.000572 
[12314] train-rmse:0.000572 
[12315] train-rmse:0.000572 
[12316] train-rmse:0.000571 
[12317] train-rmse:0.000571 
[12318] train-rmse:0.000571 
[12319] train-rmse:0.000571 
[12320] train-rmse:0.000571 
[12321] train-rmse:0.000571 
[12322] train-rmse:0.000571 
[12323] train-rmse:0.000571 
[12324] train-rmse:0.000571 
[12325] train-rmse:0.000571 
[12326] train-rmse:0.000571 
[12327] train-rmse:0.000571 
[12328] train-rmse:0.000571 
[12329] train-rmse:0.000571 
[12330] train-rmse:0.000571 
[12331] train-rmse:0.000571 
[12332] train-rmse:0.000571 
[12333] train-rmse:0.000571 
[12334] train-rmse:0.000571 
[12335] train-rmse:0.000571 
[12336] train-rmse:0.000571 
[12337] train-rmse:0.000571 
[12338] train-rmse:0.000571 
[12339] train-rmse:0.000571 
[12340] train-rmse:0.000571 
[12341] train-rmse:0.000571 
[12342] train-rmse:0.000571 
[12343] train-rmse:0.000571 
[12344] train-rmse:0.000571 
[12345] train-rmse:0.000571 
[12346] train-rmse:0.000571 
[12347] train-rmse:0.000571 
[12348] train-rmse:0.000571 
[12349] train-rmse:0.000571 
[12350] train-rmse:0.000571 
[12351] train-rmse:0.000571 
[12352] train-rmse:0.000571 
[12353] train-rmse:0.000571 
[12354] train-rmse:0.000571 
[12355] train-rmse:0.000571 
[12356] train-rmse:0.000571 
[12357] train-rmse:0.000571 
[12358] train-rmse:0.000571 
[12359] train-rmse:0.000571 
[12360] train-rmse:0.000571 
[12361] train-rmse:0.000571 
[12362] train-rmse:0.000571 
[12363] train-rmse:0.000571 
[12364] train-rmse:0.000571 
[12365] train-rmse:0.000571 
[12366] train-rmse:0.000571 
[12367] train-rmse:0.000571 
[12368] train-rmse:0.000571 
[12369] train-rmse:0.000571 
[12370] train-rmse:0.000571 
[12371] train-rmse:0.000571 
[12372] train-rmse:0.000571 
[12373] train-rmse:0.000571 
[12374] train-rmse:0.000571 
[12375] train-rmse:0.000571 
[12376] train-rmse:0.000571 
[12377] train-rmse:0.000571 
[12378] train-rmse:0.000571 
[12379] train-rmse:0.000571 
[12380] train-rmse:0.000571 
[12381] train-rmse:0.000571 
[12382] train-rmse:0.000571 
[12383] train-rmse:0.000571 
[12384] train-rmse:0.000571 
[12385] train-rmse:0.000571 
[12386] train-rmse:0.000571 
[12387] train-rmse:0.000571 
[12388] train-rmse:0.000571 
[12389] train-rmse:0.000571 
[12390] train-rmse:0.000571 
[12391] train-rmse:0.000570 
[12392] train-rmse:0.000570 
[12393] train-rmse:0.000570 
[12394] train-rmse:0.000570 
[12395] train-rmse:0.000570 
[12396] train-rmse:0.000570 
[12397] train-rmse:0.000570 
[12398] train-rmse:0.000570 
[12399] train-rmse:0.000570 
[12400] train-rmse:0.000570 
[12401] train-rmse:0.000570 
[12402] train-rmse:0.000570 
[12403] train-rmse:0.000570 
[12404] train-rmse:0.000570 
[12405] train-rmse:0.000570 
[12406] train-rmse:0.000570 
[12407] train-rmse:0.000570 
[12408] train-rmse:0.000570 
[12409] train-rmse:0.000570 
[12410] train-rmse:0.000570 
[12411] train-rmse:0.000570 
[12412] train-rmse:0.000570 
[12413] train-rmse:0.000570 
[12414] train-rmse:0.000570 
[12415] train-rmse:0.000570 
[12416] train-rmse:0.000570 
[12417] train-rmse:0.000570 
[12418] train-rmse:0.000570 
[12419] train-rmse:0.000570 
[12420] train-rmse:0.000570 
[12421] train-rmse:0.000570 
[12422] train-rmse:0.000570 
[12423] train-rmse:0.000570 
[12424] train-rmse:0.000570 
[12425] train-rmse:0.000570 
[12426] train-rmse:0.000570 
[12427] train-rmse:0.000570 
[12428] train-rmse:0.000570 
[12429] train-rmse:0.000570 
[12430] train-rmse:0.000570 
[12431] train-rmse:0.000570 
[12432] train-rmse:0.000570 
[12433] train-rmse:0.000570 
[12434] train-rmse:0.000570 
[12435] train-rmse:0.000570 
[12436] train-rmse:0.000570 
[12437] train-rmse:0.000570 
[12438] train-rmse:0.000570 
[12439] train-rmse:0.000570 
[12440] train-rmse:0.000570 
[12441] train-rmse:0.000570 
[12442] train-rmse:0.000570 
[12443] train-rmse:0.000570 
[12444] train-rmse:0.000570 
[12445] train-rmse:0.000570 
[12446] train-rmse:0.000570 
[12447] train-rmse:0.000570 
[12448] train-rmse:0.000570 
[12449] train-rmse:0.000570 
[12450] train-rmse:0.000570 
[12451] train-rmse:0.000570 
[12452] train-rmse:0.000570 
[12453] train-rmse:0.000570 
[12454] train-rmse:0.000570 
[12455] train-rmse:0.000570 
[12456] train-rmse:0.000570 
[12457] train-rmse:0.000570 
[12458] train-rmse:0.000570 
[12459] train-rmse:0.000570 
[12460] train-rmse:0.000570 
[12461] train-rmse:0.000570 
[12462] train-rmse:0.000569 
[12463] train-rmse:0.000569 
[12464] train-rmse:0.000569 
[12465] train-rmse:0.000569 
[12466] train-rmse:0.000569 
[12467] train-rmse:0.000569 
[12468] train-rmse:0.000569 
[12469] train-rmse:0.000569 
[12470] train-rmse:0.000569 
[12471] train-rmse:0.000569 
[12472] train-rmse:0.000569 
[12473] train-rmse:0.000569 
[12474] train-rmse:0.000569 
[12475] train-rmse:0.000569 
[12476] train-rmse:0.000569 
[12477] train-rmse:0.000569 
[12478] train-rmse:0.000569 
[12479] train-rmse:0.000569 
[12480] train-rmse:0.000569 
[12481] train-rmse:0.000569 
[12482] train-rmse:0.000569 
[12483] train-rmse:0.000569 
[12484] train-rmse:0.000569 
[12485] train-rmse:0.000569 
[12486] train-rmse:0.000569 
[12487] train-rmse:0.000569 
[12488] train-rmse:0.000569 
[12489] train-rmse:0.000569 
[12490] train-rmse:0.000570 
[12491] train-rmse:0.000570 
[12492] train-rmse:0.000570 
[12493] train-rmse:0.000570 
[12494] train-rmse:0.000570 
[12495] train-rmse:0.000570 
[12496] train-rmse:0.000570 
[12497] train-rmse:0.000570 
[12498] train-rmse:0.000569 
[12499] train-rmse:0.000569 
[12500] train-rmse:0.000569 
[12501] train-rmse:0.000569 
[12502] train-rmse:0.000569 
[12503] train-rmse:0.000569 
[12504] train-rmse:0.000569 
[12505] train-rmse:0.000569 
[12506] train-rmse:0.000569 
[12507] train-rmse:0.000569 
[12508] train-rmse:0.000569 
[12509] train-rmse:0.000569 
[12510] train-rmse:0.000569 
[12511] train-rmse:0.000569 
[12512] train-rmse:0.000569 
[12513] train-rmse:0.000569 
[12514] train-rmse:0.000569 
[12515] train-rmse:0.000569 
[12516] train-rmse:0.000569 
[12517] train-rmse:0.000569 
[12518] train-rmse:0.000569 
[12519] train-rmse:0.000569 
[12520] train-rmse:0.000569 
[12521] train-rmse:0.000569 
[12522] train-rmse:0.000569 
[12523] train-rmse:0.000569 
[12524] train-rmse:0.000569 
[12525] train-rmse:0.000569 
[12526] train-rmse:0.000569 
[12527] train-rmse:0.000569 
[12528] train-rmse:0.000569 
[12529] train-rmse:0.000569 
[12530] train-rmse:0.000569 
[12531] train-rmse:0.000569 
[12532] train-rmse:0.000569 
[12533] train-rmse:0.000569 
[12534] train-rmse:0.000569 
[12535] train-rmse:0.000569 
[12536] train-rmse:0.000569 
[12537] train-rmse:0.000569 
[12538] train-rmse:0.000569 
[12539] train-rmse:0.000569 
[12540] train-rmse:0.000569 
[12541] train-rmse:0.000569 
[12542] train-rmse:0.000569 
[12543] train-rmse:0.000569 
[12544] train-rmse:0.000569 
[12545] train-rmse:0.000569 
[12546] train-rmse:0.000569 
[12547] train-rmse:0.000569 
[12548] train-rmse:0.000569 
[12549] train-rmse:0.000569 
[12550] train-rmse:0.000569 
[12551] train-rmse:0.000569 
[12552] train-rmse:0.000569 
[12553] train-rmse:0.000569 
[12554] train-rmse:0.000569 
[12555] train-rmse:0.000569 
[12556] train-rmse:0.000569 
[12557] train-rmse:0.000569 
[12558] train-rmse:0.000569 
[12559] train-rmse:0.000569 
[12560] train-rmse:0.000569 
[12561] train-rmse:0.000569 
[12562] train-rmse:0.000569 
[12563] train-rmse:0.000569 
[12564] train-rmse:0.000569 
[12565] train-rmse:0.000569 
[12566] train-rmse:0.000569 
[12567] train-rmse:0.000569 
[12568] train-rmse:0.000569 
[12569] train-rmse:0.000569 
[12570] train-rmse:0.000569 
[12571] train-rmse:0.000569 
[12572] train-rmse:0.000569 
[12573] train-rmse:0.000569 
[12574] train-rmse:0.000569 
[12575] train-rmse:0.000569 
[12576] train-rmse:0.000569 
[12577] train-rmse:0.000569 
[12578] train-rmse:0.000569 
[12579] train-rmse:0.000569 
[12580] train-rmse:0.000569 
[12581] train-rmse:0.000569 
[12582] train-rmse:0.000569 
[12583] train-rmse:0.000569 
[12584] train-rmse:0.000569 
[12585] train-rmse:0.000569 
[12586] train-rmse:0.000569 
[12587] train-rmse:0.000569 
[12588] train-rmse:0.000569 
[12589] train-rmse:0.000569 
[12590] train-rmse:0.000569 
[12591] train-rmse:0.000569 
[12592] train-rmse:0.000569 
[12593] train-rmse:0.000569 
[12594] train-rmse:0.000569 
[12595] train-rmse:0.000569 
[12596] train-rmse:0.000569 
[12597] train-rmse:0.000569 
[12598] train-rmse:0.000569 
[12599] train-rmse:0.000569 
[12600] train-rmse:0.000569 
[12601] train-rmse:0.000569 
[12602] train-rmse:0.000569 
[12603] train-rmse:0.000569 
[12604] train-rmse:0.000569 
[12605] train-rmse:0.000569 
[12606] train-rmse:0.000569 
[12607] train-rmse:0.000569 
[12608] train-rmse:0.000569 
[12609] train-rmse:0.000569 
[12610] train-rmse:0.000569 
[12611] train-rmse:0.000569 
[12612] train-rmse:0.000569 
[12613] train-rmse:0.000569 
[12614] train-rmse:0.000569 
[12615] train-rmse:0.000569 
[12616] train-rmse:0.000569 
[12617] train-rmse:0.000569 
[12618] train-rmse:0.000569 
[12619] train-rmse:0.000569 
[12620] train-rmse:0.000569 
[12621] train-rmse:0.000569 
[12622] train-rmse:0.000569 
[12623] train-rmse:0.000569 
[12624] train-rmse:0.000569 
[12625] train-rmse:0.000569 
[12626] train-rmse:0.000569 
[12627] train-rmse:0.000569 
[12628] train-rmse:0.000569 
[12629] train-rmse:0.000569 
[12630] train-rmse:0.000569 
[12631] train-rmse:0.000569 
[12632] train-rmse:0.000569 
[12633] train-rmse:0.000569 
[12634] train-rmse:0.000569 
[12635] train-rmse:0.000569 
[12636] train-rmse:0.000569 
[12637] train-rmse:0.000569 
[12638] train-rmse:0.000569 
[12639] train-rmse:0.000569 
[12640] train-rmse:0.000569 
[12641] train-rmse:0.000569 
[12642] train-rmse:0.000569 
[12643] train-rmse:0.000569 
[12644] train-rmse:0.000569 
[12645] train-rmse:0.000569 
[12646] train-rmse:0.000569 
[12647] train-rmse:0.000569 
[12648] train-rmse:0.000569 
[12649] train-rmse:0.000569 
[12650] train-rmse:0.000569 
[12651] train-rmse:0.000569 
[12652] train-rmse:0.000569 
[12653] train-rmse:0.000569 
[12654] train-rmse:0.000569 
[12655] train-rmse:0.000569 
[12656] train-rmse:0.000569 
[12657] train-rmse:0.000569 
[12658] train-rmse:0.000569 
[12659] train-rmse:0.000569 
[12660] train-rmse:0.000569 
[12661] train-rmse:0.000569 
[12662] train-rmse:0.000569 
[12663] train-rmse:0.000569 
[12664] train-rmse:0.000569 
[12665] train-rmse:0.000569 
[12666] train-rmse:0.000569 
[12667] train-rmse:0.000569 
[12668] train-rmse:0.000569 
[12669] train-rmse:0.000569 
[12670] train-rmse:0.000569 
[12671] train-rmse:0.000569 
[12672] train-rmse:0.000569 
[12673] train-rmse:0.000569 
[12674] train-rmse:0.000569 
[12675] train-rmse:0.000569 
[12676] train-rmse:0.000569 
[12677] train-rmse:0.000569 
[12678] train-rmse:0.000569 
[12679] train-rmse:0.000569 
[12680] train-rmse:0.000569 
[12681] train-rmse:0.000569 
[12682] train-rmse:0.000569 
[12683] train-rmse:0.000569 
[12684] train-rmse:0.000569 
[12685] train-rmse:0.000569 
[12686] train-rmse:0.000569 
[12687] train-rmse:0.000569 
[12688] train-rmse:0.000568 
[12689] train-rmse:0.000568 
[12690] train-rmse:0.000568 
[12691] train-rmse:0.000568 
[12692] train-rmse:0.000568 
[12693] train-rmse:0.000568 
[12694] train-rmse:0.000568 
[12695] train-rmse:0.000568 
[12696] train-rmse:0.000568 
[12697] train-rmse:0.000568 
[12698] train-rmse:0.000568 
[12699] train-rmse:0.000568 
[12700] train-rmse:0.000568 
[12701] train-rmse:0.000568 
[12702] train-rmse:0.000568 
[12703] train-rmse:0.000568 
[12704] train-rmse:0.000568 
[12705] train-rmse:0.000568 
[12706] train-rmse:0.000568 
[12707] train-rmse:0.000568 
[12708] train-rmse:0.000568 
[12709] train-rmse:0.000568 
[12710] train-rmse:0.000568 
[12711] train-rmse:0.000568 
[12712] train-rmse:0.000568 
[12713] train-rmse:0.000568 
[12714] train-rmse:0.000568 
[12715] train-rmse:0.000568 
[12716] train-rmse:0.000568 
[12717] train-rmse:0.000568 
[12718] train-rmse:0.000568 
[12719] train-rmse:0.000568 
[12720] train-rmse:0.000568 
[12721] train-rmse:0.000568 
[12722] train-rmse:0.000568 
[12723] train-rmse:0.000568 
[12724] train-rmse:0.000568 
[12725] train-rmse:0.000568 
[12726] train-rmse:0.000568 
[12727] train-rmse:0.000568 
[12728] train-rmse:0.000568 
[12729] train-rmse:0.000568 
[12730] train-rmse:0.000568 
[12731] train-rmse:0.000568 
[12732] train-rmse:0.000568 
[12733] train-rmse:0.000568 
[12734] train-rmse:0.000568 
[12735] train-rmse:0.000568 
[12736] train-rmse:0.000568 
[12737] train-rmse:0.000568 
[12738] train-rmse:0.000568 
[12739] train-rmse:0.000568 
[12740] train-rmse:0.000568 
[12741] train-rmse:0.000568 
[12742] train-rmse:0.000568 
[12743] train-rmse:0.000568 
[12744] train-rmse:0.000568 
[12745] train-rmse:0.000568 
[12746] train-rmse:0.000568 
[12747] train-rmse:0.000568 
[12748] train-rmse:0.000568 
[12749] train-rmse:0.000568 
[12750] train-rmse:0.000568 
[12751] train-rmse:0.000568 
[12752] train-rmse:0.000568 
[12753] train-rmse:0.000568 
[12754] train-rmse:0.000568 
[12755] train-rmse:0.000568 
[12756] train-rmse:0.000568 
[12757] train-rmse:0.000568 
[12758] train-rmse:0.000568 
[12759] train-rmse:0.000568 
[12760] train-rmse:0.000568 
[12761] train-rmse:0.000568 
[12762] train-rmse:0.000568 
[12763] train-rmse:0.000568 
[12764] train-rmse:0.000568 
[12765] train-rmse:0.000568 
[12766] train-rmse:0.000568 
[12767] train-rmse:0.000568 
[12768] train-rmse:0.000568 
[12769] train-rmse:0.000568 
[12770] train-rmse:0.000568 
[12771] train-rmse:0.000568 
[12772] train-rmse:0.000568 
[12773] train-rmse:0.000568 
[12774] train-rmse:0.000568 
[12775] train-rmse:0.000568 
[12776] train-rmse:0.000568 
[12777] train-rmse:0.000568 
[12778] train-rmse:0.000568 
[12779] train-rmse:0.000568 
[12780] train-rmse:0.000568 
[12781] train-rmse:0.000568 
[12782] train-rmse:0.000568 
[12783] train-rmse:0.000568 
[12784] train-rmse:0.000568 
[12785] train-rmse:0.000568 
[12786] train-rmse:0.000568 
[12787] train-rmse:0.000568 
[12788] train-rmse:0.000568 
[12789] train-rmse:0.000568 
[12790] train-rmse:0.000568 
[12791] train-rmse:0.000568 
[12792] train-rmse:0.000568 
[12793] train-rmse:0.000568 
[12794] train-rmse:0.000568 
[12795] train-rmse:0.000568 
[12796] train-rmse:0.000568 
[12797] train-rmse:0.000568 
[12798] train-rmse:0.000568 
[12799] train-rmse:0.000568 
[12800] train-rmse:0.000568 
[12801] train-rmse:0.000568 
[12802] train-rmse:0.000568 
[12803] train-rmse:0.000568 
[12804] train-rmse:0.000568 
[12805] train-rmse:0.000568 
[12806] train-rmse:0.000568 
[12807] train-rmse:0.000568 
[12808] train-rmse:0.000568 
[12809] train-rmse:0.000568 
[12810] train-rmse:0.000568 
[12811] train-rmse:0.000568 
[12812] train-rmse:0.000568 
[12813] train-rmse:0.000568 
[12814] train-rmse:0.000568 
[12815] train-rmse:0.000568 
[12816] train-rmse:0.000568 
[12817] train-rmse:0.000568 
[12818] train-rmse:0.000568 
[12819] train-rmse:0.000568 
[12820] train-rmse:0.000568 
[12821] train-rmse:0.000568 
[12822] train-rmse:0.000568 
[12823] train-rmse:0.000568 
[12824] train-rmse:0.000568 
[12825] train-rmse:0.000568 
[12826] train-rmse:0.000568 
[12827] train-rmse:0.000568 
[12828] train-rmse:0.000568 
[12829] train-rmse:0.000568 
[12830] train-rmse:0.000568 
[12831] train-rmse:0.000568 
[12832] train-rmse:0.000568 
[12833] train-rmse:0.000568 
[12834] train-rmse:0.000568 
[12835] train-rmse:0.000568 
[12836] train-rmse:0.000568 
[12837] train-rmse:0.000568 
[12838] train-rmse:0.000568 
[12839] train-rmse:0.000568 
[12840] train-rmse:0.000568 
[12841] train-rmse:0.000568 
[12842] train-rmse:0.000568 
[12843] train-rmse:0.000568 
[12844] train-rmse:0.000568 
[12845] train-rmse:0.000568 
[12846] train-rmse:0.000568 
[12847] train-rmse:0.000568 
[12848] train-rmse:0.000568 
[12849] train-rmse:0.000568 
[12850] train-rmse:0.000568 
[12851] train-rmse:0.000568 
[12852] train-rmse:0.000568 
[12853] train-rmse:0.000568 
[12854] train-rmse:0.000568 
[12855] train-rmse:0.000568 
[12856] train-rmse:0.000568 
[12857] train-rmse:0.000568 
[12858] train-rmse:0.000568 
[12859] train-rmse:0.000568 
[12860] train-rmse:0.000568 
[12861] train-rmse:0.000568 
[12862] train-rmse:0.000568 
[12863] train-rmse:0.000568 
[12864] train-rmse:0.000568 
[12865] train-rmse:0.000568 
[12866] train-rmse:0.000568 
[12867] train-rmse:0.000568 
[12868] train-rmse:0.000568 
[12869] train-rmse:0.000568 
[12870] train-rmse:0.000568 
[12871] train-rmse:0.000568 
[12872] train-rmse:0.000567 
[12873] train-rmse:0.000567 
[12874] train-rmse:0.000567 
[12875] train-rmse:0.000567 
[12876] train-rmse:0.000567 
[12877] train-rmse:0.000567 
[12878] train-rmse:0.000567 
[12879] train-rmse:0.000567 
[12880] train-rmse:0.000567 
[12881] train-rmse:0.000567 
[12882] train-rmse:0.000566 
[12883] train-rmse:0.000566 
[12884] train-rmse:0.000566 
[12885] train-rmse:0.000566 
[12886] train-rmse:0.000566 
[12887] train-rmse:0.000566 
[12888] train-rmse:0.000566 
[12889] train-rmse:0.000566 
[12890] train-rmse:0.000566 
[12891] train-rmse:0.000566 
[12892] train-rmse:0.000566 
[12893] train-rmse:0.000566 
[12894] train-rmse:0.000566 
[12895] train-rmse:0.000566 
[12896] train-rmse:0.000566 
[12897] train-rmse:0.000566 
[12898] train-rmse:0.000566 
[12899] train-rmse:0.000566 
[12900] train-rmse:0.000566 
[12901] train-rmse:0.000566 
[12902] train-rmse:0.000566 
[12903] train-rmse:0.000566 
[12904] train-rmse:0.000566 
[12905] train-rmse:0.000566 
[12906] train-rmse:0.000566 
[12907] train-rmse:0.000566 
[12908] train-rmse:0.000566 
[12909] train-rmse:0.000566 
[12910] train-rmse:0.000566 
[12911] train-rmse:0.000566 
[12912] train-rmse:0.000566 
[12913] train-rmse:0.000566 
[12914] train-rmse:0.000566 
[12915] train-rmse:0.000566 
[12916] train-rmse:0.000566 
[12917] train-rmse:0.000566 
[12918] train-rmse:0.000566 
[12919] train-rmse:0.000566 
[12920] train-rmse:0.000566 
[12921] train-rmse:0.000566 
[12922] train-rmse:0.000566 
[12923] train-rmse:0.000566 
[12924] train-rmse:0.000566 
[12925] train-rmse:0.000566 
[12926] train-rmse:0.000566 
[12927] train-rmse:0.000566 
[12928] train-rmse:0.000566 
[12929] train-rmse:0.000566 
[12930] train-rmse:0.000566 
[12931] train-rmse:0.000566 
[12932] train-rmse:0.000566 
[12933] train-rmse:0.000566 
[12934] train-rmse:0.000566 
[12935] train-rmse:0.000566 
[12936] train-rmse:0.000566 
[12937] train-rmse:0.000566 
[12938] train-rmse:0.000566 
[12939] train-rmse:0.000566 
[12940] train-rmse:0.000566 
[12941] train-rmse:0.000566 
[12942] train-rmse:0.000566 
[12943] train-rmse:0.000566 
[12944] train-rmse:0.000566 
[12945] train-rmse:0.000566 
[12946] train-rmse:0.000566 
[12947] train-rmse:0.000566 
[12948] train-rmse:0.000566 
[12949] train-rmse:0.000566 
[12950] train-rmse:0.000566 
[12951] train-rmse:0.000566 
[12952] train-rmse:0.000566 
[12953] train-rmse:0.000566 
[12954] train-rmse:0.000566 
[12955] train-rmse:0.000566 
[12956] train-rmse:0.000566 
[12957] train-rmse:0.000566 
[12958] train-rmse:0.000566 
[12959] train-rmse:0.000566 
[12960] train-rmse:0.000566 
[12961] train-rmse:0.000566 
[12962] train-rmse:0.000566 
[12963] train-rmse:0.000566 
[12964] train-rmse:0.000566 
[12965] train-rmse:0.000566 
[12966] train-rmse:0.000566 
[12967] train-rmse:0.000566 
[12968] train-rmse:0.000566 
[12969] train-rmse:0.000566 
[12970] train-rmse:0.000566 
[12971] train-rmse:0.000566 
[12972] train-rmse:0.000566 
[12973] train-rmse:0.000566 
[12974] train-rmse:0.000566 
[12975] train-rmse:0.000566 
[12976] train-rmse:0.000566 
[12977] train-rmse:0.000566 
[12978] train-rmse:0.000566 
[12979] train-rmse:0.000566 
[12980] train-rmse:0.000566 
[12981] train-rmse:0.000566 
[12982] train-rmse:0.000566 
[12983] train-rmse:0.000566 
[12984] train-rmse:0.000566 
[12985] train-rmse:0.000566 
[12986] train-rmse:0.000566 
[12987] train-rmse:0.000566 
[12988] train-rmse:0.000566 
[12989] train-rmse:0.000566 
[12990] train-rmse:0.000566 
[12991] train-rmse:0.000566 
[12992] train-rmse:0.000566 
[12993] train-rmse:0.000566 
[12994] train-rmse:0.000566 
[12995] train-rmse:0.000566 
[12996] train-rmse:0.000566 
[12997] train-rmse:0.000566 
[12998] train-rmse:0.000566 
[12999] train-rmse:0.000566 
[13000] train-rmse:0.000566 
[13001] train-rmse:0.000566 
[13002] train-rmse:0.000566 
[13003] train-rmse:0.000566 
[13004] train-rmse:0.000566 
[13005] train-rmse:0.000566 
[13006] train-rmse:0.000566 
[13007] train-rmse:0.000566 
[13008] train-rmse:0.000566 
[13009] train-rmse:0.000566 
[13010] train-rmse:0.000566 
[13011] train-rmse:0.000566 
[13012] train-rmse:0.000566 
[13013] train-rmse:0.000566 
[13014] train-rmse:0.000566 
[13015] train-rmse:0.000566 
[13016] train-rmse:0.000566 
[13017] train-rmse:0.000566 
[13018] train-rmse:0.000566 
[13019] train-rmse:0.000566 
[13020] train-rmse:0.000566 
[13021] train-rmse:0.000566 
[13022] train-rmse:0.000566 
[13023] train-rmse:0.000566 
[13024] train-rmse:0.000566 
[13025] train-rmse:0.000566 
[13026] train-rmse:0.000566 
[13027] train-rmse:0.000566 
[13028] train-rmse:0.000566 
[13029] train-rmse:0.000566 
[13030] train-rmse:0.000566 
[13031] train-rmse:0.000566 
[13032] train-rmse:0.000566 
[13033] train-rmse:0.000566 
[13034] train-rmse:0.000566 
[13035] train-rmse:0.000566 
[13036] train-rmse:0.000566 
[13037] train-rmse:0.000566 
[13038] train-rmse:0.000566 
[13039] train-rmse:0.000566 
[13040] train-rmse:0.000566 
[13041] train-rmse:0.000566 
[13042] train-rmse:0.000565 
[13043] train-rmse:0.000565 
[13044] train-rmse:0.000565 
[13045] train-rmse:0.000565 
[13046] train-rmse:0.000565 
[13047] train-rmse:0.000565 
[13048] train-rmse:0.000565 
[13049] train-rmse:0.000565 
[13050] train-rmse:0.000565 
[13051] train-rmse:0.000565 
[13052] train-rmse:0.000565 
[13053] train-rmse:0.000565 
[13054] train-rmse:0.000565 
[13055] train-rmse:0.000565 
[13056] train-rmse:0.000565 
[13057] train-rmse:0.000565 
[13058] train-rmse:0.000565 
[13059] train-rmse:0.000565 
[13060] train-rmse:0.000565 
[13061] train-rmse:0.000565 
[13062] train-rmse:0.000565 
[13063] train-rmse:0.000565 
[13064] train-rmse:0.000565 
[13065] train-rmse:0.000565 
[13066] train-rmse:0.000565 
[13067] train-rmse:0.000565 
[13068] train-rmse:0.000565 
[13069] train-rmse:0.000565 
[13070] train-rmse:0.000565 
[13071] train-rmse:0.000565 
[13072] train-rmse:0.000565 
[13073] train-rmse:0.000565 
[13074] train-rmse:0.000565 
[13075] train-rmse:0.000565 
[13076] train-rmse:0.000565 
[13077] train-rmse:0.000565 
[13078] train-rmse:0.000565 
[13079] train-rmse:0.000565 
[13080] train-rmse:0.000565 
[13081] train-rmse:0.000565 
[13082] train-rmse:0.000565 
[13083] train-rmse:0.000565 
[13084] train-rmse:0.000565 
[13085] train-rmse:0.000566 
[13086] train-rmse:0.000565 
[13087] train-rmse:0.000565 
[13088] train-rmse:0.000565 
[13089] train-rmse:0.000565 
[13090] train-rmse:0.000565 
[13091] train-rmse:0.000565 
[13092] train-rmse:0.000565 
[13093] train-rmse:0.000565 
[13094] train-rmse:0.000565 
[13095] train-rmse:0.000565 
[13096] train-rmse:0.000565 
[13097] train-rmse:0.000566 
[13098] train-rmse:0.000566 
[13099] train-rmse:0.000565 
[13100] train-rmse:0.000565 
[13101] train-rmse:0.000565 
[13102] train-rmse:0.000565 
[13103] train-rmse:0.000565 
[13104] train-rmse:0.000565 
[13105] train-rmse:0.000565 
[13106] train-rmse:0.000565 
[13107] train-rmse:0.000565 
[13108] train-rmse:0.000565 
[13109] train-rmse:0.000565 
[13110] train-rmse:0.000565 
[13111] train-rmse:0.000565 
[13112] train-rmse:0.000565 
[13113] train-rmse:0.000565 
[13114] train-rmse:0.000565 
[13115] train-rmse:0.000565 
[13116] train-rmse:0.000565 
[13117] train-rmse:0.000565 
[13118] train-rmse:0.000565 
[13119] train-rmse:0.000565 
[13120] train-rmse:0.000565 
[13121] train-rmse:0.000565 
[13122] train-rmse:0.000565 
[13123] train-rmse:0.000565 
[13124] train-rmse:0.000565 
[13125] train-rmse:0.000565 
[13126] train-rmse:0.000565 
[13127] train-rmse:0.000565 
[13128] train-rmse:0.000565 
[13129] train-rmse:0.000565 
[13130] train-rmse:0.000565 
[13131] train-rmse:0.000565 
[13132] train-rmse:0.000565 
[13133] train-rmse:0.000565 
[13134] train-rmse:0.000565 
[13135] train-rmse:0.000565 
[13136] train-rmse:0.000565 
[13137] train-rmse:0.000565 
[13138] train-rmse:0.000565 
[13139] train-rmse:0.000565 
[13140] train-rmse:0.000565 
[13141] train-rmse:0.000565 
[13142] train-rmse:0.000565 
[13143] train-rmse:0.000565 
[13144] train-rmse:0.000565 
[13145] train-rmse:0.000565 
[13146] train-rmse:0.000565 
[13147] train-rmse:0.000565 
[13148] train-rmse:0.000565 
[13149] train-rmse:0.000565 
[13150] train-rmse:0.000565 
[13151] train-rmse:0.000565 
[13152] train-rmse:0.000565 
[13153] train-rmse:0.000565 
[13154] train-rmse:0.000565 
[13155] train-rmse:0.000565 
[13156] train-rmse:0.000565 
[13157] train-rmse:0.000565 
[13158] train-rmse:0.000565 
[13159] train-rmse:0.000565 
[13160] train-rmse:0.000565 
[13161] train-rmse:0.000565 
[13162] train-rmse:0.000565 
[13163] train-rmse:0.000565 
[13164] train-rmse:0.000565 
[13165] train-rmse:0.000565 
[13166] train-rmse:0.000565 
[13167] train-rmse:0.000565 
[13168] train-rmse:0.000565 
[13169] train-rmse:0.000565 
[13170] train-rmse:0.000565 
[13171] train-rmse:0.000565 
[13172] train-rmse:0.000565 
[13173] train-rmse:0.000565 
[13174] train-rmse:0.000565 
[13175] train-rmse:0.000565 
[13176] train-rmse:0.000565 
[13177] train-rmse:0.000565 
[13178] train-rmse:0.000565 
[13179] train-rmse:0.000565 
[13180] train-rmse:0.000565 
[13181] train-rmse:0.000565 
[13182] train-rmse:0.000565 
[13183] train-rmse:0.000565 
[13184] train-rmse:0.000565 
[13185] train-rmse:0.000565 
[13186] train-rmse:0.000565 
[13187] train-rmse:0.000565 
[13188] train-rmse:0.000565 
[13189] train-rmse:0.000565 
[13190] train-rmse:0.000565 
[13191] train-rmse:0.000565 
[13192] train-rmse:0.000565 
[13193] train-rmse:0.000565 
[13194] train-rmse:0.000565 
[13195] train-rmse:0.000565 
[13196] train-rmse:0.000565 
[13197] train-rmse:0.000565 
[13198] train-rmse:0.000565 
[13199] train-rmse:0.000565 
[13200] train-rmse:0.000565 
[13201] train-rmse:0.000565 
[13202] train-rmse:0.000565 
[13203] train-rmse:0.000565 
[13204] train-rmse:0.000565 
[13205] train-rmse:0.000565 
[13206] train-rmse:0.000565 
[13207] train-rmse:0.000565 
[13208] train-rmse:0.000565 
[13209] train-rmse:0.000565 
[13210] train-rmse:0.000565 
[13211] train-rmse:0.000565 
[13212] train-rmse:0.000565 
[13213] train-rmse:0.000565 
[13214] train-rmse:0.000565 
[13215] train-rmse:0.000565 
[13216] train-rmse:0.000565 
[13217] train-rmse:0.000565 
[13218] train-rmse:0.000565 
[13219] train-rmse:0.000565 
[13220] train-rmse:0.000565 
[13221] train-rmse:0.000565 
[13222] train-rmse:0.000565 
[13223] train-rmse:0.000565 
[13224] train-rmse:0.000565 
[13225] train-rmse:0.000565 
[13226] train-rmse:0.000565 
[13227] train-rmse:0.000565 
[13228] train-rmse:0.000565 
[13229] train-rmse:0.000565 
[13230] train-rmse:0.000565 
[13231] train-rmse:0.000565 
[13232] train-rmse:0.000565 
[13233] train-rmse:0.000565 
[13234] train-rmse:0.000565 
[13235] train-rmse:0.000565 
[13236] train-rmse:0.000565 
[13237] train-rmse:0.000565 
[13238] train-rmse:0.000564 
[13239] train-rmse:0.000564 
[13240] train-rmse:0.000564 
[13241] train-rmse:0.000564 
[13242] train-rmse:0.000564 
[13243] train-rmse:0.000564 
[13244] train-rmse:0.000564 
[13245] train-rmse:0.000564 
[13246] train-rmse:0.000564 
[13247] train-rmse:0.000564 
[13248] train-rmse:0.000564 
[13249] train-rmse:0.000564 
[13250] train-rmse:0.000564 
[13251] train-rmse:0.000564 
[13252] train-rmse:0.000564 
[13253] train-rmse:0.000564 
[13254] train-rmse:0.000564 
[13255] train-rmse:0.000564 
[13256] train-rmse:0.000564 
[13257] train-rmse:0.000564 
[13258] train-rmse:0.000563 
[13259] train-rmse:0.000563 
[13260] train-rmse:0.000563 
[13261] train-rmse:0.000563 
[13262] train-rmse:0.000563 
[13263] train-rmse:0.000563 
[13264] train-rmse:0.000563 
[13265] train-rmse:0.000563 
[13266] train-rmse:0.000563 
[13267] train-rmse:0.000563 
[13268] train-rmse:0.000563 
[13269] train-rmse:0.000563 
[13270] train-rmse:0.000563 
[13271] train-rmse:0.000563 
[13272] train-rmse:0.000563 
[13273] train-rmse:0.000563 
[13274] train-rmse:0.000563 
[13275] train-rmse:0.000563 
[13276] train-rmse:0.000563 
[13277] train-rmse:0.000563 
[13278] train-rmse:0.000563 
[13279] train-rmse:0.000563 
[13280] train-rmse:0.000563 
[13281] train-rmse:0.000563 
[13282] train-rmse:0.000563 
[13283] train-rmse:0.000563 
[13284] train-rmse:0.000563 
[13285] train-rmse:0.000563 
[13286] train-rmse:0.000563 
[13287] train-rmse:0.000563 
[13288] train-rmse:0.000563 
[13289] train-rmse:0.000563 
[13290] train-rmse:0.000563 
[13291] train-rmse:0.000563 
[13292] train-rmse:0.000563 
[13293] train-rmse:0.000563 
[13294] train-rmse:0.000563 
[13295] train-rmse:0.000563 
[13296] train-rmse:0.000563 
[13297] train-rmse:0.000563 
[13298] train-rmse:0.000563 
[13299] train-rmse:0.000563 
[13300] train-rmse:0.000563 
[13301] train-rmse:0.000563 
[13302] train-rmse:0.000563 
[13303] train-rmse:0.000563 
[13304] train-rmse:0.000563 
[13305] train-rmse:0.000563 
[13306] train-rmse:0.000563 
[13307] train-rmse:0.000563 
[13308] train-rmse:0.000563 
[13309] train-rmse:0.000563 
[13310] train-rmse:0.000563 
[13311] train-rmse:0.000563 
[13312] train-rmse:0.000563 
[13313] train-rmse:0.000563 
[13314] train-rmse:0.000563 
[13315] train-rmse:0.000563 
[13316] train-rmse:0.000563 
[13317] train-rmse:0.000563 
[13318] train-rmse:0.000563 
[13319] train-rmse:0.000563 
[13320] train-rmse:0.000563 
[13321] train-rmse:0.000563 
[13322] train-rmse:0.000563 
[13323] train-rmse:0.000563 
[13324] train-rmse:0.000563 
[13325] train-rmse:0.000563 
[13326] train-rmse:0.000563 
[13327] train-rmse:0.000563 
[13328] train-rmse:0.000563 
[13329] train-rmse:0.000563 
[13330] train-rmse:0.000563 
[13331] train-rmse:0.000563 
[13332] train-rmse:0.000563 
[13333] train-rmse:0.000563 
[13334] train-rmse:0.000563 
[13335] train-rmse:0.000563 
[13336] train-rmse:0.000563 
[13337] train-rmse:0.000563 
[13338] train-rmse:0.000563 
[13339] train-rmse:0.000563 
[13340] train-rmse:0.000563 
[13341] train-rmse:0.000563 
[13342] train-rmse:0.000563 
[13343] train-rmse:0.000563 
[13344] train-rmse:0.000563 
[13345] train-rmse:0.000563 
[13346] train-rmse:0.000562 
[13347] train-rmse:0.000562 
[13348] train-rmse:0.000562 
[13349] train-rmse:0.000562 
[13350] train-rmse:0.000562 
[13351] train-rmse:0.000562 
[13352] train-rmse:0.000562 
[13353] train-rmse:0.000562 
[13354] train-rmse:0.000562 
[13355] train-rmse:0.000562 
[13356] train-rmse:0.000562 
[13357] train-rmse:0.000562 
[13358] train-rmse:0.000562 
[13359] train-rmse:0.000562 
[13360] train-rmse:0.000562 
[13361] train-rmse:0.000562 
[13362] train-rmse:0.000562 
[13363] train-rmse:0.000562 
[13364] train-rmse:0.000562 
[13365] train-rmse:0.000562 
[13366] train-rmse:0.000562 
[13367] train-rmse:0.000562 
[13368] train-rmse:0.000562 
[13369] train-rmse:0.000562 
[13370] train-rmse:0.000562 
[13371] train-rmse:0.000562 
[13372] train-rmse:0.000562 
[13373] train-rmse:0.000562 
[13374] train-rmse:0.000562 
[13375] train-rmse:0.000562 
[13376] train-rmse:0.000562 
[13377] train-rmse:0.000562 
[13378] train-rmse:0.000562 
[13379] train-rmse:0.000562 
[13380] train-rmse:0.000562 
[13381] train-rmse:0.000562 
[13382] train-rmse:0.000562 
[13383] train-rmse:0.000562 
[13384] train-rmse:0.000562 
[13385] train-rmse:0.000562 
[13386] train-rmse:0.000562 
[13387] train-rmse:0.000562 
[13388] train-rmse:0.000562 
[13389] train-rmse:0.000562 
[13390] train-rmse:0.000562 
[13391] train-rmse:0.000562 
[13392] train-rmse:0.000562 
[13393] train-rmse:0.000562 
[13394] train-rmse:0.000562 
[13395] train-rmse:0.000562 
[13396] train-rmse:0.000562 
[13397] train-rmse:0.000562 
[13398] train-rmse:0.000562 
[13399] train-rmse:0.000562 
[13400] train-rmse:0.000562 
[13401] train-rmse:0.000562 
[13402] train-rmse:0.000562 
[13403] train-rmse:0.000562 
[13404] train-rmse:0.000562 
[13405] train-rmse:0.000562 
[13406] train-rmse:0.000562 
[13407] train-rmse:0.000562 
[13408] train-rmse:0.000562 
[13409] train-rmse:0.000562 
[13410] train-rmse:0.000562 
[13411] train-rmse:0.000562 
[13412] train-rmse:0.000562 
[13413] train-rmse:0.000562 
[13414] train-rmse:0.000562 
[13415] train-rmse:0.000562 
[13416] train-rmse:0.000562 
[13417] train-rmse:0.000562 
[13418] train-rmse:0.000562 
[13419] train-rmse:0.000562 
[13420] train-rmse:0.000562 
[13421] train-rmse:0.000562 
[13422] train-rmse:0.000562 
[13423] train-rmse:0.000562 
[13424] train-rmse:0.000562 
[13425] train-rmse:0.000562 
[13426] train-rmse:0.000562 
[13427] train-rmse:0.000562 
[13428] train-rmse:0.000562 
[13429] train-rmse:0.000562 
[13430] train-rmse:0.000562 
[13431] train-rmse:0.000562 
[13432] train-rmse:0.000562 
[13433] train-rmse:0.000562 
[13434] train-rmse:0.000562 
[13435] train-rmse:0.000562 
[13436] train-rmse:0.000562 
[13437] train-rmse:0.000562 
[13438] train-rmse:0.000562 
[13439] train-rmse:0.000562 
[13440] train-rmse:0.000562 
[13441] train-rmse:0.000562 
[13442] train-rmse:0.000562 
[13443] train-rmse:0.000562 
[13444] train-rmse:0.000562 
[13445] train-rmse:0.000562 
[13446] train-rmse:0.000562 
[13447] train-rmse:0.000562 
[13448] train-rmse:0.000562 
[13449] train-rmse:0.000562 
[13450] train-rmse:0.000562 
[13451] train-rmse:0.000562 
[13452] train-rmse:0.000562 
[13453] train-rmse:0.000562 
[13454] train-rmse:0.000562 
[13455] train-rmse:0.000562 
[13456] train-rmse:0.000562 
[13457] train-rmse:0.000562 
[13458] train-rmse:0.000562 
[13459] train-rmse:0.000562 
[13460] train-rmse:0.000562 
[13461] train-rmse:0.000562 
[13462] train-rmse:0.000562 
[13463] train-rmse:0.000562 
[13464] train-rmse:0.000562 
[13465] train-rmse:0.000562 
[13466] train-rmse:0.000562 
[13467] train-rmse:0.000562 
[13468] train-rmse:0.000562 
[13469] train-rmse:0.000562 
[13470] train-rmse:0.000562 
[13471] train-rmse:0.000562 
[13472] train-rmse:0.000562 
[13473] train-rmse:0.000562 
[13474] train-rmse:0.000562 
[13475] train-rmse:0.000562 
[13476] train-rmse:0.000562 
[13477] train-rmse:0.000562 
[13478] train-rmse:0.000562 
[13479] train-rmse:0.000562 
[13480] train-rmse:0.000562 
[13481] train-rmse:0.000562 
[13482] train-rmse:0.000562 
[13483] train-rmse:0.000562 
[13484] train-rmse:0.000562 
[13485] train-rmse:0.000562 
[13486] train-rmse:0.000562 
[13487] train-rmse:0.000562 
[13488] train-rmse:0.000562 
[13489] train-rmse:0.000562 
[13490] train-rmse:0.000562 
[13491] train-rmse:0.000562 
[13492] train-rmse:0.000562 
[13493] train-rmse:0.000562 
[13494] train-rmse:0.000562 
[13495] train-rmse:0.000562 
[13496] train-rmse:0.000562 
[13497] train-rmse:0.000562 
[13498] train-rmse:0.000562 
[13499] train-rmse:0.000562 
[13500] train-rmse:0.000562 
[13501] train-rmse:0.000562 
[13502] train-rmse:0.000562 
[13503] train-rmse:0.000562 
[13504] train-rmse:0.000562 
[13505] train-rmse:0.000562 
[13506] train-rmse:0.000562 
[13507] train-rmse:0.000562 
[13508] train-rmse:0.000562 
[13509] train-rmse:0.000562 
[13510] train-rmse:0.000562 
[13511] train-rmse:0.000562 
[13512] train-rmse:0.000562 
[13513] train-rmse:0.000562 
[13514] train-rmse:0.000562 
[13515] train-rmse:0.000562 
[13516] train-rmse:0.000562 
[13517] train-rmse:0.000562 
[13518] train-rmse:0.000562 
[13519] train-rmse:0.000562 
[13520] train-rmse:0.000562 
[13521] train-rmse:0.000562 
[13522] train-rmse:0.000562 
[13523] train-rmse:0.000562 
[13524] train-rmse:0.000562 
[13525] train-rmse:0.000562 
[13526] train-rmse:0.000562 
[13527] train-rmse:0.000562 
[13528] train-rmse:0.000562 
[13529] train-rmse:0.000562 
[13530] train-rmse:0.000562 
[13531] train-rmse:0.000562 
[13532] train-rmse:0.000562 
[13533] train-rmse:0.000562 
[13534] train-rmse:0.000562 
[13535] train-rmse:0.000562 
[13536] train-rmse:0.000562 
[13537] train-rmse:0.000562 
[13538] train-rmse:0.000562 
[13539] train-rmse:0.000562 
[13540] train-rmse:0.000562 
[13541] train-rmse:0.000562 
[13542] train-rmse:0.000562 
[13543] train-rmse:0.000562 
[13544] train-rmse:0.000561 
[13545] train-rmse:0.000561 
[13546] train-rmse:0.000561 
[13547] train-rmse:0.000561 
[13548] train-rmse:0.000561 
[13549] train-rmse:0.000561 
[13550] train-rmse:0.000561 
[13551] train-rmse:0.000561 
[13552] train-rmse:0.000561 
[13553] train-rmse:0.000561 
[13554] train-rmse:0.000561 
[13555] train-rmse:0.000561 
[13556] train-rmse:0.000561 
[13557] train-rmse:0.000561 
[13558] train-rmse:0.000561 
[13559] train-rmse:0.000561 
[13560] train-rmse:0.000561 
[13561] train-rmse:0.000561 
[13562] train-rmse:0.000561 
[13563] train-rmse:0.000561 
[13564] train-rmse:0.000561 
[13565] train-rmse:0.000561 
[13566] train-rmse:0.000561 
[13567] train-rmse:0.000561 
[13568] train-rmse:0.000561 
[13569] train-rmse:0.000561 
[13570] train-rmse:0.000561 
[13571] train-rmse:0.000561 
[13572] train-rmse:0.000561 
[13573] train-rmse:0.000561 
[13574] train-rmse:0.000561 
[13575] train-rmse:0.000561 
[13576] train-rmse:0.000561 
[13577] train-rmse:0.000561 
[13578] train-rmse:0.000561 
[13579] train-rmse:0.000561 
[13580] train-rmse:0.000561 
[13581] train-rmse:0.000561 
[13582] train-rmse:0.000561 
[13583] train-rmse:0.000561 
[13584] train-rmse:0.000561 
[13585] train-rmse:0.000561 
[13586] train-rmse:0.000561 
[13587] train-rmse:0.000561 
[13588] train-rmse:0.000561 
[13589] train-rmse:0.000561 
[13590] train-rmse:0.000561 
[13591] train-rmse:0.000561 
[13592] train-rmse:0.000561 
[13593] train-rmse:0.000561 
[13594] train-rmse:0.000561 
[13595] train-rmse:0.000561 
[13596] train-rmse:0.000561 
[13597] train-rmse:0.000561 
[13598] train-rmse:0.000561 
[13599] train-rmse:0.000561 
[13600] train-rmse:0.000561 
[13601] train-rmse:0.000561 
[13602] train-rmse:0.000561 
[13603] train-rmse:0.000561 
[13604] train-rmse:0.000561 
[13605] train-rmse:0.000561 
[13606] train-rmse:0.000561 
[13607] train-rmse:0.000561 
[13608] train-rmse:0.000561 
[13609] train-rmse:0.000561 
[13610] train-rmse:0.000561 
[13611] train-rmse:0.000561 
[13612] train-rmse:0.000561 
[13613] train-rmse:0.000561 
[13614] train-rmse:0.000561 
[13615] train-rmse:0.000561 
[13616] train-rmse:0.000561 
[13617] train-rmse:0.000561 
[13618] train-rmse:0.000561 
[13619] train-rmse:0.000561 
[13620] train-rmse:0.000561 
[13621] train-rmse:0.000561 
[13622] train-rmse:0.000561 
[13623] train-rmse:0.000561 
[13624] train-rmse:0.000561 
[13625] train-rmse:0.000561 
[13626] train-rmse:0.000561 
[13627] train-rmse:0.000561 
[13628] train-rmse:0.000561 
[13629] train-rmse:0.000561 
[13630] train-rmse:0.000560 
[13631] train-rmse:0.000560 
[13632] train-rmse:0.000560 
[13633] train-rmse:0.000560 
[13634] train-rmse:0.000560 
[13635] train-rmse:0.000560 
[13636] train-rmse:0.000560 
[13637] train-rmse:0.000560 
[13638] train-rmse:0.000560 
[13639] train-rmse:0.000560 
[13640] train-rmse:0.000560 
[13641] train-rmse:0.000560 
[13642] train-rmse:0.000560 
[13643] train-rmse:0.000560 
[13644] train-rmse:0.000560 
[13645] train-rmse:0.000560 
[13646] train-rmse:0.000560 
[13647] train-rmse:0.000560 
[13648] train-rmse:0.000560 
[13649] train-rmse:0.000560 
[13650] train-rmse:0.000560 
[13651] train-rmse:0.000560 
[13652] train-rmse:0.000560 
[13653] train-rmse:0.000560 
[13654] train-rmse:0.000559 
[13655] train-rmse:0.000559 
[13656] train-rmse:0.000559 
[13657] train-rmse:0.000559 
[13658] train-rmse:0.000559 
[13659] train-rmse:0.000559 
[13660] train-rmse:0.000559 
[13661] train-rmse:0.000559 
[13662] train-rmse:0.000559 
[13663] train-rmse:0.000559 
[13664] train-rmse:0.000559 
[13665] train-rmse:0.000559 
[13666] train-rmse:0.000559 
[13667] train-rmse:0.000559 
[13668] train-rmse:0.000559 
[13669] train-rmse:0.000559 
[13670] train-rmse:0.000559 
[13671] train-rmse:0.000559 
[13672] train-rmse:0.000559 
[13673] train-rmse:0.000559 
[13674] train-rmse:0.000559 
[13675] train-rmse:0.000559 
[13676] train-rmse:0.000559 
[13677] train-rmse:0.000559 
[13678] train-rmse:0.000559 
[13679] train-rmse:0.000559 
[13680] train-rmse:0.000559 
[13681] train-rmse:0.000559 
[13682] train-rmse:0.000559 
[13683] train-rmse:0.000559 
[13684] train-rmse:0.000559 
[13685] train-rmse:0.000559 
[13686] train-rmse:0.000559 
[13687] train-rmse:0.000559 
[13688] train-rmse:0.000559 
[13689] train-rmse:0.000559 
[13690] train-rmse:0.000558 
[13691] train-rmse:0.000558 
[13692] train-rmse:0.000558 
[13693] train-rmse:0.000558 
[13694] train-rmse:0.000558 
[13695] train-rmse:0.000558 
[13696] train-rmse:0.000558 
[13697] train-rmse:0.000558 
[13698] train-rmse:0.000558 
[13699] train-rmse:0.000558 
[13700] train-rmse:0.000558 
[13701] train-rmse:0.000558 
[13702] train-rmse:0.000558 
[13703] train-rmse:0.000558 
[13704] train-rmse:0.000558 
[13705] train-rmse:0.000558 
[13706] train-rmse:0.000558 
[13707] train-rmse:0.000558 
[13708] train-rmse:0.000558 
[13709] train-rmse:0.000558 
[13710] train-rmse:0.000558 
[13711] train-rmse:0.000558 
[13712] train-rmse:0.000558 
[13713] train-rmse:0.000558 
[13714] train-rmse:0.000558 
[13715] train-rmse:0.000558 
[13716] train-rmse:0.000558 
[13717] train-rmse:0.000558 
[13718] train-rmse:0.000558 
[13719] train-rmse:0.000558 
[13720] train-rmse:0.000558 
[13721] train-rmse:0.000558 
[13722] train-rmse:0.000558 
[13723] train-rmse:0.000558 
[13724] train-rmse:0.000558 
[13725] train-rmse:0.000558 
[13726] train-rmse:0.000558 
[13727] train-rmse:0.000558 
[13728] train-rmse:0.000558 
[13729] train-rmse:0.000558 
[13730] train-rmse:0.000558 
[13731] train-rmse:0.000558 
[13732] train-rmse:0.000558 
[13733] train-rmse:0.000558 
[13734] train-rmse:0.000558 
[13735] train-rmse:0.000558 
[13736] train-rmse:0.000558 
[13737] train-rmse:0.000558 
[13738] train-rmse:0.000558 
[13739] train-rmse:0.000558 
[13740] train-rmse:0.000558 
[13741] train-rmse:0.000558 
[13742] train-rmse:0.000558 
[13743] train-rmse:0.000558 
[13744] train-rmse:0.000558 
[13745] train-rmse:0.000558 
[13746] train-rmse:0.000558 
[13747] train-rmse:0.000558 
[13748] train-rmse:0.000558 
[13749] train-rmse:0.000558 
[13750] train-rmse:0.000558 
[13751] train-rmse:0.000558 
[13752] train-rmse:0.000558 
[13753] train-rmse:0.000558 
[13754] train-rmse:0.000558 
[13755] train-rmse:0.000558 
[13756] train-rmse:0.000558 
[13757] train-rmse:0.000558 
[13758] train-rmse:0.000558 
[13759] train-rmse:0.000558 
[13760] train-rmse:0.000558 
[13761] train-rmse:0.000558 
[13762] train-rmse:0.000558 
[13763] train-rmse:0.000558 
[13764] train-rmse:0.000558 
[13765] train-rmse:0.000558 
[13766] train-rmse:0.000558 
[13767] train-rmse:0.000558 
[13768] train-rmse:0.000558 
[13769] train-rmse:0.000558 
[13770] train-rmse:0.000558 
[13771] train-rmse:0.000558 
[13772] train-rmse:0.000558 
[13773] train-rmse:0.000558 
[13774] train-rmse:0.000558 
[13775] train-rmse:0.000558 
[13776] train-rmse:0.000558 
[13777] train-rmse:0.000558 
[13778] train-rmse:0.000558 
[13779] train-rmse:0.000558 
[13780] train-rmse:0.000558 
[13781] train-rmse:0.000558 
[13782] train-rmse:0.000558 
[13783] train-rmse:0.000558 
[13784] train-rmse:0.000558 
[13785] train-rmse:0.000558 
[13786] train-rmse:0.000558 
[13787] train-rmse:0.000558 
[13788] train-rmse:0.000558 
[13789] train-rmse:0.000558 
[13790] train-rmse:0.000558 
[13791] train-rmse:0.000558 
[13792] train-rmse:0.000557 
[13793] train-rmse:0.000557 
[13794] train-rmse:0.000557 
[13795] train-rmse:0.000557 
[13796] train-rmse:0.000557 
[13797] train-rmse:0.000557 
[13798] train-rmse:0.000557 
[13799] train-rmse:0.000557 
[13800] train-rmse:0.000557 
[13801] train-rmse:0.000557 
[13802] train-rmse:0.000557 
[13803] train-rmse:0.000557 
[13804] train-rmse:0.000557 
[13805] train-rmse:0.000557 
[13806] train-rmse:0.000557 
[13807] train-rmse:0.000557 
[13808] train-rmse:0.000557 
[13809] train-rmse:0.000557 
[13810] train-rmse:0.000557 
[13811] train-rmse:0.000557 
[13812] train-rmse:0.000557 
[13813] train-rmse:0.000557 
[13814] train-rmse:0.000557 
[13815] train-rmse:0.000557 
[13816] train-rmse:0.000557 
[13817] train-rmse:0.000557 
[13818] train-rmse:0.000557 
[13819] train-rmse:0.000557 
[13820] train-rmse:0.000557 
[13821] train-rmse:0.000557 
[13822] train-rmse:0.000557 
[13823] train-rmse:0.000557 
[13824] train-rmse:0.000557 
[13825] train-rmse:0.000557 
[13826] train-rmse:0.000557 
[13827] train-rmse:0.000557 
[13828] train-rmse:0.000557 
[13829] train-rmse:0.000557 
[13830] train-rmse:0.000557 
[13831] train-rmse:0.000557 
[13832] train-rmse:0.000557 
[13833] train-rmse:0.000557 
[13834] train-rmse:0.000557 
[13835] train-rmse:0.000557 
[13836] train-rmse:0.000557 
[13837] train-rmse:0.000557 
[13838] train-rmse:0.000557 
[13839] train-rmse:0.000557 
[13840] train-rmse:0.000557 
[13841] train-rmse:0.000557 
[13842] train-rmse:0.000557 
[13843] train-rmse:0.000557 
[13844] train-rmse:0.000557 
[13845] train-rmse:0.000557 
[13846] train-rmse:0.000557 
[13847] train-rmse:0.000557 
[13848] train-rmse:0.000557 
[13849] train-rmse:0.000557 
[13850] train-rmse:0.000557 
[13851] train-rmse:0.000557 
[13852] train-rmse:0.000557 
[13853] train-rmse:0.000557 
[13854] train-rmse:0.000557 
[13855] train-rmse:0.000557 
[13856] train-rmse:0.000556 
[13857] train-rmse:0.000556 
[13858] train-rmse:0.000557 
[13859] train-rmse:0.000557 
[13860] train-rmse:0.000557 
[13861] train-rmse:0.000556 
[13862] train-rmse:0.000556 
[13863] train-rmse:0.000557 
[13864] train-rmse:0.000557 
[13865] train-rmse:0.000557 
[13866] train-rmse:0.000557 
[13867] train-rmse:0.000556 
[13868] train-rmse:0.000556 
[13869] train-rmse:0.000556 
[13870] train-rmse:0.000556 
[13871] train-rmse:0.000557 
[13872] train-rmse:0.000556 
[13873] train-rmse:0.000556 
[13874] train-rmse:0.000556 
[13875] train-rmse:0.000556 
[13876] train-rmse:0.000557 
[13877] train-rmse:0.000557 
[13878] train-rmse:0.000557 
[13879] train-rmse:0.000557 
[13880] train-rmse:0.000556 
[13881] train-rmse:0.000556 
[13882] train-rmse:0.000556 
[13883] train-rmse:0.000556 
[13884] train-rmse:0.000557 
[13885] train-rmse:0.000557 
[13886] train-rmse:0.000557 
[13887] train-rmse:0.000556 
[13888] train-rmse:0.000556 
[13889] train-rmse:0.000556 
[13890] train-rmse:0.000556 
[13891] train-rmse:0.000556 
[13892] train-rmse:0.000556 
[13893] train-rmse:0.000556 
[13894] train-rmse:0.000556 
[13895] train-rmse:0.000556 
[13896] train-rmse:0.000556 
[13897] train-rmse:0.000556 
[13898] train-rmse:0.000556 
[13899] train-rmse:0.000556 
[13900] train-rmse:0.000556 
[13901] train-rmse:0.000556 
[13902] train-rmse:0.000556 
[13903] train-rmse:0.000556 
[13904] train-rmse:0.000556 
[13905] train-rmse:0.000556 
[13906] train-rmse:0.000556 
[13907] train-rmse:0.000556 
[13908] train-rmse:0.000556 
[13909] train-rmse:0.000556 
[13910] train-rmse:0.000556 
[13911] train-rmse:0.000556 
[13912] train-rmse:0.000556 
[13913] train-rmse:0.000556 
[13914] train-rmse:0.000556 
[13915] train-rmse:0.000556 
[13916] train-rmse:0.000556 
[13917] train-rmse:0.000556 
[13918] train-rmse:0.000556 
[13919] train-rmse:0.000556 
[13920] train-rmse:0.000556 
[13921] train-rmse:0.000556 
[13922] train-rmse:0.000556 
[13923] train-rmse:0.000556 
[13924] train-rmse:0.000556 
[13925] train-rmse:0.000556 
[13926] train-rmse:0.000556 
[13927] train-rmse:0.000556 
[13928] train-rmse:0.000556 
[13929] train-rmse:0.000556 
[13930] train-rmse:0.000556 
[13931] train-rmse:0.000556 
[13932] train-rmse:0.000556 
[13933] train-rmse:0.000556 
[13934] train-rmse:0.000556 
[13935] train-rmse:0.000556 
[13936] train-rmse:0.000556 
[13937] train-rmse:0.000556 
[13938] train-rmse:0.000556 
[13939] train-rmse:0.000556 
[13940] train-rmse:0.000556 
[13941] train-rmse:0.000556 
[13942] train-rmse:0.000556 
[13943] train-rmse:0.000556 
[13944] train-rmse:0.000556 
[13945] train-rmse:0.000556 
[13946] train-rmse:0.000556 
[13947] train-rmse:0.000556 
[13948] train-rmse:0.000556 
[13949] train-rmse:0.000556 
[13950] train-rmse:0.000556 
[13951] train-rmse:0.000556 
[13952] train-rmse:0.000556 
[13953] train-rmse:0.000555 
[13954] train-rmse:0.000555 
[13955] train-rmse:0.000555 
[13956] train-rmse:0.000555 
[13957] train-rmse:0.000555 
[13958] train-rmse:0.000556 
[13959] train-rmse:0.000555 
[13960] train-rmse:0.000555 
[13961] train-rmse:0.000555 
[13962] train-rmse:0.000555 
[13963] train-rmse:0.000555 
[13964] train-rmse:0.000555 
[13965] train-rmse:0.000555 
[13966] train-rmse:0.000555 
[13967] train-rmse:0.000555 
[13968] train-rmse:0.000556 
[13969] train-rmse:0.000555 
[13970] train-rmse:0.000555 
[13971] train-rmse:0.000555 
[13972] train-rmse:0.000556 
[13973] train-rmse:0.000556 
[13974] train-rmse:0.000556 
[13975] train-rmse:0.000556 
[13976] train-rmse:0.000556 
[13977] train-rmse:0.000555 
[13978] train-rmse:0.000555 
[13979] train-rmse:0.000555 
[13980] train-rmse:0.000555 
[13981] train-rmse:0.000555 
[13982] train-rmse:0.000555 
[13983] train-rmse:0.000555 
[13984] train-rmse:0.000555 
[13985] train-rmse:0.000555 
[13986] train-rmse:0.000555 
[13987] train-rmse:0.000555 
[13988] train-rmse:0.000555 
[13989] train-rmse:0.000555 
[13990] train-rmse:0.000555 
[13991] train-rmse:0.000555 
[13992] train-rmse:0.000555 
[13993] train-rmse:0.000555 
[13994] train-rmse:0.000555 
[13995] train-rmse:0.000555 
[13996] train-rmse:0.000555 
[13997] train-rmse:0.000555 
[13998] train-rmse:0.000555 
[13999] train-rmse:0.000555 
[14000] train-rmse:0.000555 
[14001] train-rmse:0.000555 
[14002] train-rmse:0.000555 
[14003] train-rmse:0.000555 
[14004] train-rmse:0.000555 
[14005] train-rmse:0.000555 
[14006] train-rmse:0.000554 
[14007] train-rmse:0.000554 
[14008] train-rmse:0.000554 
[14009] train-rmse:0.000554 
[14010] train-rmse:0.000554 
[14011] train-rmse:0.000554 
[14012] train-rmse:0.000554 
[14013] train-rmse:0.000554 
[14014] train-rmse:0.000554 
[14015] train-rmse:0.000554 
[14016] train-rmse:0.000554 
[14017] train-rmse:0.000554 
[14018] train-rmse:0.000554 
[14019] train-rmse:0.000554 
[14020] train-rmse:0.000554 
[14021] train-rmse:0.000554 
[14022] train-rmse:0.000554 
[14023] train-rmse:0.000554 
[14024] train-rmse:0.000554 
[14025] train-rmse:0.000554 
[14026] train-rmse:0.000554 
[14027] train-rmse:0.000554 
[14028] train-rmse:0.000554 
[14029] train-rmse:0.000554 
[14030] train-rmse:0.000554 
[14031] train-rmse:0.000554 
[14032] train-rmse:0.000554 
[14033] train-rmse:0.000554 
[14034] train-rmse:0.000554 
[14035] train-rmse:0.000554 
[14036] train-rmse:0.000554 
[14037] train-rmse:0.000554 
[14038] train-rmse:0.000554 
[14039] train-rmse:0.000554 
[14040] train-rmse:0.000554 
[14041] train-rmse:0.000554 
[14042] train-rmse:0.000554 
[14043] train-rmse:0.000554 
[14044] train-rmse:0.000554 
[14045] train-rmse:0.000554 
[14046] train-rmse:0.000554 
[14047] train-rmse:0.000554 
[14048] train-rmse:0.000554 
[14049] train-rmse:0.000554 
[14050] train-rmse:0.000554 
[14051] train-rmse:0.000554 
[14052] train-rmse:0.000554 
[14053] train-rmse:0.000554 
[14054] train-rmse:0.000554 
[14055] train-rmse:0.000554 
[14056] train-rmse:0.000554 
[14057] train-rmse:0.000554 
[14058] train-rmse:0.000554 
[14059] train-rmse:0.000554 
[14060] train-rmse:0.000554 
[14061] train-rmse:0.000554 
[14062] train-rmse:0.000554 
[14063] train-rmse:0.000554 
[14064] train-rmse:0.000554 
[14065] train-rmse:0.000554 
[14066] train-rmse:0.000554 
[14067] train-rmse:0.000554 
[14068] train-rmse:0.000554 
[14069] train-rmse:0.000554 
[14070] train-rmse:0.000554 
[14071] train-rmse:0.000554 
[14072] train-rmse:0.000554 
[14073] train-rmse:0.000554 
[14074] train-rmse:0.000554 
[14075] train-rmse:0.000554 
[14076] train-rmse:0.000554 
[14077] train-rmse:0.000554 
[14078] train-rmse:0.000554 
[14079] train-rmse:0.000554 
[14080] train-rmse:0.000554 
[14081] train-rmse:0.000554 
[14082] train-rmse:0.000554 
[14083] train-rmse:0.000554 
[14084] train-rmse:0.000554 
[14085] train-rmse:0.000554 
[14086] train-rmse:0.000554 
[14087] train-rmse:0.000554 
[14088] train-rmse:0.000554 
[14089] train-rmse:0.000554 
[14090] train-rmse:0.000554 
[14091] train-rmse:0.000554 
[14092] train-rmse:0.000554 
[14093] train-rmse:0.000554 
[14094] train-rmse:0.000554 
[14095] train-rmse:0.000554 
[14096] train-rmse:0.000554 
[14097] train-rmse:0.000554 
[14098] train-rmse:0.000554 
[14099] train-rmse:0.000554 
[14100] train-rmse:0.000554 
[14101] train-rmse:0.000554 
[14102] train-rmse:0.000554 
[14103] train-rmse:0.000554 
[14104] train-rmse:0.000554 
[14105] train-rmse:0.000554 
[14106] train-rmse:0.000554 
[14107] train-rmse:0.000554 
[14108] train-rmse:0.000554 
[14109] train-rmse:0.000554 
[14110] train-rmse:0.000554 
[14111] train-rmse:0.000554 
[14112] train-rmse:0.000554 
[14113] train-rmse:0.000554 
[14114] train-rmse:0.000554 
[14115] train-rmse:0.000554 
[14116] train-rmse:0.000554 
[14117] train-rmse:0.000554 
[14118] train-rmse:0.000554 
[14119] train-rmse:0.000554 
[14120] train-rmse:0.000554 
[14121] train-rmse:0.000554 
[14122] train-rmse:0.000554 
[14123] train-rmse:0.000554 
[14124] train-rmse:0.000554 
[14125] train-rmse:0.000554 
[14126] train-rmse:0.000554 
[14127] train-rmse:0.000554 
[14128] train-rmse:0.000554 
[14129] train-rmse:0.000554 
[14130] train-rmse:0.000554 
[14131] train-rmse:0.000554 
[14132] train-rmse:0.000554 
[14133] train-rmse:0.000554 
[14134] train-rmse:0.000554 
[14135] train-rmse:0.000554 
[14136] train-rmse:0.000554 
[14137] train-rmse:0.000554 
[14138] train-rmse:0.000554 
[14139] train-rmse:0.000554 
[14140] train-rmse:0.000554 
[14141] train-rmse:0.000554 
[14142] train-rmse:0.000554 
[14143] train-rmse:0.000554 
[14144] train-rmse:0.000554 
[14145] train-rmse:0.000554 
[14146] train-rmse:0.000554 
[14147] train-rmse:0.000554 
[14148] train-rmse:0.000554 
[14149] train-rmse:0.000554 
[14150] train-rmse:0.000554 
[14151] train-rmse:0.000554 
[14152] train-rmse:0.000554 
[14153] train-rmse:0.000554 
[14154] train-rmse:0.000554 
[14155] train-rmse:0.000554 
[14156] train-rmse:0.000554 
[14157] train-rmse:0.000554 
[14158] train-rmse:0.000554 
[14159] train-rmse:0.000554 
[14160] train-rmse:0.000554 
[14161] train-rmse:0.000554 
[14162] train-rmse:0.000554 
[14163] train-rmse:0.000554 
[14164] train-rmse:0.000554 
[14165] train-rmse:0.000554 
[14166] train-rmse:0.000554 
[14167] train-rmse:0.000554 
[14168] train-rmse:0.000554 
[14169] train-rmse:0.000554 
[14170] train-rmse:0.000554 
[14171] train-rmse:0.000554 
[14172] train-rmse:0.000554 
[14173] train-rmse:0.000554 
[14174] train-rmse:0.000554 
[14175] train-rmse:0.000554 
[14176] train-rmse:0.000554 
[14177] train-rmse:0.000554 
[14178] train-rmse:0.000554 
[14179] train-rmse:0.000554 
[14180] train-rmse:0.000554 
[14181] train-rmse:0.000554 
[14182] train-rmse:0.000554 
[14183] train-rmse:0.000554 
[14184] train-rmse:0.000554 
[14185] train-rmse:0.000554 
[14186] train-rmse:0.000554 
[14187] train-rmse:0.000554 
[14188] train-rmse:0.000554 
[14189] train-rmse:0.000554 
[14190] train-rmse:0.000554 
[14191] train-rmse:0.000554 
[14192] train-rmse:0.000554 
[14193] train-rmse:0.000554 
[14194] train-rmse:0.000554 
[14195] train-rmse:0.000554 
[14196] train-rmse:0.000554 
[14197] train-rmse:0.000554 
[14198] train-rmse:0.000554 
[14199] train-rmse:0.000554 
[14200] train-rmse:0.000554 
[14201] train-rmse:0.000554 
[14202] train-rmse:0.000554 
[14203] train-rmse:0.000554 
[14204] train-rmse:0.000554 
[14205] train-rmse:0.000554 
[14206] train-rmse:0.000554 
[14207] train-rmse:0.000554 
[14208] train-rmse:0.000554 
[14209] train-rmse:0.000554 
[14210] train-rmse:0.000554 
[14211] train-rmse:0.000554 
[14212] train-rmse:0.000554 
[14213] train-rmse:0.000554 
[14214] train-rmse:0.000554 
[14215] train-rmse:0.000554 
[14216] train-rmse:0.000554 
[14217] train-rmse:0.000554 
[14218] train-rmse:0.000554 
[14219] train-rmse:0.000554 
[14220] train-rmse:0.000554 
[14221] train-rmse:0.000554 
[14222] train-rmse:0.000554 
[14223] train-rmse:0.000554 
[14224] train-rmse:0.000554 
[14225] train-rmse:0.000554 
[14226] train-rmse:0.000554 
[14227] train-rmse:0.000554 
[14228] train-rmse:0.000554 
[14229] train-rmse:0.000554 
[14230] train-rmse:0.000554 
[14231] train-rmse:0.000554 
[14232] train-rmse:0.000554 
[14233] train-rmse:0.000554 
[14234] train-rmse:0.000554 
[14235] train-rmse:0.000554 
[14236] train-rmse:0.000554 
[14237] train-rmse:0.000554 
[14238] train-rmse:0.000554 
[14239] train-rmse:0.000554 
[14240] train-rmse:0.000554 
[14241] train-rmse:0.000554 
[14242] train-rmse:0.000554 
[14243] train-rmse:0.000554 
[14244] train-rmse:0.000554 
[14245] train-rmse:0.000554 
[14246] train-rmse:0.000554 
[14247] train-rmse:0.000554 
[14248] train-rmse:0.000554 
[14249] train-rmse:0.000554 
[14250] train-rmse:0.000554 
[14251] train-rmse:0.000554 
[14252] train-rmse:0.000554 
[14253] train-rmse:0.000554 
[14254] train-rmse:0.000554 
[14255] train-rmse:0.000554 
[14256] train-rmse:0.000554 
[14257] train-rmse:0.000554 
[14258] train-rmse:0.000554 
[14259] train-rmse:0.000554 
[14260] train-rmse:0.000554 
[14261] train-rmse:0.000554 
[14262] train-rmse:0.000554 
[14263] train-rmse:0.000554 
[14264] train-rmse:0.000554 
[14265] train-rmse:0.000554 
[14266] train-rmse:0.000554 
[14267] train-rmse:0.000554 
[14268] train-rmse:0.000554 
[14269] train-rmse:0.000554 
[14270] train-rmse:0.000554 
[14271] train-rmse:0.000554 
[14272] train-rmse:0.000554 
[14273] train-rmse:0.000554 
[14274] train-rmse:0.000554 
[14275] train-rmse:0.000554 
[14276] train-rmse:0.000554 
[14277] train-rmse:0.000554 
[14278] train-rmse:0.000554 
[14279] train-rmse:0.000554 
[14280] train-rmse:0.000553 
[14281] train-rmse:0.000553 
[14282] train-rmse:0.000554 
[14283] train-rmse:0.000553 
[14284] train-rmse:0.000553 
[14285] train-rmse:0.000554 
[14286] train-rmse:0.000554 
[14287] train-rmse:0.000554 
[14288] train-rmse:0.000554 
[14289] train-rmse:0.000554 
[14290] train-rmse:0.000554 
[14291] train-rmse:0.000554 
[14292] train-rmse:0.000553 
[14293] train-rmse:0.000554 
[14294] train-rmse:0.000554 
[14295] train-rmse:0.000554 
[14296] train-rmse:0.000554 
[14297] train-rmse:0.000553 
[14298] train-rmse:0.000553 
[14299] train-rmse:0.000553 
[14300] train-rmse:0.000553 
[14301] train-rmse:0.000553 
[14302] train-rmse:0.000553 
[14303] train-rmse:0.000553 
[14304] train-rmse:0.000553 
[14305] train-rmse:0.000553 
[14306] train-rmse:0.000553 
[14307] train-rmse:0.000553 
[14308] train-rmse:0.000553 
[14309] train-rmse:0.000553 
[14310] train-rmse:0.000553 
[14311] train-rmse:0.000553 
[14312] train-rmse:0.000553 
[14313] train-rmse:0.000553 
[14314] train-rmse:0.000553 
[14315] train-rmse:0.000553 
[14316] train-rmse:0.000553 
[14317] train-rmse:0.000553 
[14318] train-rmse:0.000553 
[14319] train-rmse:0.000553 
[14320] train-rmse:0.000553 
[14321] train-rmse:0.000553 
[14322] train-rmse:0.000553 
[14323] train-rmse:0.000553 
[14324] train-rmse:0.000553 
[14325] train-rmse:0.000553 
[14326] train-rmse:0.000553 
[14327] train-rmse:0.000553 
[14328] train-rmse:0.000554 
[14329] train-rmse:0.000554 
[14330] train-rmse:0.000554 
[14331] train-rmse:0.000554 
[14332] train-rmse:0.000554 
[14333] train-rmse:0.000554 
[14334] train-rmse:0.000554 
[14335] train-rmse:0.000554 
[14336] train-rmse:0.000554 
[14337] train-rmse:0.000554 
[14338] train-rmse:0.000554 
[14339] train-rmse:0.000553 
[14340] train-rmse:0.000553 
[14341] train-rmse:0.000553 
[14342] train-rmse:0.000553 
[14343] train-rmse:0.000553 
[14344] train-rmse:0.000553 
[14345] train-rmse:0.000553 
[14346] train-rmse:0.000553 
[14347] train-rmse:0.000553 
[14348] train-rmse:0.000553 
[14349] train-rmse:0.000553 
[14350] train-rmse:0.000553 
[14351] train-rmse:0.000553 
[14352] train-rmse:0.000553 
[14353] train-rmse:0.000553 
[14354] train-rmse:0.000553 
[14355] train-rmse:0.000553 
[14356] train-rmse:0.000553 
[14357] train-rmse:0.000553 
[14358] train-rmse:0.000553 
[14359] train-rmse:0.000553 
[14360] train-rmse:0.000553 
[14361] train-rmse:0.000553 
[14362] train-rmse:0.000553 
[14363] train-rmse:0.000553 
[14364] train-rmse:0.000553 
[14365] train-rmse:0.000553 
[14366] train-rmse:0.000553 
[14367] train-rmse:0.000553 
[14368] train-rmse:0.000553 
[14369] train-rmse:0.000553 
[14370] train-rmse:0.000553 
[14371] train-rmse:0.000554 
[14372] train-rmse:0.000554 
[14373] train-rmse:0.000553 
[14374] train-rmse:0.000553 
[14375] train-rmse:0.000553 
[14376] train-rmse:0.000553 
[14377] train-rmse:0.000553 
[14378] train-rmse:0.000553 
[14379] train-rmse:0.000553 
[14380] train-rmse:0.000553 
[14381] train-rmse:0.000553 
[14382] train-rmse:0.000553 
[14383] train-rmse:0.000553 
[14384] train-rmse:0.000553 
[14385] train-rmse:0.000553 
[14386] train-rmse:0.000553 
[14387] train-rmse:0.000553 
[14388] train-rmse:0.000553 
[14389] train-rmse:0.000553 
[14390] train-rmse:0.000553 
[14391] train-rmse:0.000553 
[14392] train-rmse:0.000553 
[14393] train-rmse:0.000553 
[14394] train-rmse:0.000553 
[14395] train-rmse:0.000553 
[14396] train-rmse:0.000553 
[14397] train-rmse:0.000553 
[14398] train-rmse:0.000553 
[14399] train-rmse:0.000553 
[14400] train-rmse:0.000553 
[14401] train-rmse:0.000553 
[14402] train-rmse:0.000553 
[14403] train-rmse:0.000553 
[14404] train-rmse:0.000553 
[14405] train-rmse:0.000553 
[14406] train-rmse:0.000553 
[14407] train-rmse:0.000553 
[14408] train-rmse:0.000553 
[14409] train-rmse:0.000553 
[14410] train-rmse:0.000553 
[14411] train-rmse:0.000553 
[14412] train-rmse:0.000553 
[14413] train-rmse:0.000553 
[14414] train-rmse:0.000553 
[14415] train-rmse:0.000553 
[14416] train-rmse:0.000553 
[14417] train-rmse:0.000553 
[14418] train-rmse:0.000553 
[14419] train-rmse:0.000553 
[14420] train-rmse:0.000553 
[14421] train-rmse:0.000553 
[14422] train-rmse:0.000553 
[14423] train-rmse:0.000553 
[14424] train-rmse:0.000553 
[14425] train-rmse:0.000553 
[14426] train-rmse:0.000553 
[14427] train-rmse:0.000553 
[14428] train-rmse:0.000553 
[14429] train-rmse:0.000553 
[14430] train-rmse:0.000553 
[14431] train-rmse:0.000553 
[14432] train-rmse:0.000553 
[14433] train-rmse:0.000553 
[14434] train-rmse:0.000553 
[14435] train-rmse:0.000553 
[14436] train-rmse:0.000553 
[14437] train-rmse:0.000553 
[14438] train-rmse:0.000553 
[14439] train-rmse:0.000553 
[14440] train-rmse:0.000553 
[14441] train-rmse:0.000553 
[14442] train-rmse:0.000553 
[14443] train-rmse:0.000553 
[14444] train-rmse:0.000553 
[14445] train-rmse:0.000553 
[14446] train-rmse:0.000553 
[14447] train-rmse:0.000553 
[14448] train-rmse:0.000553 
[14449] train-rmse:0.000553 
[14450] train-rmse:0.000553 
[14451] train-rmse:0.000553 
[14452] train-rmse:0.000553 
[14453] train-rmse:0.000553 
[14454] train-rmse:0.000553 
[14455] train-rmse:0.000553 
[14456] train-rmse:0.000553 
[14457] train-rmse:0.000553 
[14458] train-rmse:0.000553 
[14459] train-rmse:0.000553 
[14460] train-rmse:0.000553 
[14461] train-rmse:0.000553 
[14462] train-rmse:0.000553 
[14463] train-rmse:0.000553 
[14464] train-rmse:0.000553 
[14465] train-rmse:0.000553 
[14466] train-rmse:0.000553 
[14467] train-rmse:0.000553 
[14468] train-rmse:0.000553 
[14469] train-rmse:0.000553 
[14470] train-rmse:0.000553 
[14471] train-rmse:0.000553 
[14472] train-rmse:0.000553 
[14473] train-rmse:0.000553 
[14474] train-rmse:0.000553 
[14475] train-rmse:0.000553 
[14476] train-rmse:0.000553 
[14477] train-rmse:0.000553 
[14478] train-rmse:0.000553 
[14479] train-rmse:0.000554 
[14480] train-rmse:0.000553 
[14481] train-rmse:0.000553 
[14482] train-rmse:0.000553 
[14483] train-rmse:0.000553 
[14484] train-rmse:0.000553 
[14485] train-rmse:0.000553 
[14486] train-rmse:0.000553 
[14487] train-rmse:0.000553 
[14488] train-rmse:0.000553 
[14489] train-rmse:0.000553 
[14490] train-rmse:0.000553 
[14491] train-rmse:0.000553 
[14492] train-rmse:0.000553 
[14493] train-rmse:0.000553 
[14494] train-rmse:0.000553 
[14495] train-rmse:0.000553 
[14496] train-rmse:0.000553 
[14497] train-rmse:0.000553 
[14498] train-rmse:0.000553 
[14499] train-rmse:0.000553 
[14500] train-rmse:0.000553 
[14501] train-rmse:0.000553 
[14502] train-rmse:0.000553 
[14503] train-rmse:0.000553 
[14504] train-rmse:0.000553 
[14505] train-rmse:0.000553 
[14506] train-rmse:0.000553 
[14507] train-rmse:0.000553 
[14508] train-rmse:0.000553 
[14509] train-rmse:0.000553 
[14510] train-rmse:0.000553 
[14511] train-rmse:0.000553 
[14512] train-rmse:0.000554 
[14513] train-rmse:0.000554 
[14514] train-rmse:0.000553 
[14515] train-rmse:0.000553 
[14516] train-rmse:0.000554 
[14517] train-rmse:0.000553 
[14518] train-rmse:0.000553 
[14519] train-rmse:0.000553 
[14520] train-rmse:0.000553 
[14521] train-rmse:0.000553 
[14522] train-rmse:0.000553 
[14523] train-rmse:0.000553 
[14524] train-rmse:0.000553 
[14525] train-rmse:0.000553 
[14526] train-rmse:0.000553 
[14527] train-rmse:0.000553 
[14528] train-rmse:0.000553 
[14529] train-rmse:0.000553 
[14530] train-rmse:0.000553 
[14531] train-rmse:0.000553 
[14532] train-rmse:0.000553 
[14533] train-rmse:0.000553 
[14534] train-rmse:0.000553 
[14535] train-rmse:0.000553 
[14536] train-rmse:0.000553 
[14537] train-rmse:0.000553 
[14538] train-rmse:0.000553 
[14539] train-rmse:0.000553 
[14540] train-rmse:0.000553 
[14541] train-rmse:0.000553 
[14542] train-rmse:0.000553 
[14543] train-rmse:0.000553 
[14544] train-rmse:0.000553 
[14545] train-rmse:0.000553 
[14546] train-rmse:0.000553 
[14547] train-rmse:0.000553 
[14548] train-rmse:0.000553 
[14549] train-rmse:0.000553 
[14550] train-rmse:0.000553 
[14551] train-rmse:0.000553 
[14552] train-rmse:0.000553 
[14553] train-rmse:0.000553 
[14554] train-rmse:0.000553 
[14555] train-rmse:0.000553 
[14556] train-rmse:0.000553 
[14557] train-rmse:0.000553 
[14558] train-rmse:0.000553 
[14559] train-rmse:0.000553 
[14560] train-rmse:0.000553 
[14561] train-rmse:0.000553 
[14562] train-rmse:0.000553 
[14563] train-rmse:0.000553 
[14564] train-rmse:0.000553 
[14565] train-rmse:0.000553 
[14566] train-rmse:0.000553 
[14567] train-rmse:0.000553 
[14568] train-rmse:0.000553 
[14569] train-rmse:0.000553 
[14570] train-rmse:0.000553 
[14571] train-rmse:0.000553 
[14572] train-rmse:0.000553 
[14573] train-rmse:0.000553 
[14574] train-rmse:0.000553 
[14575] train-rmse:0.000553 
[14576] train-rmse:0.000553 
[14577] train-rmse:0.000553 
[14578] train-rmse:0.000553 
[14579] train-rmse:0.000553 
[14580] train-rmse:0.000553 
[14581] train-rmse:0.000553 
[14582] train-rmse:0.000553 
[14583] train-rmse:0.000553 
[14584] train-rmse:0.000553 
[14585] train-rmse:0.000553 
[14586] train-rmse:0.000553 
[14587] train-rmse:0.000553 
[14588] train-rmse:0.000553 
[14589] train-rmse:0.000553 
[14590] train-rmse:0.000553 
[14591] train-rmse:0.000553 
[14592] train-rmse:0.000553 
[14593] train-rmse:0.000553 
[14594] train-rmse:0.000553 
[14595] train-rmse:0.000553 
[14596] train-rmse:0.000553 
[14597] train-rmse:0.000553 
[14598] train-rmse:0.000553 
[14599] train-rmse:0.000553 
[14600] train-rmse:0.000553 
[14601] train-rmse:0.000553 
[14602] train-rmse:0.000553 
[14603] train-rmse:0.000552 
[14604] train-rmse:0.000552 
[14605] train-rmse:0.000552 
[14606] train-rmse:0.000552 
[14607] train-rmse:0.000552 
[14608] train-rmse:0.000552 
[14609] train-rmse:0.000552 
[14610] train-rmse:0.000552 
[14611] train-rmse:0.000552 
[14612] train-rmse:0.000552 
[14613] train-rmse:0.000552 
[14614] train-rmse:0.000552 
[14615] train-rmse:0.000552 
[14616] train-rmse:0.000552 
[14617] train-rmse:0.000552 
[14618] train-rmse:0.000552 
[14619] train-rmse:0.000552 
[14620] train-rmse:0.000552 
[14621] train-rmse:0.000552 
[14622] train-rmse:0.000552 
[14623] train-rmse:0.000552 
[14624] train-rmse:0.000552 
[14625] train-rmse:0.000552 
[14626] train-rmse:0.000552 
[14627] train-rmse:0.000552 
[14628] train-rmse:0.000552 
[14629] train-rmse:0.000552 
[14630] train-rmse:0.000553 
[14631] train-rmse:0.000553 
[14632] train-rmse:0.000552 
[14633] train-rmse:0.000552 
[14634] train-rmse:0.000552 
[14635] train-rmse:0.000552 
[14636] train-rmse:0.000552 
[14637] train-rmse:0.000552 
[14638] train-rmse:0.000552 
[14639] train-rmse:0.000552 
[14640] train-rmse:0.000552 
[14641] train-rmse:0.000552 
[14642] train-rmse:0.000552 
[14643] train-rmse:0.000552 
[14644] train-rmse:0.000552 
[14645] train-rmse:0.000552 
[14646] train-rmse:0.000552 
[14647] train-rmse:0.000552 
[14648] train-rmse:0.000552 
[14649] train-rmse:0.000552 
[14650] train-rmse:0.000552 
[14651] train-rmse:0.000552 
[14652] train-rmse:0.000552 
[14653] train-rmse:0.000552 
[14654] train-rmse:0.000552 
[14655] train-rmse:0.000552 
[14656] train-rmse:0.000552 
[14657] train-rmse:0.000552 
[14658] train-rmse:0.000552 
[14659] train-rmse:0.000552 
[14660] train-rmse:0.000552 
[14661] train-rmse:0.000552 
[14662] train-rmse:0.000552 
[14663] train-rmse:0.000552 
[14664] train-rmse:0.000552 
[14665] train-rmse:0.000552 
[14666] train-rmse:0.000552 
[14667] train-rmse:0.000552 
[14668] train-rmse:0.000552 
[14669] train-rmse:0.000552 
[14670] train-rmse:0.000552 
[14671] train-rmse:0.000552 
[14672] train-rmse:0.000552 
[14673] train-rmse:0.000552 
[14674] train-rmse:0.000552 
[14675] train-rmse:0.000552 
[14676] train-rmse:0.000552 
[14677] train-rmse:0.000552 
[14678] train-rmse:0.000552 
[14679] train-rmse:0.000553 
[14680] train-rmse:0.000553 
[14681] train-rmse:0.000553 
[14682] train-rmse:0.000552 
[14683] train-rmse:0.000552 
[14684] train-rmse:0.000552 
[14685] train-rmse:0.000552 
[14686] train-rmse:0.000552 
[14687] train-rmse:0.000552 
[14688] train-rmse:0.000552 
[14689] train-rmse:0.000552 
[14690] train-rmse:0.000552 
[14691] train-rmse:0.000552 
[14692] train-rmse:0.000552 
[14693] train-rmse:0.000552 
[14694] train-rmse:0.000552 
[14695] train-rmse:0.000552 
[14696] train-rmse:0.000552 
[14697] train-rmse:0.000552 
[14698] train-rmse:0.000552 
[14699] train-rmse:0.000552 
[14700] train-rmse:0.000552 
[14701] train-rmse:0.000552 
[14702] train-rmse:0.000552 
[14703] train-rmse:0.000553 
[14704] train-rmse:0.000552 
[14705] train-rmse:0.000552 
[14706] train-rmse:0.000553 
[14707] train-rmse:0.000553 
[14708] train-rmse:0.000553 
[14709] train-rmse:0.000553 
[14710] train-rmse:0.000553 
[14711] train-rmse:0.000552 
[14712] train-rmse:0.000552 
[14713] train-rmse:0.000553 
[14714] train-rmse:0.000552 
[14715] train-rmse:0.000552 
[14716] train-rmse:0.000553 
[14717] train-rmse:0.000553 
[14718] train-rmse:0.000552 
[14719] train-rmse:0.000552 
[14720] train-rmse:0.000552 
[14721] train-rmse:0.000552 
[14722] train-rmse:0.000552 
[14723] train-rmse:0.000552 
[14724] train-rmse:0.000552 
[14725] train-rmse:0.000552 
[14726] train-rmse:0.000552 
[14727] train-rmse:0.000552 
[14728] train-rmse:0.000552 
[14729] train-rmse:0.000552 
[14730] train-rmse:0.000552 
[14731] train-rmse:0.000552 
[14732] train-rmse:0.000552 
[14733] train-rmse:0.000552 
[14734] train-rmse:0.000552 
[14735] train-rmse:0.000552 
[14736] train-rmse:0.000552 
[14737] train-rmse:0.000552 
[14738] train-rmse:0.000552 
[14739] train-rmse:0.000552 
[14740] train-rmse:0.000552 
[14741] train-rmse:0.000552 
[14742] train-rmse:0.000552 
[14743] train-rmse:0.000552 
[14744] train-rmse:0.000552 
[14745] train-rmse:0.000552 
[14746] train-rmse:0.000552 
[14747] train-rmse:0.000552 
[14748] train-rmse:0.000552 
[14749] train-rmse:0.000552 
[14750] train-rmse:0.000552 
[14751] train-rmse:0.000552 
[14752] train-rmse:0.000552 
[14753] train-rmse:0.000552 
[14754] train-rmse:0.000552 
[14755] train-rmse:0.000552 
[14756] train-rmse:0.000552 
[14757] train-rmse:0.000552 
[14758] train-rmse:0.000552 
[14759] train-rmse:0.000552 
[14760] train-rmse:0.000552 
[14761] train-rmse:0.000552 
[14762] train-rmse:0.000552 
[14763] train-rmse:0.000552 
[14764] train-rmse:0.000552 
[14765] train-rmse:0.000552 
[14766] train-rmse:0.000552 
[14767] train-rmse:0.000552 
[14768] train-rmse:0.000552 
[14769] train-rmse:0.000552 
[14770] train-rmse:0.000552 
[14771] train-rmse:0.000552 
[14772] train-rmse:0.000552 
[14773] train-rmse:0.000552 
[14774] train-rmse:0.000552 
[14775] train-rmse:0.000552 
[14776] train-rmse:0.000552 
[14777] train-rmse:0.000552 
[14778] train-rmse:0.000552 
[14779] train-rmse:0.000552 
[14780] train-rmse:0.000552 
[14781] train-rmse:0.000552 
[14782] train-rmse:0.000552 
[14783] train-rmse:0.000552 
[14784] train-rmse:0.000552 
[14785] train-rmse:0.000552 
[14786] train-rmse:0.000552 
[14787] train-rmse:0.000552 
[14788] train-rmse:0.000552 
[14789] train-rmse:0.000552 
[14790] train-rmse:0.000552 
[14791] train-rmse:0.000552 
[14792] train-rmse:0.000552 
[14793] train-rmse:0.000552 
[14794] train-rmse:0.000552 
[14795] train-rmse:0.000552 
[14796] train-rmse:0.000552 
[14797] train-rmse:0.000552 
[14798] train-rmse:0.000552 
[14799] train-rmse:0.000552 
[14800] train-rmse:0.000552 
[14801] train-rmse:0.000552 
[14802] train-rmse:0.000551 
[14803] train-rmse:0.000551 
[14804] train-rmse:0.000551 
[14805] train-rmse:0.000551 
[14806] train-rmse:0.000552 
[14807] train-rmse:0.000551 
[14808] train-rmse:0.000551 
[14809] train-rmse:0.000551 
[14810] train-rmse:0.000551 
[14811] train-rmse:0.000551 
[14812] train-rmse:0.000552 
[14813] train-rmse:0.000552 
[14814] train-rmse:0.000552 
[14815] train-rmse:0.000552 
[14816] train-rmse:0.000552 
[14817] train-rmse:0.000552 
[14818] train-rmse:0.000552 
[14819] train-rmse:0.000552 
[14820] train-rmse:0.000552 
[14821] train-rmse:0.000552 
[14822] train-rmse:0.000552 
[14823] train-rmse:0.000552 
[14824] train-rmse:0.000552 
[14825] train-rmse:0.000552 
[14826] train-rmse:0.000551 
[14827] train-rmse:0.000551 
[14828] train-rmse:0.000551 
[14829] train-rmse:0.000551 
[14830] train-rmse:0.000551 
[14831] train-rmse:0.000551 
[14832] train-rmse:0.000552 
[14833] train-rmse:0.000551 
[14834] train-rmse:0.000551 
[14835] train-rmse:0.000551 
[14836] train-rmse:0.000551 
[14837] train-rmse:0.000551 
[14838] train-rmse:0.000551 
[14839] train-rmse:0.000551 
[14840] train-rmse:0.000551 
[14841] train-rmse:0.000551 
[14842] train-rmse:0.000552 
[14843] train-rmse:0.000552 
[14844] train-rmse:0.000552 
[14845] train-rmse:0.000552 
[14846] train-rmse:0.000552 
[14847] train-rmse:0.000552 
[14848] train-rmse:0.000552 
[14849] train-rmse:0.000552 
[14850] train-rmse:0.000552 
[14851] train-rmse:0.000552 
[14852] train-rmse:0.000552 
[14853] train-rmse:0.000552 
[14854] train-rmse:0.000552 
[14855] train-rmse:0.000551 
[14856] train-rmse:0.000551 
[14857] train-rmse:0.000551 
[14858] train-rmse:0.000551 
[14859] train-rmse:0.000551 
[14860] train-rmse:0.000551 
[14861] train-rmse:0.000551 
[14862] train-rmse:0.000551 
[14863] train-rmse:0.000551 
[14864] train-rmse:0.000551 
[14865] train-rmse:0.000551 
[14866] train-rmse:0.000551 
[14867] train-rmse:0.000551 
[14868] train-rmse:0.000551 
[14869] train-rmse:0.000551 
[14870] train-rmse:0.000551 
[14871] train-rmse:0.000551 
[14872] train-rmse:0.000551 
[14873] train-rmse:0.000551 
[14874] train-rmse:0.000551 
[14875] train-rmse:0.000551 
[14876] train-rmse:0.000551 
[14877] train-rmse:0.000551 
[14878] train-rmse:0.000551 
[14879] train-rmse:0.000551 
[14880] train-rmse:0.000551 
[14881] train-rmse:0.000551 
[14882] train-rmse:0.000551 
[14883] train-rmse:0.000551 
[14884] train-rmse:0.000551 
[14885] train-rmse:0.000551 
[14886] train-rmse:0.000551 
[14887] train-rmse:0.000551 
[14888] train-rmse:0.000551 
[14889] train-rmse:0.000551 
[14890] train-rmse:0.000551 
[14891] train-rmse:0.000551 
[14892] train-rmse:0.000551 
[14893] train-rmse:0.000551 
[14894] train-rmse:0.000551 
[14895] train-rmse:0.000551 
[14896] train-rmse:0.000551 
[14897] train-rmse:0.000551 
[14898] train-rmse:0.000551 
[14899] train-rmse:0.000551 
[14900] train-rmse:0.000551 
[14901] train-rmse:0.000551 
[14902] train-rmse:0.000551 
[14903] train-rmse:0.000551 
[14904] train-rmse:0.000551 
[14905] train-rmse:0.000551 
[14906] train-rmse:0.000551 
[14907] train-rmse:0.000551 
[14908] train-rmse:0.000551 
[14909] train-rmse:0.000551 
[14910] train-rmse:0.000551 
[14911] train-rmse:0.000551 
[14912] train-rmse:0.000551 
[14913] train-rmse:0.000551 
[14914] train-rmse:0.000551 
[14915] train-rmse:0.000551 
[14916] train-rmse:0.000551 
[14917] train-rmse:0.000551 
[14918] train-rmse:0.000551 
[14919] train-rmse:0.000551 
[14920] train-rmse:0.000551 
[14921] train-rmse:0.000551 
[14922] train-rmse:0.000551 
[14923] train-rmse:0.000551 
[14924] train-rmse:0.000551 
[14925] train-rmse:0.000551 
[14926] train-rmse:0.000551 
[14927] train-rmse:0.000551 
[14928] train-rmse:0.000551 
[14929] train-rmse:0.000551 
[14930] train-rmse:0.000551 
[14931] train-rmse:0.000551 
[14932] train-rmse:0.000551 
[14933] train-rmse:0.000551 
[14934] train-rmse:0.000550 
[14935] train-rmse:0.000550 
[14936] train-rmse:0.000550 
[14937] train-rmse:0.000550 
[14938] train-rmse:0.000551 
[14939] train-rmse:0.000550 
[14940] train-rmse:0.000551 
[14941] train-rmse:0.000550 
[14942] train-rmse:0.000550 
[14943] train-rmse:0.000550 
[14944] train-rmse:0.000550 
[14945] train-rmse:0.000550 
[14946] train-rmse:0.000550 
[14947] train-rmse:0.000550 
[14948] train-rmse:0.000550 
[14949] train-rmse:0.000550 
[14950] train-rmse:0.000550 
[14951] train-rmse:0.000550 
[14952] train-rmse:0.000550 
[14953] train-rmse:0.000550 
[14954] train-rmse:0.000550 
[14955] train-rmse:0.000550 
[14956] train-rmse:0.000550 
[14957] train-rmse:0.000550 
[14958] train-rmse:0.000550 
[14959] train-rmse:0.000549 
[14960] train-rmse:0.000550 
[14961] train-rmse:0.000549 
[14962] train-rmse:0.000549 
[14963] train-rmse:0.000550 
[14964] train-rmse:0.000549 
[14965] train-rmse:0.000549 
[14966] train-rmse:0.000549 
[14967] train-rmse:0.000549 
[14968] train-rmse:0.000549 
[14969] train-rmse:0.000550 
[14970] train-rmse:0.000549 
[14971] train-rmse:0.000549 
[14972] train-rmse:0.000549 
[14973] train-rmse:0.000549 
[14974] train-rmse:0.000549 
[14975] train-rmse:0.000550 
[14976] train-rmse:0.000550 
[14977] train-rmse:0.000549 
[14978] train-rmse:0.000549 
[14979] train-rmse:0.000549 
[14980] train-rmse:0.000549 
[14981] train-rmse:0.000549 
[14982] train-rmse:0.000549 
[14983] train-rmse:0.000549 
[14984] train-rmse:0.000549 
[14985] train-rmse:0.000549 
[14986] train-rmse:0.000549 
[14987] train-rmse:0.000549 
[14988] train-rmse:0.000549 
[14989] train-rmse:0.000549 
[14990] train-rmse:0.000549 
[14991] train-rmse:0.000549 
[14992] train-rmse:0.000549 
[14993] train-rmse:0.000549 
[14994] train-rmse:0.000549 
[14995] train-rmse:0.000549 
[14996] train-rmse:0.000549 
[14997] train-rmse:0.000550 
[14998] train-rmse:0.000549 
[14999] train-rmse:0.000549 
[15000] train-rmse:0.000549 
[15001] train-rmse:0.000550 
[15002] train-rmse:0.000550 
[15003] train-rmse:0.000550 
[15004] train-rmse:0.000550 
[15005] train-rmse:0.000549 
[15006] train-rmse:0.000550 
[15007] train-rmse:0.000550 
[15008] train-rmse:0.000549 
[15009] train-rmse:0.000549 
[15010] train-rmse:0.000549 
[15011] train-rmse:0.000550 
[15012] train-rmse:0.000549 
[15013] train-rmse:0.000549 
[15014] train-rmse:0.000549 
[15015] train-rmse:0.000549 
[15016] train-rmse:0.000549 
[15017] train-rmse:0.000550 
[15018] train-rmse:0.000550 
[15019] train-rmse:0.000549 
[15020] train-rmse:0.000549 
[15021] train-rmse:0.000549 
[15022] train-rmse:0.000549 
[15023] train-rmse:0.000549 
[15024] train-rmse:0.000549 
[15025] train-rmse:0.000549 
[15026] train-rmse:0.000549 
[15027] train-rmse:0.000549 
[15028] train-rmse:0.000549 
[15029] train-rmse:0.000549 
[15030] train-rmse:0.000549 
[15031] train-rmse:0.000549 
[15032] train-rmse:0.000549 
[15033] train-rmse:0.000549 
[15034] train-rmse:0.000549 
[15035] train-rmse:0.000549 
[15036] train-rmse:0.000549 
[15037] train-rmse:0.000549 
[15038] train-rmse:0.000549 
[15039] train-rmse:0.000549 
[15040] train-rmse:0.000549 
[15041] train-rmse:0.000549 
[15042] train-rmse:0.000549 
[15043] train-rmse:0.000549 
[15044] train-rmse:0.000549 
[15045] train-rmse:0.000549 
[15046] train-rmse:0.000549 
[15047] train-rmse:0.000549 
[15048] train-rmse:0.000549 
[15049] train-rmse:0.000549 
[15050] train-rmse:0.000549 
[15051] train-rmse:0.000549 
[15052] train-rmse:0.000549 
[15053] train-rmse:0.000549 
[15054] train-rmse:0.000549 
[15055] train-rmse:0.000549 
[15056] train-rmse:0.000549 
[15057] train-rmse:0.000549 
[15058] train-rmse:0.000549 
[15059] train-rmse:0.000549 
[15060] train-rmse:0.000549 
[15061] train-rmse:0.000549 
[15062] train-rmse:0.000549 
[15063] train-rmse:0.000549 
[15064] train-rmse:0.000549 
[15065] train-rmse:0.000549 
[15066] train-rmse:0.000549 
[15067] train-rmse:0.000549 
[15068] train-rmse:0.000549 
[15069] train-rmse:0.000549 
[15070] train-rmse:0.000549 
[15071] train-rmse:0.000549 
[15072] train-rmse:0.000549 
[15073] train-rmse:0.000549 
[15074] train-rmse:0.000549 
[15075] train-rmse:0.000549 
[15076] train-rmse:0.000549 
[15077] train-rmse:0.000549 
[15078] train-rmse:0.000549 
[15079] train-rmse:0.000549 
[15080] train-rmse:0.000549 
[15081] train-rmse:0.000549 
[15082] train-rmse:0.000549 
[15083] train-rmse:0.000549 
[15084] train-rmse:0.000548 
[15085] train-rmse:0.000548 
[15086] train-rmse:0.000548 
[15087] train-rmse:0.000548 
[15088] train-rmse:0.000548 
[15089] train-rmse:0.000548 
[15090] train-rmse:0.000548 
[15091] train-rmse:0.000548 
[15092] train-rmse:0.000548 
[15093] train-rmse:0.000548 
[15094] train-rmse:0.000548 
[15095] train-rmse:0.000548 
[15096] train-rmse:0.000548 
[15097] train-rmse:0.000548 
[15098] train-rmse:0.000548 
[15099] train-rmse:0.000548 
[15100] train-rmse:0.000548 
[15101] train-rmse:0.000548 
[15102] train-rmse:0.000548 
[15103] train-rmse:0.000548 
[15104] train-rmse:0.000548 
[15105] train-rmse:0.000548 
[15106] train-rmse:0.000548 
[15107] train-rmse:0.000548 
[15108] train-rmse:0.000548 
[15109] train-rmse:0.000548 
[15110] train-rmse:0.000548 
[15111] train-rmse:0.000548 
[15112] train-rmse:0.000548 
[15113] train-rmse:0.000548 
[15114] train-rmse:0.000548 
[15115] train-rmse:0.000548 
[15116] train-rmse:0.000548 
[15117] train-rmse:0.000548 
[15118] train-rmse:0.000548 
[15119] train-rmse:0.000548 
[15120] train-rmse:0.000548 
[15121] train-rmse:0.000548 
[15122] train-rmse:0.000548 
[15123] train-rmse:0.000548 
[15124] train-rmse:0.000548 
[15125] train-rmse:0.000548 
[15126] train-rmse:0.000548 
[15127] train-rmse:0.000548 
[15128] train-rmse:0.000548 
[15129] train-rmse:0.000548 
[15130] train-rmse:0.000548 
[15131] train-rmse:0.000548 
[15132] train-rmse:0.000548 
[15133] train-rmse:0.000548 
[15134] train-rmse:0.000548 
[15135] train-rmse:0.000548 
[15136] train-rmse:0.000548 
[15137] train-rmse:0.000548 
[15138] train-rmse:0.000548 
[15139] train-rmse:0.000548 
[15140] train-rmse:0.000548 
[15141] train-rmse:0.000548 
[15142] train-rmse:0.000548 
[15143] train-rmse:0.000548 
[15144] train-rmse:0.000548 
[15145] train-rmse:0.000548 
[15146] train-rmse:0.000548 
[15147] train-rmse:0.000548 
[15148] train-rmse:0.000548 
[15149] train-rmse:0.000548 
[15150] train-rmse:0.000548 
[15151] train-rmse:0.000548 
[15152] train-rmse:0.000548 
[15153] train-rmse:0.000548 
[15154] train-rmse:0.000548 
[15155] train-rmse:0.000548 
[15156] train-rmse:0.000548 
[15157] train-rmse:0.000548 
[15158] train-rmse:0.000548 
[15159] train-rmse:0.000548 
[15160] train-rmse:0.000548 
[15161] train-rmse:0.000548 
[15162] train-rmse:0.000548 
[15163] train-rmse:0.000548 
[15164] train-rmse:0.000548 
[15165] train-rmse:0.000548 
[15166] train-rmse:0.000548 
[15167] train-rmse:0.000548 
[15168] train-rmse:0.000548 
[15169] train-rmse:0.000548 
[15170] train-rmse:0.000548 
[15171] train-rmse:0.000548 
[15172] train-rmse:0.000548 
[15173] train-rmse:0.000548 
[15174] train-rmse:0.000548 
[15175] train-rmse:0.000548 
[15176] train-rmse:0.000548 
[15177] train-rmse:0.000548 
[15178] train-rmse:0.000548 
[15179] train-rmse:0.000548 
[15180] train-rmse:0.000548 
[15181] train-rmse:0.000548 
[15182] train-rmse:0.000548 
[15183] train-rmse:0.000548 
[15184] train-rmse:0.000548 
[15185] train-rmse:0.000548 
[15186] train-rmse:0.000548 
[15187] train-rmse:0.000548 
[15188] train-rmse:0.000548 
[15189] train-rmse:0.000548 
[15190] train-rmse:0.000548 
[15191] train-rmse:0.000548 
[15192] train-rmse:0.000548 
[15193] train-rmse:0.000548 
[15194] train-rmse:0.000548 
[15195] train-rmse:0.000547 
[15196] train-rmse:0.000547 
[15197] train-rmse:0.000547 
[15198] train-rmse:0.000547 
[15199] train-rmse:0.000547 
[15200] train-rmse:0.000547 
[15201] train-rmse:0.000547 
[15202] train-rmse:0.000547 
[15203] train-rmse:0.000547 
[15204] train-rmse:0.000547 
[15205] train-rmse:0.000547 
[15206] train-rmse:0.000547 
[15207] train-rmse:0.000547 
[15208] train-rmse:0.000547 
[15209] train-rmse:0.000547 
[15210] train-rmse:0.000547 
[15211] train-rmse:0.000547 
[15212] train-rmse:0.000547 
[15213] train-rmse:0.000547 
[15214] train-rmse:0.000547 
[15215] train-rmse:0.000547 
[15216] train-rmse:0.000547 
[15217] train-rmse:0.000547 
[15218] train-rmse:0.000547 
[15219] train-rmse:0.000547 
[15220] train-rmse:0.000547 
[15221] train-rmse:0.000547 
[15222] train-rmse:0.000547 
[15223] train-rmse:0.000547 
[15224] train-rmse:0.000547 
[15225] train-rmse:0.000547 
[15226] train-rmse:0.000547 
[15227] train-rmse:0.000547 
[15228] train-rmse:0.000547 
[15229] train-rmse:0.000547 
[15230] train-rmse:0.000547 
[15231] train-rmse:0.000547 
[15232] train-rmse:0.000547 
[15233] train-rmse:0.000547 
[15234] train-rmse:0.000547 
[15235] train-rmse:0.000547 
[15236] train-rmse:0.000547 
[15237] train-rmse:0.000547 
[15238] train-rmse:0.000547 
[15239] train-rmse:0.000547 
[15240] train-rmse:0.000547 
[15241] train-rmse:0.000547 
[15242] train-rmse:0.000547 
[15243] train-rmse:0.000547 
[15244] train-rmse:0.000547 
[15245] train-rmse:0.000547 
[15246] train-rmse:0.000547 
[15247] train-rmse:0.000547 
[15248] train-rmse:0.000547 
[15249] train-rmse:0.000547 
[15250] train-rmse:0.000547 
[15251] train-rmse:0.000547 
[15252] train-rmse:0.000547 
[15253] train-rmse:0.000547 
[15254] train-rmse:0.000547 
[15255] train-rmse:0.000547 
[15256] train-rmse:0.000547 
[15257] train-rmse:0.000547 
[15258] train-rmse:0.000547 
[15259] train-rmse:0.000547 
[15260] train-rmse:0.000547 
[15261] train-rmse:0.000547 
[15262] train-rmse:0.000547 
[15263] train-rmse:0.000547 
[15264] train-rmse:0.000547 
[15265] train-rmse:0.000547 
[15266] train-rmse:0.000547 
[15267] train-rmse:0.000547 
[15268] train-rmse:0.000547 
[15269] train-rmse:0.000547 
[15270] train-rmse:0.000547 
[15271] train-rmse:0.000547 
[15272] train-rmse:0.000546 
[15273] train-rmse:0.000546 
[15274] train-rmse:0.000546 
[15275] train-rmse:0.000546 
[15276] train-rmse:0.000546 
[15277] train-rmse:0.000546 
[15278] train-rmse:0.000546 
[15279] train-rmse:0.000546 
[15280] train-rmse:0.000546 
[15281] train-rmse:0.000546 
[15282] train-rmse:0.000546 
[15283] train-rmse:0.000546 
[15284] train-rmse:0.000546 
[15285] train-rmse:0.000546 
[15286] train-rmse:0.000546 
[15287] train-rmse:0.000547 
[15288] train-rmse:0.000547 
[15289] train-rmse:0.000547 
[15290] train-rmse:0.000546 
[15291] train-rmse:0.000546 
[15292] train-rmse:0.000546 
[15293] train-rmse:0.000546 
[15294] train-rmse:0.000546 
[15295] train-rmse:0.000546 
[15296] train-rmse:0.000546 
[15297] train-rmse:0.000546 
[15298] train-rmse:0.000546 
[15299] train-rmse:0.000546 
[15300] train-rmse:0.000546 
[15301] train-rmse:0.000546 
[15302] train-rmse:0.000546 
[15303] train-rmse:0.000547 
[15304] train-rmse:0.000547 
[15305] train-rmse:0.000546 
[15306] train-rmse:0.000546 
[15307] train-rmse:0.000546 
[15308] train-rmse:0.000546 
[15309] train-rmse:0.000546 
[15310] train-rmse:0.000546 
[15311] train-rmse:0.000546 
[15312] train-rmse:0.000546 
[15313] train-rmse:0.000546 
[15314] train-rmse:0.000546 
[15315] train-rmse:0.000546 
[15316] train-rmse:0.000546 
[15317] train-rmse:0.000546 
[15318] train-rmse:0.000546 
[15319] train-rmse:0.000546 
[15320] train-rmse:0.000546 
[15321] train-rmse:0.000546 
[15322] train-rmse:0.000546 
[15323] train-rmse:0.000546 
[15324] train-rmse:0.000546 
[15325] train-rmse:0.000546 
[15326] train-rmse:0.000546 
[15327] train-rmse:0.000546 
[15328] train-rmse:0.000546 
[15329] train-rmse:0.000546 
[15330] train-rmse:0.000546 
[15331] train-rmse:0.000546 
[15332] train-rmse:0.000546 
[15333] train-rmse:0.000546 
[15334] train-rmse:0.000546 
[15335] train-rmse:0.000546 
[15336] train-rmse:0.000546 
[15337] train-rmse:0.000546 
[15338] train-rmse:0.000546 
[15339] train-rmse:0.000546 
[15340] train-rmse:0.000546 
[15341] train-rmse:0.000546 
[15342] train-rmse:0.000546 
[15343] train-rmse:0.000546 
[15344] train-rmse:0.000546 
[15345] train-rmse:0.000546 
[15346] train-rmse:0.000546 
[15347] train-rmse:0.000546 
[15348] train-rmse:0.000546 
[15349] train-rmse:0.000546 
[15350] train-rmse:0.000546 
[15351] train-rmse:0.000546 
[15352] train-rmse:0.000546 
[15353] train-rmse:0.000546 
[15354] train-rmse:0.000546 
[15355] train-rmse:0.000546 
[15356] train-rmse:0.000546 
[15357] train-rmse:0.000546 
[15358] train-rmse:0.000546 
[15359] train-rmse:0.000546 
[15360] train-rmse:0.000546 
[15361] train-rmse:0.000546 
[15362] train-rmse:0.000546 
[15363] train-rmse:0.000546 
[15364] train-rmse:0.000546 
[15365] train-rmse:0.000546 
[15366] train-rmse:0.000546 
[15367] train-rmse:0.000546 
[15368] train-rmse:0.000546 
[15369] train-rmse:0.000546 
[15370] train-rmse:0.000546 
[15371] train-rmse:0.000546 
[15372] train-rmse:0.000546 
[15373] train-rmse:0.000546 
[15374] train-rmse:0.000546 
[15375] train-rmse:0.000546 
[15376] train-rmse:0.000546 
[15377] train-rmse:0.000546 
[15378] train-rmse:0.000546 
[15379] train-rmse:0.000546 
[15380] train-rmse:0.000546 
[15381] train-rmse:0.000546 
[15382] train-rmse:0.000546 
[15383] train-rmse:0.000546 
[15384] train-rmse:0.000546 
[15385] train-rmse:0.000546 
[15386] train-rmse:0.000546 
[15387] train-rmse:0.000546 
[15388] train-rmse:0.000546 
[15389] train-rmse:0.000546 
[15390] train-rmse:0.000546 
[15391] train-rmse:0.000546 
[15392] train-rmse:0.000546 
[15393] train-rmse:0.000546 
[15394] train-rmse:0.000546 
[15395] train-rmse:0.000546 
[15396] train-rmse:0.000546 
[15397] train-rmse:0.000546 
[15398] train-rmse:0.000546 
[15399] train-rmse:0.000546 
[15400] train-rmse:0.000546 
[15401] train-rmse:0.000546 
[15402] train-rmse:0.000546 
[15403] train-rmse:0.000546 
[15404] train-rmse:0.000546 
[15405] train-rmse:0.000546 
[15406] train-rmse:0.000546 
[15407] train-rmse:0.000546 
[15408] train-rmse:0.000546 
[15409] train-rmse:0.000546 
[15410] train-rmse:0.000546 
[15411] train-rmse:0.000546 
[15412] train-rmse:0.000546 
[15413] train-rmse:0.000546 
[15414] train-rmse:0.000546 
[15415] train-rmse:0.000546 
[15416] train-rmse:0.000546 
[15417] train-rmse:0.000546 
[15418] train-rmse:0.000546 
[15419] train-rmse:0.000546 
[15420] train-rmse:0.000546 
[15421] train-rmse:0.000546 
[15422] train-rmse:0.000546 
[15423] train-rmse:0.000546 
[15424] train-rmse:0.000546 
[15425] train-rmse:0.000546 
[15426] train-rmse:0.000546 
[15427] train-rmse:0.000546 
[15428] train-rmse:0.000546 
[15429] train-rmse:0.000546 
[15430] train-rmse:0.000546 
[15431] train-rmse:0.000546 
[15432] train-rmse:0.000546 
[15433] train-rmse:0.000546 
[15434] train-rmse:0.000546 
[15435] train-rmse:0.000546 
[15436] train-rmse:0.000546 
[15437] train-rmse:0.000545 
[15438] train-rmse:0.000545 
[15439] train-rmse:0.000545 
[15440] train-rmse:0.000545 
[15441] train-rmse:0.000546 
[15442] train-rmse:0.000546 
[15443] train-rmse:0.000545 
[15444] train-rmse:0.000545 
[15445] train-rmse:0.000545 
[15446] train-rmse:0.000545 
[15447] train-rmse:0.000545 
[15448] train-rmse:0.000545 
[15449] train-rmse:0.000545 
[15450] train-rmse:0.000545 
[15451] train-rmse:0.000545 
[15452] train-rmse:0.000545 
[15453] train-rmse:0.000545 
[15454] train-rmse:0.000545 
[15455] train-rmse:0.000545 
[15456] train-rmse:0.000545 
[15457] train-rmse:0.000545 
[15458] train-rmse:0.000545 
[15459] train-rmse:0.000545 
[15460] train-rmse:0.000545 
[15461] train-rmse:0.000545 
[15462] train-rmse:0.000545 
[15463] train-rmse:0.000545 
[15464] train-rmse:0.000545 
[15465] train-rmse:0.000545 
[15466] train-rmse:0.000545 
[15467] train-rmse:0.000545 
[15468] train-rmse:0.000545 
[15469] train-rmse:0.000545 
[15470] train-rmse:0.000545 
[15471] train-rmse:0.000545 
[15472] train-rmse:0.000545 
[15473] train-rmse:0.000545 
[15474] train-rmse:0.000545 
[15475] train-rmse:0.000545 
[15476] train-rmse:0.000545 
[15477] train-rmse:0.000545 
[15478] train-rmse:0.000545 
[15479] train-rmse:0.000545 
[15480] train-rmse:0.000545 
[15481] train-rmse:0.000545 
[15482] train-rmse:0.000545 
[15483] train-rmse:0.000545 
[15484] train-rmse:0.000545 
[15485] train-rmse:0.000545 
[15486] train-rmse:0.000545 
[15487] train-rmse:0.000545 
[15488] train-rmse:0.000545 
[15489] train-rmse:0.000545 
[15490] train-rmse:0.000545 
[15491] train-rmse:0.000545 
[15492] train-rmse:0.000545 
[15493] train-rmse:0.000545 
[15494] train-rmse:0.000546 
[15495] train-rmse:0.000546 
[15496] train-rmse:0.000546 
[15497] train-rmse:0.000546 
[15498] train-rmse:0.000546 
[15499] train-rmse:0.000546 
[15500] train-rmse:0.000546 
[15501] train-rmse:0.000546 
[15502] train-rmse:0.000546 
[15503] train-rmse:0.000546 
[15504] train-rmse:0.000546 
[15505] train-rmse:0.000546 
[15506] train-rmse:0.000545 
[15507] train-rmse:0.000545 
[15508] train-rmse:0.000545 
[15509] train-rmse:0.000545 
[15510] train-rmse:0.000545 
[15511] train-rmse:0.000545 
[15512] train-rmse:0.000545 
[15513] train-rmse:0.000545 
[15514] train-rmse:0.000545 
[15515] train-rmse:0.000545 
[15516] train-rmse:0.000545 
[15517] train-rmse:0.000546 
[15518] train-rmse:0.000546 
[15519] train-rmse:0.000546 
[15520] train-rmse:0.000545 
[15521] train-rmse:0.000545 
[15522] train-rmse:0.000546 
[15523] train-rmse:0.000545 
[15524] train-rmse:0.000545 
[15525] train-rmse:0.000545 
[15526] train-rmse:0.000545 
[15527] train-rmse:0.000545 
[15528] train-rmse:0.000545 
[15529] train-rmse:0.000545 
[15530] train-rmse:0.000545 
[15531] train-rmse:0.000545 
[15532] train-rmse:0.000545 
[15533] train-rmse:0.000545 
[15534] train-rmse:0.000545 
[15535] train-rmse:0.000545 
[15536] train-rmse:0.000545 
[15537] train-rmse:0.000545 
[15538] train-rmse:0.000545 
[15539] train-rmse:0.000545 
[15540] train-rmse:0.000545 
[15541] train-rmse:0.000545 
[15542] train-rmse:0.000545 
[15543] train-rmse:0.000545 
[15544] train-rmse:0.000545 
[15545] train-rmse:0.000545 
[15546] train-rmse:0.000545 
[15547] train-rmse:0.000545 
[15548] train-rmse:0.000545 
[15549] train-rmse:0.000545 
[15550] train-rmse:0.000545 
[15551] train-rmse:0.000545 
[15552] train-rmse:0.000545 
[15553] train-rmse:0.000546 
[15554] train-rmse:0.000546 
[15555] train-rmse:0.000545 
[15556] train-rmse:0.000546 
[15557] train-rmse:0.000545 
[15558] train-rmse:0.000545 
[15559] train-rmse:0.000545 
[15560] train-rmse:0.000546 
[15561] train-rmse:0.000545 
[15562] train-rmse:0.000545 
[15563] train-rmse:0.000545 
[15564] train-rmse:0.000545 
[15565] train-rmse:0.000545 
[15566] train-rmse:0.000545 
[15567] train-rmse:0.000545 
[15568] train-rmse:0.000546 
[15569] train-rmse:0.000546 
[15570] train-rmse:0.000545 
[15571] train-rmse:0.000546 
[15572] train-rmse:0.000546 
[15573] train-rmse:0.000545 
[15574] train-rmse:0.000545 
[15575] train-rmse:0.000545 
[15576] train-rmse:0.000545 
[15577] train-rmse:0.000545 
[15578] train-rmse:0.000545 
[15579] train-rmse:0.000545 
[15580] train-rmse:0.000545 
[15581] train-rmse:0.000545 
[15582] train-rmse:0.000545 
[15583] train-rmse:0.000545 
[15584] train-rmse:0.000545 
[15585] train-rmse:0.000545 
[15586] train-rmse:0.000545 
[15587] train-rmse:0.000545 
[15588] train-rmse:0.000545 
[15589] train-rmse:0.000545 
[15590] train-rmse:0.000545 
[15591] train-rmse:0.000545 
[15592] train-rmse:0.000545 
[15593] train-rmse:0.000545 
[15594] train-rmse:0.000545 
[15595] train-rmse:0.000545 
[15596] train-rmse:0.000545 
[15597] train-rmse:0.000545 
[15598] train-rmse:0.000545 
[15599] train-rmse:0.000545 
[15600] train-rmse:0.000545 
[15601] train-rmse:0.000546 
[15602] train-rmse:0.000546 
[15603] train-rmse:0.000546 
[15604] train-rmse:0.000546 
[15605] train-rmse:0.000546 
[15606] train-rmse:0.000546 
[15607] train-rmse:0.000546 
[15608] train-rmse:0.000546 
[15609] train-rmse:0.000546 
[15610] train-rmse:0.000546 
[15611] train-rmse:0.000546 
[15612] train-rmse:0.000546 
[15613] train-rmse:0.000546 
[15614] train-rmse:0.000546 
[15615] train-rmse:0.000546 
[15616] train-rmse:0.000546 
[15617] train-rmse:0.000546 
[15618] train-rmse:0.000546 
[15619] train-rmse:0.000546 
[15620] train-rmse:0.000546 
[15621] train-rmse:0.000546 
[15622] train-rmse:0.000546 
[15623] train-rmse:0.000546 
[15624] train-rmse:0.000546 
[15625] train-rmse:0.000546 
[15626] train-rmse:0.000546 
[15627] train-rmse:0.000546 
[15628] train-rmse:0.000546 
[15629] train-rmse:0.000546 
[15630] train-rmse:0.000546 
[15631] train-rmse:0.000546 
[15632] train-rmse:0.000545 
[15633] train-rmse:0.000545 
[15634] train-rmse:0.000545 
[15635] train-rmse:0.000545 
[15636] train-rmse:0.000545 
[15637] train-rmse:0.000545 
[15638] train-rmse:0.000545 
[15639] train-rmse:0.000545 
[15640] train-rmse:0.000545 
[15641] train-rmse:0.000545 
[15642] train-rmse:0.000545 
[15643] train-rmse:0.000545 
[15644] train-rmse:0.000545 
[15645] train-rmse:0.000545 
[15646] train-rmse:0.000545 
[15647] train-rmse:0.000545 
[15648] train-rmse:0.000545 
[15649] train-rmse:0.000545 
[15650] train-rmse:0.000545 
[15651] train-rmse:0.000545 
[15652] train-rmse:0.000545 
[15653] train-rmse:0.000545 
[15654] train-rmse:0.000545 
[15655] train-rmse:0.000545 
[15656] train-rmse:0.000545 
[15657] train-rmse:0.000545 
[15658] train-rmse:0.000545 
[15659] train-rmse:0.000545 
[15660] train-rmse:0.000545 
[15661] train-rmse:0.000545 
[15662] train-rmse:0.000545 
[15663] train-rmse:0.000545 
[15664] train-rmse:0.000545 
[15665] train-rmse:0.000545 
[15666] train-rmse:0.000545 
[15667] train-rmse:0.000545 
[15668] train-rmse:0.000545 
[15669] train-rmse:0.000545 
[15670] train-rmse:0.000545 
[15671] train-rmse:0.000545 
[15672] train-rmse:0.000545 
[15673] train-rmse:0.000545 
[15674] train-rmse:0.000545 
[15675] train-rmse:0.000545 
[15676] train-rmse:0.000545 
[15677] train-rmse:0.000545 
[15678] train-rmse:0.000545 
[15679] train-rmse:0.000545 
[15680] train-rmse:0.000545 
[15681] train-rmse:0.000545 
[15682] train-rmse:0.000545 
[15683] train-rmse:0.000545 
[15684] train-rmse:0.000545 
[15685] train-rmse:0.000545 
[15686] train-rmse:0.000545 
[15687] train-rmse:0.000545 
[15688] train-rmse:0.000545 
[15689] train-rmse:0.000545 
[15690] train-rmse:0.000545 
[15691] train-rmse:0.000545 
[15692] train-rmse:0.000545 
[15693] train-rmse:0.000545 
[15694] train-rmse:0.000545 
[15695] train-rmse:0.000545 
[15696] train-rmse:0.000545 
[15697] train-rmse:0.000545 
[15698] train-rmse:0.000545 
[15699] train-rmse:0.000545 
Stopping. Best iteration:
[15449] train-rmse:0.000545</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co"># save(propNegATS, file = "./data/out/hyperParam/XGBpropNegATS_250.RData")</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="co">#load("./data/out/hyperParam/XGBpropNegATS_250.RData")</span></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a>propNegATS<span class="sc">$</span>xgb<span class="sc">$</span>best_iteration</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15449</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>propNegATS<span class="sc">$</span>xgb<span class="sc">$</span>best_score</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0005450184</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plot</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>viATS <span class="ot">&lt;-</span> <span class="fu">xgb.importance</span>(<span class="at">model =</span> propNegATS<span class="sc">$</span>xgb)</span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(viATS, <span class="at">top_n =</span> <span class="dv">10</span>, <span class="at">measure =</span> <span class="st">"Gain"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_ATS-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="do">####################################################################</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a><span class="co">#s_propNegATS &lt;- hstats(propNegATS$xgb, v = propNegATS$new_vars, X = propNegATS$features_train)</span></span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a><span class="co"># s_propNegATS</span></span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegATS)</span></span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a><span class="co"># # top 5 2-way interactions</span></span>
<span id="cb169-7"><a href="#cb169-7" aria-hidden="true" tabindex="-1"></a><span class="co"># h2_pairwise(s_propNegATS, normalize = FALSE, squared = FALSE, top_m = 8)</span></span>
<span id="cb169-8"><a href="#cb169-8" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb169-9"><a href="#cb169-9" aria-hidden="true" tabindex="-1"></a><span class="co"># # 3-way interactions</span></span>
<span id="cb169-10"><a href="#cb169-10" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegATS, which = 1:3, normalize = F, squared = F, facet_scales = "free_y", ncol = 1)</span></span>
<span id="cb169-11"><a href="#cb169-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-12"><a href="#cb169-12" aria-hidden="true" tabindex="-1"></a><span class="do">## Partial dep plots ################################################################</span></span>
<span id="cb169-13"><a href="#cb169-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-14"><a href="#cb169-14" aria-hidden="true" tabindex="-1"></a>pFlow_propNegATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb169-15"><a href="#cb169-15" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb169-16"><a href="#cb169-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb169-17"><a href="#cb169-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb169-18"><a href="#cb169-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_y_discrete() +</span></span>
<span id="cb169-19"><a href="#cb169-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle("PDP")</span></span>
<span id="cb169-20"><a href="#cb169-20" aria-hidden="true" tabindex="-1"></a>pTemp_propNegATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb169-21"><a href="#cb169-21" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb169-22"><a href="#cb169-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb169-23"><a href="#cb169-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb169-24"><a href="#cb169-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-25"><a href="#cb169-25" aria-hidden="true" tabindex="-1"></a>pNInd_propNegATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb169-26"><a href="#cb169-26" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb169-27"><a href="#cb169-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb169-28"><a href="#cb169-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb169-29"><a href="#cb169-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-30"><a href="#cb169-30" aria-hidden="true" tabindex="-1"></a>pYear_propNegATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb169-31"><a href="#cb169-31" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb169-32"><a href="#cb169-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb169-33"><a href="#cb169-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb169-34"><a href="#cb169-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-35"><a href="#cb169-35" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pFlow_propNegATS, pTemp_propNegATS, pNInd_propNegATS, pYear_propNegATS, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_ATS-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a><span class="co"># all on one graph</span></span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>pFlow_propNegDataATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb170-5"><a href="#cb170-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mF_log10<span class="sc">-</span><span class="fu">mean</span>(mF_log10))<span class="sc">/</span><span class="fu">sd</span>(mF_log10),</span>
<span id="cb170-6"><a href="#cb170-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Flow"</span>,</span>
<span id="cb170-7"><a href="#cb170-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Atlantic Salmon"</span>)</span>
<span id="cb170-8"><a href="#cb170-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-9"><a href="#cb170-9" aria-hidden="true" tabindex="-1"></a>pMT_propNegDataATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb170-10"><a href="#cb170-10" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb170-11"><a href="#cb170-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mT<span class="sc">-</span><span class="fu">mean</span>(mT))<span class="sc">/</span><span class="fu">sd</span>(mT),</span>
<span id="cb170-12"><a href="#cb170-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Temperature"</span>,</span>
<span id="cb170-13"><a href="#cb170-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Atlantic Salmon"</span>)</span>
<span id="cb170-14"><a href="#cb170-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-15"><a href="#cb170-15" aria-hidden="true" tabindex="-1"></a>pNInd_propNegDataATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb170-16"><a href="#cb170-16" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb170-17"><a href="#cb170-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (nInd<span class="sc">-</span><span class="fu">mean</span>(nInd))<span class="sc">/</span><span class="fu">sd</span>(nInd),</span>
<span id="cb170-18"><a href="#cb170-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Num inds"</span>,</span>
<span id="cb170-19"><a href="#cb170-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Atlantic Salmon"</span>)</span>
<span id="cb170-20"><a href="#cb170-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-21"><a href="#cb170-21" aria-hidden="true" tabindex="-1"></a>pYear_propNegDataATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb170-22"><a href="#cb170-22" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb170-23"><a href="#cb170-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (year<span class="sc">-</span><span class="fu">mean</span>(year))<span class="sc">/</span><span class="fu">sd</span>(year),</span>
<span id="cb170-24"><a href="#cb170-24" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Year"</span>,</span>
<span id="cb170-25"><a href="#cb170-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Atlantic Salmon"</span>)</span>
<span id="cb170-26"><a href="#cb170-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-27"><a href="#cb170-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-28"><a href="#cb170-28" aria-hidden="true" tabindex="-1"></a>all_propNegDataATS <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(pFlow_propNegDataATS, pMT_propNegDataATS, pNInd_propNegDataATS, pYear_propNegDataATS)</span>
<span id="cb170-29"><a href="#cb170-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-30"><a href="#cb170-30" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb170-31"><a href="#cb170-31" aria-hidden="true" tabindex="-1"></a>all_propNegDataATS_gg <span class="ot">&lt;-</span> </span>
<span id="cb170-32"><a href="#cb170-32" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(all_propNegDataATS, <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> var)) <span class="sc">+</span></span>
<span id="cb170-33"><a href="#cb170-33" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb170-34"><a href="#cb170-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb170-35"><a href="#cb170-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb170-36"><a href="#cb170-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Scaled value"</span>)</span>
<span id="cb170-37"><a href="#cb170-37" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_ATS-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Interaction plots ##################################################################</span></span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegATS<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mT"</span>, <span class="at">X =</span> propNegATS<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mF_log10"</span>)) <span class="sc">+</span></span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mF_log10), <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_ATS-5.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegATS<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegATS<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mT"</span>)) <span class="sc">+</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mT), <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_ATS-6.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegATS<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegATS<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="fu">c</span>(<span class="st">"nInd"</span>))) <span class="sc">+</span></span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> nInd), <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runXGB_ATS-7.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="species-together" class="level3" data-number="16.7.6">
<h3 data-number="16.7.6" class="anchored" data-anchor-id="species-together"><span class="header-section-number">16.7.6</span> 3 species together</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/threeSppVIP_6f765fb2758f1533a4f6d17c72ad16d4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plots</span></span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-3"><a href="#cb175-3" aria-hidden="true" tabindex="-1"></a>viAll <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb175-4"><a href="#cb175-4" aria-hidden="true" tabindex="-1"></a>  viBKT <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(Feature, Gain) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">speciesGG =</span> <span class="st">"Brook Trout"</span>),</span>
<span id="cb175-5"><a href="#cb175-5" aria-hidden="true" tabindex="-1"></a>  viBNT <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(Feature, Gain) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">speciesGG =</span> <span class="st">"Brown Trout"</span>),</span>
<span id="cb175-6"><a href="#cb175-6" aria-hidden="true" tabindex="-1"></a>  viATS <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(Feature, Gain) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">speciesGG =</span> <span class="st">"Atlantic Salmon"</span>)</span>
<span id="cb175-7"><a href="#cb175-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb175-8"><a href="#cb175-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sppOrdered =</span> <span class="fu">factor</span>(speciesGG, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Brook Trout"</span>, <span class="st">"Brown Trout"</span>, <span class="st">"Atlantic Salmon"</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb175-9"><a href="#cb175-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">feature2 =</span> <span class="fu">case_when</span>(</span>
<span id="cb175-10"><a href="#cb175-10" aria-hidden="true" tabindex="-1"></a>           Feature <span class="sc">==</span> <span class="st">"mF_log10"</span> <span class="sc">~</span> <span class="st">"Flow"</span>,</span>
<span id="cb175-11"><a href="#cb175-11" aria-hidden="true" tabindex="-1"></a>           Feature <span class="sc">==</span> <span class="st">"mT"</span> <span class="sc">~</span> <span class="st">"Temperature"</span>,</span>
<span id="cb175-12"><a href="#cb175-12" aria-hidden="true" tabindex="-1"></a>           Feature <span class="sc">==</span> <span class="st">"nInd"</span> <span class="sc">~</span> <span class="st">"Num Individuals"</span>,</span>
<span id="cb175-13"><a href="#cb175-13" aria-hidden="true" tabindex="-1"></a>           Feature <span class="sc">==</span> <span class="st">"year"</span> <span class="sc">~</span> <span class="st">"Year"</span>)</span>
<span id="cb175-14"><a href="#cb175-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb175-15"><a href="#cb175-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-16"><a href="#cb175-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(viAll <span class="sc">|&gt;</span> <span class="fu">filter</span>(Feature <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"mF_log10"</span>, <span class="st">"mT"</span>, <span class="st">"nInd"</span>, <span class="st">"year"</span>)), <span class="fu">aes</span>(feature2, Gain, <span class="at">fill =</span> sppOrdered)) <span class="sc">+</span></span>
<span id="cb175-17"><a href="#cb175-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb175-18"><a href="#cb175-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb175-19"><a href="#cb175-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_grey</span>() <span class="sc">+</span></span>
<span id="cb175-20"><a href="#cb175-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Variable importance for the proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Variable"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/threeSppVIP-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="do">########################################################</span></span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a>all_propNegData3spp <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(all_propNegDataBKT, all_propNegDataBNT, all_propNegDataATS) <span class="sc">|&gt;</span> </span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sppOrdered =</span> <span class="fu">factor</span>(speciesGG, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Brook Trout"</span>, <span class="st">"Brown Trout"</span>, <span class="st">"Atlantic Salmon"</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb176-5"><a href="#cb176-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-6"><a href="#cb176-6" aria-hidden="true" tabindex="-1"></a>all_propNegData3sppFlow_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_propNegData3spp <span class="sc">|&gt;</span> <span class="fu">filter</span>(var <span class="sc">==</span> <span class="st">"Flow"</span>), <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> sppOrdered, <span class="at">linetype =</span> sppOrdered)) <span class="sc">+</span></span>
<span id="cb176-7"><a href="#cb176-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb176-8"><a href="#cb176-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb176-9"><a href="#cb176-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb176-10"><a href="#cb176-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb176-11"><a href="#cb176-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Scaled flow"</span>) <span class="sc">+</span></span>
<span id="cb176-12"><a href="#cb176-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)  </span>
<span id="cb176-13"><a href="#cb176-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-14"><a href="#cb176-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-15"><a href="#cb176-15" aria-hidden="true" tabindex="-1"></a>all_propNegData3sppTemp_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_propNegData3spp <span class="sc">|&gt;</span> <span class="fu">filter</span>(var <span class="sc">==</span> <span class="st">"Temperature"</span>), <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> sppOrdered, <span class="at">linetype =</span> sppOrdered)) <span class="sc">+</span></span>
<span id="cb176-16"><a href="#cb176-16" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb176-17"><a href="#cb176-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb176-18"><a href="#cb176-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb176-19"><a href="#cb176-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb176-20"><a href="#cb176-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">x =</span> <span class="st">"Scaled temperature"</span>) <span class="sc">+</span></span>
<span id="cb176-21"><a href="#cb176-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)  </span>
<span id="cb176-22"><a href="#cb176-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-23"><a href="#cb176-23" aria-hidden="true" tabindex="-1"></a>all_propNegData3sppNInd_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_propNegData3spp <span class="sc">|&gt;</span> <span class="fu">filter</span>(var <span class="sc">==</span> <span class="st">"Num inds"</span>), <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> sppOrdered, <span class="at">linetype =</span> sppOrdered)) <span class="sc">+</span></span>
<span id="cb176-24"><a href="#cb176-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb176-25"><a href="#cb176-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb176-26"><a href="#cb176-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb176-27"><a href="#cb176-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb176-28"><a href="#cb176-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Scaled Number of individuals"</span>) <span class="sc">+</span></span>
<span id="cb176-29"><a href="#cb176-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)  </span>
<span id="cb176-30"><a href="#cb176-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-31"><a href="#cb176-31" aria-hidden="true" tabindex="-1"></a>all_propNegData3sppYear_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_propNegData3spp <span class="sc">|&gt;</span> <span class="fu">filter</span>(var <span class="sc">==</span> <span class="st">"Year"</span>), <span class="fu">aes</span>(year, yhat, <span class="at">color =</span> sppOrdered, <span class="at">linetype =</span> sppOrdered)) <span class="sc">+</span></span>
<span id="cb176-32"><a href="#cb176-32" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb176-33"><a href="#cb176-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb176-34"><a href="#cb176-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb176-35"><a href="#cb176-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb176-36"><a href="#cb176-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">x =</span> <span class="st">"Year"</span>) <span class="sc">+</span></span>
<span id="cb176-37"><a href="#cb176-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)  </span>
<span id="cb176-38"><a href="#cb176-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-39"><a href="#cb176-39" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(all_propNegData3sppFlow_gg, </span>
<span id="cb176-40"><a href="#cb176-40" aria-hidden="true" tabindex="-1"></a>                        all_propNegData3sppTemp_gg,</span>
<span id="cb176-41"><a href="#cb176-41" aria-hidden="true" tabindex="-1"></a>                        all_propNegData3sppNInd_gg,</span>
<span id="cb176-42"><a href="#cb176-42" aria-hidden="true" tabindex="-1"></a>                        all_propNegData3sppYear_gg)<span class="co"># + labs(y = "Effect on proportion of negative observations")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/threeSppVIP-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="ft-cycle-graphs" class="level2" data-number="16.8">
<h2 data-number="16.8" class="anchored" data-anchor-id="ft-cycle-graphs"><span class="header-section-number">16.8</span> F/T cycle graphs</h2>
<section id="mean-flow-and-temperature" class="level3" data-number="16.8.1">
<h3 data-number="16.8.1" class="anchored" data-anchor-id="mean-flow-and-temperature"><span class="header-section-number">16.8.1</span> Mean flow and temperature</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_temp_cycle_bySpecies_c4a1cbc36a6475be4ada53671527ab56">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>plot_mT_mF <span class="ot">&lt;-</span> <span class="cf">function</span>(d, s, plotText){</span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">25</span>, speciesGG <span class="sc">==</span> s), <span class="fu">aes</span>(mT, mF_log10, <span class="at">color =</span> <span class="fu">factor</span>(seasonGG))) <span class="sc">+</span></span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> propNeg)) <span class="sc">+</span></span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true" tabindex="-1"></a>    {<span class="cf">if</span>(plotText) <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> year), <span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">nudge_y =</span> <span class="sc">-</span><span class="fl">0.075</span>, <span class="at">check_overlap =</span> <span class="cn">FALSE</span>, <span class="at">size =</span> <span class="dv">3</span>)} <span class="sc">+</span></span>
<span id="cb178-5"><a href="#cb178-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Mean temperature (C)"</span>, <span class="at">y =</span> <span class="st">"log10 of mean Flow"</span>) <span class="sc">+</span></span>
<span id="cb178-6"><a href="#cb178-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb178-7"><a href="#cb178-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb178-8"><a href="#cb178-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb178-9"><a href="#cb178-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">Brook trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">Brown trout</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-3" role="tab" aria-controls="tabset-10-3" aria-selected="false">Atlantic salmon</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_temp_cycle_bySpecies_bkt_05b001c656a3950f2c2b7668631cd016">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Brook trout"</span>, <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/flow_temp_cycle_bySpecies_bkt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_temp_cycle_bySpecies_bnt_a0ffce40cda507da867ea0162aa334c7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Brown trout"</span>, <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/flow_temp_cycle_bySpecies_bnt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-10-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_temp_cycle_bySpecies_ats_e10ca128b64ab2ea24a2ba3b506c0248">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Atlantic salmon"</span>, <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/flow_temp_cycle_bySpecies_ats-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="mean-flow-and-temperature-with-year-labels" class="level3" data-number="16.8.2">
<h3 data-number="16.8.2" class="anchored" data-anchor-id="mean-flow-and-temperature-with-year-labels"><span class="header-section-number">16.8.2</span> Mean flow and temperature with year labels</h3>
<section id="panel-tabset" class="level4" data-number="16.8.2.1">
<h4 data-number="16.8.2.1" class="anchored" data-anchor-id="panel-tabset"><span class="header-section-number">16.8.2.1</span> panel-tabset</h4>
</section>
</section>
<section id="brook-trout-8" class="level3" data-number="16.8.3">
<h3 data-number="16.8.3" class="anchored" data-anchor-id="brook-trout-8"><span class="header-section-number">16.8.3</span> Brook trout</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_temp_cycle_bySpeciesYear_bkt_c130951084770026dab669731a764061">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Brook trout"</span>, <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/flow_temp_cycle_bySpeciesYear_bkt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="brown-trout-8" class="level4" data-number="16.8.3.1">
<h4 data-number="16.8.3.1" class="anchored" data-anchor-id="brown-trout-8"><span class="header-section-number">16.8.3.1</span> Brown trout</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_temp_cycle_bySpeciesYear_bnt_b9c0ffe50365da14f37397204906ddfd">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Brown trout"</span>, <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/flow_temp_cycle_bySpeciesYear_bnt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="atlantic-salmon-8" class="level4" data-number="16.8.3.2">
<h4 data-number="16.8.3.2" class="anchored" data-anchor-id="atlantic-salmon-8"><span class="header-section-number">16.8.3.2</span> Atlantic salmon</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_temp_cycle_bySpeciesYear_ats_af7eae3181f102531a570a0974ad70e8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Atlantic salmon"</span>, <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/flow_temp_cycle_bySpeciesYear_ats-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>:::</p>
<p>Mean flow and temperature values for each season and year for the West Brook<br>
Not very informative</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/flow_temp_cycle_bySpeciesYear2_b61f423f8840a2f843e056dda4670aca">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">==</span> <span class="st">'West Brook'</span>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(riverGG, speciesGG, year, seasonGG), <span class="fu">aes</span>(mT, mF_log10)) <span class="sc">+</span></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(seasonGG))) <span class="sc">+</span></span>
<span id="cb185-4"><a href="#cb185-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/flow_temp_cycle_bySpeciesYear2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="yearly-temperatureflow-cycles-of-daily-data" class="level3" data-number="16.8.4">
<h3 data-number="16.8.4" class="anchored" data-anchor-id="yearly-temperatureflow-cycles-of-daily-data"><span class="header-section-number">16.8.4</span> Yearly temperature/flow cycles of daily data</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/mergePropNegPlot_5475acd008bc3bf86da227aee0a3df45">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>plotMerged <span class="ot">&lt;-</span> <span class="cf">function</span>(d, r, <span class="at">minYear =</span> <span class="dv">2000</span>, <span class="at">maxYear =</span> <span class="dv">2017</span>){</span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(riverGG <span class="sc">==</span> r, year <span class="sc">%in%</span> <span class="fu">c</span>(minYear<span class="sc">:</span>maxYear)), </span>
<span id="cb186-3"><a href="#cb186-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">aes</span>(temperature, <span class="fu">log10</span>(flowByRiver), <span class="at">color =</span> seasonGG, <span class="at">group =</span> seasonGG)) <span class="sc">+</span></span>
<span id="cb186-4"><a href="#cb186-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb186-5"><a href="#cb186-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb186-6"><a href="#cb186-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">#geom_line() +</span></span>
<span id="cb186-7"><a href="#cb186-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Temperature (C)"</span>, <span class="at">y =</span> <span class="st">"log10 of Flow"</span>) <span class="sc">+</span></span>
<span id="cb186-8"><a href="#cb186-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb186-9"><a href="#cb186-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(r) <span class="sc">+</span></span>
<span id="cb186-10"><a href="#cb186-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb186-11"><a href="#cb186-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>year, <span class="at">scales =</span> <span class="st">'free'</span>)</span>
<span id="cb186-12"><a href="#cb186-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb186-13"><a href="#cb186-13" aria-hidden="true" tabindex="-1"></a><span class="co"># this plots f/t for all three species - good for filling in gaps</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true">West Brook</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false">Open Large</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-3" role="tab" aria-controls="tabset-11-3" aria-selected="false">Open Small</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-4" role="tab" aria-controls="tabset-11-4" aria-selected="false">Isolated small</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/mergePropNegPlot_wb_40236cf324f323f1a92f0128df54b6f7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMerged</span>(envIn_propNeg, <span class="st">"West Brook"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/mergePropNegPlot_wb-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/mergePropNegPlot_ol_8a896fd71eb8ace93ba9ed86fa942bd7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMerged</span>(envIn_propNeg, <span class="st">"Open Large"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/mergePropNegPlot_ol-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-11-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/mergePropNegPlot_os_002a80e84fc915172335c47d9892abbc">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMerged</span>(envIn_propNeg, <span class="st">"Open Small"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/mergePropNegPlot_os-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-11-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-4-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/fmergePropNegPlot_is_441413d2d3199a4ee6d0d849e4ae96a8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMerged</span>(envIn_propNeg, <span class="st">"Isolated Small"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/fmergePropNegPlot_is-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="smooths-of-temperatureflow-cycles-of-daily-data-by-season" class="level3" data-number="16.8.5">
<h3 data-number="16.8.5" class="anchored" data-anchor-id="smooths-of-temperatureflow-cycles-of-daily-data-by-season"><span class="header-section-number">16.8.5</span> Smooths of temperature/flow cycles of daily data by season</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/plotMergedBySeason_6ac0edde808cf86e69780a965fbfd8ec">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a>plotMergedBySeason <span class="ot">&lt;-</span> <span class="cf">function</span>(d, r, <span class="at">minYear =</span> <span class="dv">2000</span>, <span class="at">maxYear =</span> <span class="dv">2017</span>) {</span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(riverGG <span class="sc">==</span> r, year <span class="sc">%in%</span> <span class="fu">c</span>(minYear<span class="sc">:</span>maxYear), <span class="sc">!</span><span class="fu">is.na</span>(seasonGG)), </span>
<span id="cb191-3"><a href="#cb191-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">aes</span>(temperature, <span class="fu">log10</span>(flowByRiver), </span>
<span id="cb191-4"><a href="#cb191-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="fu">factor</span>(year), <span class="at">group =</span> year</span>
<span id="cb191-5"><a href="#cb191-5" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb191-6"><a href="#cb191-6" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">+</span></span>
<span id="cb191-7"><a href="#cb191-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#geom_point() +</span></span>
<span id="cb191-8"><a href="#cb191-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb191-9"><a href="#cb191-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Temperature (C)"</span>, <span class="at">y =</span> <span class="st">"log10 of Flow"</span>) <span class="sc">+</span></span>
<span id="cb191-10"><a href="#cb191-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb191-11"><a href="#cb191-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(r) <span class="sc">+</span></span>
<span id="cb191-12"><a href="#cb191-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>(<span class="at">legendPosition =</span> <span class="st">"right"</span>, <span class="at">legendDirection =</span> <span class="st">"vertical"</span>) <span class="sc">+</span>  </span>
<span id="cb191-13"><a href="#cb191-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">'free'</span>)</span>
<span id="cb191-14"><a href="#cb191-14" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true">West Brook</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false">Open Large</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-3" role="tab" aria-controls="tabset-12-3" aria-selected="false">Open Small</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-4" role="tab" aria-controls="tabset-12-4" aria-selected="false">Isolated small</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/plotMergedBySeason_wb_a9b741dd47a9fc5b1ebdd749579c5da9">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeason</span>(envIn_propNeg, <span class="st">"West Brook"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/plotMergedBySeason_wb-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/plotMergedBySeason_ol_900b4e6750737144d4efaf9e1c701301">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeason</span>(envIn_propNeg, <span class="st">"Open Large"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/plotMergedBySeason_ol-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-12-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/plotMergedBySeason_os_79d0ee5da34779b9161d323b335e4d86">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeason</span>(envIn_propNeg, <span class="st">"Open Small"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/plotMergedBySeason_os-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-12-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-4-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/plotMergedBySeason_is_3218e4d6a6709641d9d170145818591d">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeason</span>(envIn_propNeg, <span class="st">"Isolated Small"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/plotMergedBySeason_is-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
<p>TO ADD: low flow high density important? Look at interaction btw flow:density</p>
</section>
<section id="ft-cycles-with-labels" class="level3" data-number="16.8.6">
<h3 data-number="16.8.6" class="anchored" data-anchor-id="ft-cycles-with-labels"><span class="header-section-number">16.8.6</span> F/T cycles with labels</h3>
<p>Plot F/T cycles by river, season, species with label for propNeg and conspecific and all-species abundances</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/plotMergedBySeasonByEverything_5083f49a8f3c905d86f1552a4096c6cb">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a>plotMergedBySeasonByEverything <span class="ot">&lt;-</span> <span class="cf">function</span>(d, d2, r, s, spp, <span class="at">minYear =</span> <span class="dv">2000</span>, <span class="at">maxYear =</span> <span class="dv">2017</span>){</span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> </span>
<span id="cb196-3"><a href="#cb196-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">filter</span>(riverGG <span class="sc">==</span> r,</span>
<span id="cb196-4"><a href="#cb196-4" aria-hidden="true" tabindex="-1"></a>                  year <span class="sc">%in%</span> <span class="fu">c</span>(minYear<span class="sc">:</span>maxYear), </span>
<span id="cb196-5"><a href="#cb196-5" aria-hidden="true" tabindex="-1"></a>                  <span class="sc">!</span><span class="fu">is.na</span>(seasonGG), </span>
<span id="cb196-6"><a href="#cb196-6" aria-hidden="true" tabindex="-1"></a>                  seasonGG <span class="sc">==</span> s, </span>
<span id="cb196-7"><a href="#cb196-7" aria-hidden="true" tabindex="-1"></a>                  speciesGG <span class="sc">==</span> spp), </span>
<span id="cb196-8"><a href="#cb196-8" aria-hidden="true" tabindex="-1"></a>         <span class="fu">aes</span>(temperature, <span class="fu">log10</span>(flowByRiver))</span>
<span id="cb196-9"><a href="#cb196-9" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">+</span></span>
<span id="cb196-10"><a href="#cb196-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">"darkgrey"</span>) <span class="sc">+</span></span>
<span id="cb196-11"><a href="#cb196-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> yday)) <span class="sc">+</span></span>
<span id="cb196-12"><a href="#cb196-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="fu">aes</span>(</span>
<span id="cb196-13"><a href="#cb196-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> minTemp <span class="sc">+</span> <span class="fl">3.0</span>, </span>
<span id="cb196-14"><a href="#cb196-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="fu">log10</span>(minFlow) <span class="sc">-</span> <span class="dv">1</span>, </span>
<span id="cb196-15"><a href="#cb196-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">"propNeg="</span>,<span class="fu">round</span>(propNeg, <span class="dv">2</span>)) </span>
<span id="cb196-16"><a href="#cb196-16" aria-hidden="true" tabindex="-1"></a>      <span class="co">#size = propNeg</span></span>
<span id="cb196-17"><a href="#cb196-17" aria-hidden="true" tabindex="-1"></a>      ), </span>
<span id="cb196-18"><a href="#cb196-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> d2<span class="sc">|&gt;</span> </span>
<span id="cb196-19"><a href="#cb196-19" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(riverGG <span class="sc">==</span> r, </span>
<span id="cb196-20"><a href="#cb196-20" aria-hidden="true" tabindex="-1"></a>                 year <span class="sc">%in%</span> <span class="fu">c</span>(minYear<span class="sc">:</span>maxYear),</span>
<span id="cb196-21"><a href="#cb196-21" aria-hidden="true" tabindex="-1"></a>                 seasonGG <span class="sc">==</span> s, </span>
<span id="cb196-22"><a href="#cb196-22" aria-hidden="true" tabindex="-1"></a>                 speciesGG <span class="sc">==</span> spp)</span>
<span id="cb196-23"><a href="#cb196-23" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb196-24"><a href="#cb196-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="fu">aes</span>(</span>
<span id="cb196-25"><a href="#cb196-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> minTemp <span class="sc">+</span> <span class="fl">3.0</span>,</span>
<span id="cb196-26"><a href="#cb196-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="fu">log10</span>(minFlow) <span class="sc">-</span> <span class="fl">0.3</span>,</span>
<span id="cb196-27"><a href="#cb196-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">paste</span>(<span class="st">"nIndAllSpp="</span>, nInd), <span class="fu">paste</span>(<span class="st">"nIndBySpp="</span>, nIndBySpp), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb196-28"><a href="#cb196-28" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb196-29"><a href="#cb196-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> d2<span class="sc">|&gt;</span></span>
<span id="cb196-30"><a href="#cb196-30" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(riverGG <span class="sc">==</span> r,</span>
<span id="cb196-31"><a href="#cb196-31" aria-hidden="true" tabindex="-1"></a>                 year <span class="sc">%in%</span> <span class="fu">c</span>(minYear<span class="sc">:</span>maxYear),</span>
<span id="cb196-32"><a href="#cb196-32" aria-hidden="true" tabindex="-1"></a>                 seasonGG <span class="sc">==</span> s,</span>
<span id="cb196-33"><a href="#cb196-33" aria-hidden="true" tabindex="-1"></a>                 speciesGG <span class="sc">==</span> spp)</span>
<span id="cb196-34"><a href="#cb196-34" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb196-35"><a href="#cb196-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Temperature (c)"</span>, <span class="at">y =</span> <span class="st">"log10 Flow"</span>) <span class="sc">+</span></span>
<span id="cb196-36"><a href="#cb196-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(r, s, spp, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb196-37"><a href="#cb196-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb196-38"><a href="#cb196-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)</span>
<span id="cb196-39"><a href="#cb196-39" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="west-brook-3" class="level4" data-number="16.8.6.1">
<h4 data-number="16.8.6.1" class="anchored" data-anchor-id="west-brook-3"><span class="header-section-number">16.8.6.1</span> West Brook</h4>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" role="tab" aria-controls="tabset-13-1" aria-selected="true">Spring</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" role="tab" aria-controls="tabset-13-2" aria-selected="false">Summer</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-3" role="tab" aria-controls="tabset-13-3" aria-selected="false">Autumn</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-4" role="tab" aria-controls="tabset-13-4" aria-selected="false">Winter</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-13-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/WBPanelSpring_acd37635662cd41edab42122878e2da8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Spring"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelSpring-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Spring"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelSpring-2.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Spring"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelSpring-3.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-13-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/WBPanelSummer_657a843682e6a2a5f63c582edfbd8dda">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Summer"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelSummer-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Summer"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelSummer-2.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Summer"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelSummer-3.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-13-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/WBPanelAutumn_4540d13f7c59c348a1152fa0a78b3a1c">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelAutumn-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelAutumn-2.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Autumn"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelAutumn-3.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-13-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-4-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/WBPanelWinter_0e6f55f3b96e5caefd0cbdbe2daa0f8f">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Winter"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelWinter-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Winter"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelWinter-2.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Winter"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/WBPanelWinter-3.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="open-large-3" class="level4" data-number="16.8.6.2">
<h4 data-number="16.8.6.2" class="anchored" data-anchor-id="open-large-3"><span class="header-section-number">16.8.6.2</span> Open Large</h4>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-14-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-1" role="tab" aria-controls="tabset-14-1" aria-selected="true">Spring</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-14-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-2" role="tab" aria-controls="tabset-14-2" aria-selected="false">Summer</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-14-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-3" role="tab" aria-controls="tabset-14-3" aria-selected="false">Autumn</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-14-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-4" role="tab" aria-controls="tabset-14-4" aria-selected="false">Winter</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-14-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/OLpanelSpring_033df6c72ce3fe072e8ee07c3d18c25f">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Spring"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLpanelSpring-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Spring"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLpanelSpring-2.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Spring"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLpanelSpring-3.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-14-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-14-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/OLPanelSummer_6817e5b0321d3304aa3214e4e3ab0d92">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Summer"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLPanelSummer-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Summer"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLPanelSummer-2.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Summer"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLPanelSummer-3.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-14-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-14-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/OLPanelAutumn_16ecd6366a0397865ab0409a2dcc6814">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLPanelAutumn-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLPanelAutumn-2.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Autumn"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLPanelAutumn-3.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-14-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-14-4-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/OLPanelWinter_6382a7c98f062c20c205bb8e49e4a147">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Winter"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLPanelWinter-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Winter"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLPanelWinter-2.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Winter"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OLPanelWinter-3.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="open-small-3" class="level4" data-number="16.8.6.3">
<h4 data-number="16.8.6.3" class="anchored" data-anchor-id="open-small-3"><span class="header-section-number">16.8.6.3</span> Open Small</h4>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-15-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-1" role="tab" aria-controls="tabset-15-1" aria-selected="true">Spring</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-2" role="tab" aria-controls="tabset-15-2" aria-selected="false">Summer</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-3" role="tab" aria-controls="tabset-15-3" aria-selected="false">Autumn</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-4" role="tab" aria-controls="tabset-15-4" aria-selected="false">Winter</a></li></ul>
<div class="tab-content">
<div id="tabset-15-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-15-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/OSPanelSpring_75a2fc91be4db7b9d9da3ab005e73a22">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Spring"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OSPanelSpring-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Spring"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OSPanelSpring-2.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-15-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/OSPanelSummer_88349cee75c07b98825504f38bea2669">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Summer"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OSPanelSummer-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Summer"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OSPanelSummer-2.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-15-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/OSPanelAutumn_d85d5effe3900d8a351a7e05b6256a82">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OSPanelAutumn-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OSPanelAutumn-2.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-15-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-4-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/OSPanelWinter_2313671ea0589ff127107852f8a1e62b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Winter"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OSPanelWinter-1.png" class="img-fluid" width="1248"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Winter"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/OSPanelWinter-2.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="isolated-small-3" class="level4" data-number="16.8.6.4">
<h4 data-number="16.8.6.4" class="anchored" data-anchor-id="isolated-small-3"><span class="header-section-number">16.8.6.4</span> Isolated Small</h4>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-16-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-1" role="tab" aria-controls="tabset-16-1" aria-selected="true">Spring</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-16-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-2" role="tab" aria-controls="tabset-16-2" aria-selected="false">Summer</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-16-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-3" role="tab" aria-controls="tabset-16-3" aria-selected="false">Autumn</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-16-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-4" role="tab" aria-controls="tabset-16-4" aria-selected="false">Winter</a></li></ul>
<div class="tab-content">
<div id="tabset-16-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-16-1-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/ISPanelSpring_9afbf507807406e91ff291a92eb5b1e7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb229"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Isolated Small"</span>, <span class="st">"Spring"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/ISPanelSpring-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-16-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-16-2-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/ISPanelSummer_857cdaef622dbf63826512b59d3c813d">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Isolated Small"</span>, <span class="st">"Summer"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/ISPanelSummer-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-16-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-16-3-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/ISPanelAutumn_895726e2600fdd1504bc40e77ecc87e9">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb231"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Isolated Small"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/ISPanelAutumn-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
<div id="tabset-16-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-16-4-tab">
<div class="cell" data-hash="modelGrowthInMass_cache/html/ISPanelWinter_dd4bad30f6e593109224f2a45c50a81a">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Isolated Small"</span>, <span class="st">"Winter"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/ISPanelWinter-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="consequences-of-negative-growth" class="level2" data-number="16.9">
<h2 data-number="16.9" class="anchored" data-anchor-id="consequences-of-negative-growth"><span class="header-section-number">16.9</span> Consequences of negative growth</h2>
<section id="growth-and-last-observation" class="level3" data-number="16.9.1">
<h3 data-number="16.9.1" class="anchored" data-anchor-id="growth-and-last-observation"><span class="header-section-number">16.9.1</span> Growth and last observation</h3>
<p>Relationship between individual growth and length of subsequent observations (how many more observations before the last observation) for individual fish.</p>
<p>Broken up by years</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/negGrowth_samplesLeft_8bdf59bddc4d1a247042e160286001ec">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a>plotGrowthSamplesLeft <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r){</span>
<span id="cb233-2"><a href="#cb233-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> spp, riverGG <span class="sc">==</span> r, year <span class="sc">&lt;</span> <span class="dv">2011</span>, samplesBeforeLast <span class="sc">&gt;=</span> <span class="dv">0</span>), <span class="fu">aes</span>(grWeight, samplesBeforeLast)) <span class="sc">+</span></span>
<span id="cb233-3"><a href="#cb233-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb233-4"><a href="#cb233-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb233-5"><a href="#cb233-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb233-6"><a href="#cb233-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb233-7"><a href="#cb233-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb233-8"><a href="#cb233-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>year)</span>
<span id="cb233-9"><a href="#cb233-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb233-10"><a href="#cb233-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb233-11"><a href="#cb233-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeft</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"West Brook"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_samplesLeft-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeft</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Large"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_samplesLeft-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeft</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Small"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_samplesLeft-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeft</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Isolated Small"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_samplesLeft-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeft</span>(cd1, <span class="st">"Brown trout"</span>, <span class="st">"West Brook"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_samplesLeft-5.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>All years</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/negGrowth_samplesLeftNoYear_13343c2a9f9bc0369242f89feaf0250c">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb238"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a>plotGrowthSamplesLeftNoYear <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r){</span>
<span id="cb238-2"><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> spp, riverGG <span class="sc">==</span> r, year <span class="sc">&lt;</span> <span class="dv">2011</span>, samplesBeforeLast <span class="sc">&gt;=</span> <span class="dv">0</span>), <span class="fu">aes</span>(grWeight, samplesBeforeLast)) <span class="sc">+</span></span>
<span id="cb238-3"><a href="#cb238-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb238-4"><a href="#cb238-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb238-5"><a href="#cb238-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb238-6"><a href="#cb238-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb238-7"><a href="#cb238-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Number of samples before last observation"</span>) <span class="sc">+</span></span>
<span id="cb238-8"><a href="#cb238-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb238-9"><a href="#cb238-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG)</span>
<span id="cb238-10"><a href="#cb238-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb238-11"><a href="#cb238-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-12"><a href="#cb238-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"West Brook"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_samplesLeftNoYear-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Large"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_samplesLeftNoYear-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Small"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_samplesLeftNoYear-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Isolated Small"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_samplesLeftNoYear-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Brown trout"</span>, <span class="st">"West Brook"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_samplesLeftNoYear-5.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Atlantic salmon"</span>, <span class="st">"West Brook"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_samplesLeftNoYear-6.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Break up by pos/neg growth</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/negGrowth_means_17f84f36a2b36811e25ac38969d921ea">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a>plotGR_sampsBL <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r) {</span>
<span id="cb244-2"><a href="#cb244-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">5</span>, speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r), <span class="fu">aes</span>(meanGR, samplesBeforeLast, <span class="at">color =</span> negGrowth)) <span class="sc">+</span> </span>
<span id="cb244-3"><a href="#cb244-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb244-4"><a href="#cb244-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb244-5"><a href="#cb244-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb244-6"><a href="#cb244-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Number of samples before last observation"</span>) <span class="sc">+</span></span>
<span id="cb244-7"><a href="#cb244-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb244-8"><a href="#cb244-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>seasonGG<span class="sc">+</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb244-9"><a href="#cb244-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb244-10"><a href="#cb244-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-11"><a href="#cb244-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_sampsBL</span>(negGr_beforeLast, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_means-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a>plotGR_sampsBL2 <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r) {</span>
<span id="cb245-2"><a href="#cb245-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">5</span>, speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r), <span class="fu">aes</span>(meanGR, samplesBeforeLast, <span class="at">color =</span> speciesGG)) <span class="sc">+</span> </span>
<span id="cb245-3"><a href="#cb245-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb245-4"><a href="#cb245-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb245-5"><a href="#cb245-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb245-6"><a href="#cb245-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb245-7"><a href="#cb245-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Number of samples before last observation"</span>) <span class="sc">+</span></span>
<span id="cb245-8"><a href="#cb245-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb245-9"><a href="#cb245-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(riverGG<span class="sc">~</span>negGrowth<span class="sc">+</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb245-10"><a href="#cb245-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb245-11"><a href="#cb245-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-12"><a href="#cb245-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_sampsBL2</span>(negGr_beforeLast, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_means-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a>plotGR_sampsBL3 <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r, ng) {</span>
<span id="cb246-2"><a href="#cb246-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">5</span>, speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r, negGrowth <span class="sc">%in%</span> ng), <span class="fu">aes</span>(meanGR, samplesBeforeLast, <span class="at">color =</span> speciesGG)) <span class="sc">+</span> </span>
<span id="cb246-3"><a href="#cb246-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb246-4"><a href="#cb246-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb246-5"><a href="#cb246-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb246-6"><a href="#cb246-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, ng, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb246-7"><a href="#cb246-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Number of samples before last observation"</span>) <span class="sc">+</span></span>
<span id="cb246-8"><a href="#cb246-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb246-9"><a href="#cb246-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(negGrowth<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb246-10"><a href="#cb246-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb246-11"><a href="#cb246-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb246-12"><a href="#cb246-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_sampsBL3</span>(negGr_beforeLast, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>), <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_means-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_sampsBL3</span>(negGr_beforeLast, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>), <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/negGrowth_means-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>TO ADD: mean samplesBeforeLast by negGR</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/growthKnkownZPosNeg_655c352002df5743bbfc8929419bf575">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb248"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a>plotGrowthKnownZPosNeg <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r){</span>
<span id="cb248-2"><a href="#cb248-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">==</span> r, year <span class="sc">&lt;</span> <span class="dv">2011</span>, <span class="sc">!</span><span class="fu">is.na</span>(samplesBeforeLast)), <span class="fu">aes</span>(grWeight, <span class="at">color =</span> samplesBeforeLast <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb248-3"><a href="#cb248-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb248-4"><a href="#cb248-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb248-5"><a href="#cb248-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(r)) <span class="sc">+</span></span>
<span id="cb248-6"><a href="#cb248-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>   </span>
<span id="cb248-7"><a href="#cb248-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb248-8"><a href="#cb248-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb248-9"><a href="#cb248-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb248-10"><a href="#cb248-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb248-11"><a href="#cb248-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZPosNeg</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>, <span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="st">"West Brook"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZPosNeg-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZPosNeg</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>, <span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="st">"Open Large"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZPosNeg-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb250"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZPosNeg</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>, <span class="st">"Brown trout"</span>), <span class="st">"Open Small"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZPosNeg-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb251"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZPosNeg</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>), <span class="st">"Isolated Small"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZPosNeg-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>TO ADD: knownZ=0 vs knownZ==1, growth in previous interval</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/growthKnkownZ_56e46a13e4cccdb28714f2a2e227914b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb252"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a>plotGrowthKnownZ <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r){</span>
<span id="cb252-2"><a href="#cb252-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> spp, riverGG <span class="sc">==</span> r, year <span class="sc">&lt;</span> <span class="dv">2011</span>), <span class="fu">aes</span>(grWeight, <span class="at">color =</span> samplesBeforeLast <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb252-3"><a href="#cb252-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb252-4"><a href="#cb252-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb252-5"><a href="#cb252-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb252-6"><a href="#cb252-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb252-7"><a href="#cb252-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb252-8"><a href="#cb252-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb252-9"><a href="#cb252-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb252-10"><a href="#cb252-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"West Brook"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZ-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb253"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Large"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZ-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Small"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZ-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb255"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb255-1"><a href="#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Isolated Small"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZ-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb256"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brown trout"</span>, <span class="st">"West Brook"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZ-5.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb257"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brown trout"</span>, <span class="st">"Open Large"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZ-6.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb258"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brown trout"</span>, <span class="st">"Open Small"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZ-7.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>By year</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/growthKnkownZByYear_d2bd2fc9c1558293a6ae8038688ce85d">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb259"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb259-1"><a href="#cb259-1" aria-hidden="true" tabindex="-1"></a>plotGrowthKnownZByYear <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r){</span>
<span id="cb259-2"><a href="#cb259-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> spp, riverGG <span class="sc">==</span> r, year <span class="sc">&lt;</span> <span class="dv">2011</span>), <span class="fu">aes</span>(grWeight, <span class="at">color =</span> samplesBeforeLast <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb259-3"><a href="#cb259-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb259-4"><a href="#cb259-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb259-5"><a href="#cb259-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb259-6"><a href="#cb259-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb259-7"><a href="#cb259-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(year<span class="sc">~</span>seasonGG)</span>
<span id="cb259-8"><a href="#cb259-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb259-9"><a href="#cb259-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb259-10"><a href="#cb259-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZByYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"West Brook"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZByYear-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZByYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Large"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZByYear-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb261"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZByYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Small"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZByYear-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZByYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Isolated Small"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthKnkownZByYear-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="modelGrowthInMass_cache/html/unnamed-chunk-122_94f4f0758a5fa5158d4843c4238dbe4c">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cd1_target |&gt; </span></span>
<span id="cb263-2"><a href="#cb263-2" aria-hidden="true" tabindex="-1"></a><span class="co">#       group_by(speciesGG, riverGG, seasonGG, samplesBeforeLast, negGrowth) |&gt; </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="growth-and-movement-distance" class="level3" data-number="16.9.2">
<h3 data-number="16.9.2" class="anchored" data-anchor-id="growth-and-movement-distance"><span class="header-section-number">16.9.2</span> Growth and movement distance</h3>
<p>TO add: break avg move into negGR/not negGR</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/growthMovementNegPos_f2c848741ceb16eadb46dec42e892e94">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb264"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a>plotGR_moveDistNegPos <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r) {</span>
<span id="cb264-2"><a href="#cb264-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r, <span class="sc">!</span><span class="fu">is.na</span>(negGrowth)), <span class="fu">aes</span>(distMoved, <span class="at">color =</span> negGrowth)) <span class="sc">+</span> </span>
<span id="cb264-3"><a href="#cb264-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb264-4"><a href="#cb264-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb264-5"><a href="#cb264-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb264-6"><a href="#cb264-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Movement distance"</span>) <span class="sc">+</span></span>
<span id="cb264-7"><a href="#cb264-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb264-8"><a href="#cb264-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb264-9"><a href="#cb264-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb264-10"><a href="#cb264-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb264-11"><a href="#cb264-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb264-12"><a href="#cb264-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_moveDistNegPos</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>,<span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthMovementNegPos-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="modelGrowthInMass_cache/html/growthMovement_b2c08bd2e4d460089026cff39cd35a3a">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a>plotGR_moveDist <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r) {</span>
<span id="cb265-2"><a href="#cb265-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r), <span class="fu">aes</span>(grWeight, distMoved, <span class="at">color =</span> speciesGG)) <span class="sc">+</span> </span>
<span id="cb265-3"><a href="#cb265-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb265-4"><a href="#cb265-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb265-5"><a href="#cb265-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb265-6"><a href="#cb265-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb265-7"><a href="#cb265-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Movement distance"</span>) <span class="sc">+</span></span>
<span id="cb265-8"><a href="#cb265-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb265-9"><a href="#cb265-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb265-10"><a href="#cb265-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb265-11"><a href="#cb265-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb265-12"><a href="#cb265-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_moveDist</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>,<span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthMovement-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="modelGrowthInMass_cache/html/growthMovement2_2e097b937800714c8df83d64324afd41">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb266"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a>plotGR_moveDist2 <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r) {</span>
<span id="cb266-2"><a href="#cb266-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r), <span class="fu">aes</span>(grWeight, distMoved, <span class="at">color =</span> speciesGG)) <span class="sc">+</span> </span>
<span id="cb266-3"><a href="#cb266-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb266-4"><a href="#cb266-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb266-5"><a href="#cb266-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb266-6"><a href="#cb266-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb266-7"><a href="#cb266-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Movement distance"</span>) <span class="sc">+</span></span>
<span id="cb266-8"><a href="#cb266-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb266-9"><a href="#cb266-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(riverGG<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb266-10"><a href="#cb266-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb266-11"><a href="#cb266-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb266-12"><a href="#cb266-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_moveDist2</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>, <span class="st">"Open Small"</span>, <span class="st">"Isolated Small"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthMovement2-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb267-1"><a href="#cb267-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_moveDist2</span>(cd1, <span class="fu">c</span>(<span class="st">"Brown trout"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>, <span class="st">"Open Small"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/growthMovement2-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="machine-learning-models" class="level2" data-number="16.10">
<h2 data-number="16.10" class="anchored" data-anchor-id="machine-learning-models"><span class="header-section-number">16.10</span> Machine Learning models</h2>
<p>Using xgBoost to explore patterns in:<br>
- Binary, lose mass:gain mass<br>
- Regression, growth in mass</p>
<section id="binary-model-with-negative-growth-yesno" class="level3" data-number="16.10.1">
<h3 data-number="16.10.1" class="anchored" data-anchor-id="binary-model-with-negative-growth-yesno"><span class="header-section-number">16.10.1</span> Binary model with negative growth, yes:no</h3>
<p>Not yet in targets….</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/rf_91b7428977dd1aa1a73c93baa4694706">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb268"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="co"># http://uc-r.github.io/gbm_regression</span></span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-3"><a href="#cb268-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-4"><a href="#cb268-4" aria-hidden="true" tabindex="-1"></a>dML <span class="ot">&lt;-</span> cd1 <span class="sc">|&gt;</span> </span>
<span id="cb268-5"><a href="#cb268-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, <span class="sc">!</span><span class="fu">is.na</span>(grWeight)) <span class="sc">|&gt;</span> </span>
<span id="cb268-6"><a href="#cb268-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age =</span> year <span class="sc">-</span> cohort) <span class="sc">|&gt;</span> </span>
<span id="cb268-7"><a href="#cb268-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(riverGG, seasonGG, observedWeight, cohort, age, meanTemperature, meanFlowByRiver, negGrowth) </span>
<span id="cb268-8"><a href="#cb268-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-9"><a href="#cb268-9" aria-hidden="true" tabindex="-1"></a><span class="co"># variable names</span></span>
<span id="cb268-10"><a href="#cb268-10" aria-hidden="true" tabindex="-1"></a>features <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">names</span>(dML), <span class="st">"negGrowth"</span>)</span>
<span id="cb268-11"><a href="#cb268-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-12"><a href="#cb268-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the treatment plan from the training data</span></span>
<span id="cb268-13"><a href="#cb268-13" aria-hidden="true" tabindex="-1"></a>treatplan <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">designTreatmentsZ</span>(dML, features, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb268-14"><a href="#cb268-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-15"><a href="#cb268-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the "clean" variable names from the scoreFrame</span></span>
<span id="cb268-16"><a href="#cb268-16" aria-hidden="true" tabindex="-1"></a>new_vars <span class="ot">&lt;-</span> treatplan <span class="sc">%&gt;%</span></span>
<span id="cb268-17"><a href="#cb268-17" aria-hidden="true" tabindex="-1"></a>  magrittr<span class="sc">::</span><span class="fu">use_series</span>(scoreFrame) <span class="sc">%&gt;%</span>        </span>
<span id="cb268-18"><a href="#cb268-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(code <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"clean"</span>, <span class="st">"lev"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb268-19"><a href="#cb268-19" aria-hidden="true" tabindex="-1"></a>  magrittr<span class="sc">::</span><span class="fu">use_series</span>(varName)     </span>
<span id="cb268-20"><a href="#cb268-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-21"><a href="#cb268-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the training data</span></span>
<span id="cb268-22"><a href="#cb268-22" aria-hidden="true" tabindex="-1"></a>features_train <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan, dML, <span class="at">varRestriction =</span> new_vars) <span class="sc">%&gt;%</span> <span class="fu">as.matrix</span>()</span>
<span id="cb268-23"><a href="#cb268-23" aria-hidden="true" tabindex="-1"></a>response_train <span class="ot">&lt;-</span> dML<span class="sc">$</span>negGrowth</span>
<span id="cb268-24"><a href="#cb268-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-25"><a href="#cb268-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the test data</span></span>
<span id="cb268-26"><a href="#cb268-26" aria-hidden="true" tabindex="-1"></a>features_test <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan, dML, <span class="at">varRestriction =</span> new_vars) <span class="sc">%&gt;%</span> <span class="fu">as.matrix</span>()</span>
<span id="cb268-27"><a href="#cb268-27" aria-hidden="true" tabindex="-1"></a>response_test <span class="ot">&lt;-</span> dML<span class="sc">$</span>negGrowth</span>
<span id="cb268-28"><a href="#cb268-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-29"><a href="#cb268-29" aria-hidden="true" tabindex="-1"></a><span class="co"># dimensions of one-hot encoded data</span></span>
<span id="cb268-30"><a href="#cb268-30" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(features_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10089    13</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb270"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(features_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10089    13</code></pre>
</div>
</div>
<section id="run-first-model" class="level4" data-number="16.10.1.1">
<h4 data-number="16.10.1.1" class="anchored" data-anchor-id="run-first-model"><span class="header-section-number">16.10.1.1</span> Run first model</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/runML1_6310a9b49d852fd4ecd11e2e7c11063e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb272"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reproducibility</span></span>
<span id="cb272-2"><a href="#cb272-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb272-3"><a href="#cb272-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-4"><a href="#cb272-4" aria-hidden="true" tabindex="-1"></a>xgb.fit1 <span class="ot">&lt;-</span> <span class="fu">xgb.cv</span>(</span>
<span id="cb272-5"><a href="#cb272-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> features_train,</span>
<span id="cb272-6"><a href="#cb272-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> response_train,</span>
<span id="cb272-7"><a href="#cb272-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrounds =</span> <span class="dv">10000</span>,</span>
<span id="cb272-8"><a href="#cb272-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">nfold =</span> <span class="dv">5</span>,</span>
<span id="cb272-9"><a href="#cb272-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">"binary:logistic"</span>, <span class="co">#"reg:linear",  # for regression models</span></span>
<span id="cb272-10"><a href="#cb272-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="dv">0</span>,               <span class="co"># silent,</span></span>
<span id="cb272-11"><a href="#cb272-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">early_stopping_rounds =</span> <span class="dv">15</span> <span class="co"># stop if no improvement for 10 consecutive trees</span></span>
<span id="cb272-12"><a href="#cb272-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb272-13"><a href="#cb272-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-14"><a href="#cb272-14" aria-hidden="true" tabindex="-1"></a><span class="co"># get number of trees that minimize error</span></span>
<span id="cb272-15"><a href="#cb272-15" aria-hidden="true" tabindex="-1"></a>xgb.fit1<span class="sc">$</span>evaluation_log <span class="sc">%&gt;%</span></span>
<span id="cb272-16"><a href="#cb272-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb272-17"><a href="#cb272-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.train =</span> <span class="fu">which</span>(train_logloss_mean <span class="sc">==</span> <span class="fu">min</span>(train_logloss_mean))[<span class="dv">1</span>],</span>
<span id="cb272-18"><a href="#cb272-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">logloss.train   =</span> <span class="fu">min</span>(train_logloss_mean),</span>
<span id="cb272-19"><a href="#cb272-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.test  =</span> <span class="fu">which</span>(test_logloss_mean <span class="sc">==</span> <span class="fu">min</span>(test_logloss_mean))[<span class="dv">1</span>],</span>
<span id="cb272-20"><a href="#cb272-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">logloss.test   =</span> <span class="fu">min</span>(test_logloss_mean),</span>
<span id="cb272-21"><a href="#cb272-21" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ntrees.train logloss.train ntrees.test logloss.test
1           44     0.1802105          29    0.2506292</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb274"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot error vs number trees</span></span>
<span id="cb274-2"><a href="#cb274-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(xgb.fit1<span class="sc">$</span>evaluation_log) <span class="sc">+</span></span>
<span id="cb274-3"><a href="#cb274-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, train_logloss_mean), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb274-4"><a href="#cb274-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, test_logloss_mean), <span class="at">color =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runML1-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="add-early-stopping" class="level4" data-number="16.10.1.2">
<h4 data-number="16.10.1.2" class="anchored" data-anchor-id="add-early-stopping"><span class="header-section-number">16.10.1.2</span> Add early stopping</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/runML2_656f17ebf29fcc4b4fc2bbb9aad0636b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb275"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb275-1"><a href="#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="do">## tune the model</span></span>
<span id="cb275-2"><a href="#cb275-2" aria-hidden="true" tabindex="-1"></a><span class="co"># create parameter list</span></span>
<span id="cb275-3"><a href="#cb275-3" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb275-4"><a href="#cb275-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">eta =</span> .<span class="dv">1</span>,</span>
<span id="cb275-5"><a href="#cb275-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="dv">5</span>,</span>
<span id="cb275-6"><a href="#cb275-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">min_child_weight =</span> <span class="dv">2</span>,</span>
<span id="cb275-7"><a href="#cb275-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">subsample =</span> .<span class="dv">8</span>,</span>
<span id="cb275-8"><a href="#cb275-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsample_bytree =</span> .<span class="dv">9</span></span>
<span id="cb275-9"><a href="#cb275-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb275-10"><a href="#cb275-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb275-11"><a href="#cb275-11" aria-hidden="true" tabindex="-1"></a>xgb.fit2 <span class="ot">&lt;-</span> <span class="fu">xgb.cv</span>(</span>
<span id="cb275-12"><a href="#cb275-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">params =</span> params,</span>
<span id="cb275-13"><a href="#cb275-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> features_train,</span>
<span id="cb275-14"><a href="#cb275-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> response_train,</span>
<span id="cb275-15"><a href="#cb275-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrounds =</span> <span class="dv">20000</span>,</span>
<span id="cb275-16"><a href="#cb275-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">nfold =</span> <span class="dv">5</span>,</span>
<span id="cb275-17"><a href="#cb275-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">"binary:logistic"</span>, <span class="co">#"reg:linear",  # for regression models</span></span>
<span id="cb275-18"><a href="#cb275-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="dv">0</span>,               <span class="co"># silent,</span></span>
<span id="cb275-19"><a href="#cb275-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">early_stopping_rounds =</span> <span class="dv">10</span> <span class="co"># stop if no improvement for 10 consecutive trees</span></span>
<span id="cb275-20"><a href="#cb275-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb275-21"><a href="#cb275-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb275-22"><a href="#cb275-22" aria-hidden="true" tabindex="-1"></a>xgb.fit2<span class="sc">$</span>evaluation_log <span class="sc">%&gt;%</span></span>
<span id="cb275-23"><a href="#cb275-23" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb275-24"><a href="#cb275-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.train =</span> <span class="fu">which</span>(train_logloss_mean <span class="sc">==</span> <span class="fu">min</span>(train_logloss_mean))[<span class="dv">1</span>],</span>
<span id="cb275-25"><a href="#cb275-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">logloss.train   =</span> <span class="fu">min</span>(train_logloss_mean),</span>
<span id="cb275-26"><a href="#cb275-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.test  =</span> <span class="fu">which</span>(test_logloss_mean <span class="sc">==</span> <span class="fu">min</span>(test_logloss_mean))[<span class="dv">1</span>],</span>
<span id="cb275-27"><a href="#cb275-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">logloss.test   =</span> <span class="fu">min</span>(test_logloss_mean),</span>
<span id="cb275-28"><a href="#cb275-28" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ntrees.train logloss.train ntrees.test logloss.test
1          128      0.201228         118     0.247713</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb277"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb277-1"><a href="#cb277-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot error vs number trees</span></span>
<span id="cb277-2"><a href="#cb277-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(xgb.fit2<span class="sc">$</span>evaluation_log) <span class="sc">+</span></span>
<span id="cb277-3"><a href="#cb277-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, train_logloss_mean), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb277-4"><a href="#cb277-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, test_logloss_mean), <span class="at">color =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runML2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="hyperparameter-search-grid-1" class="level4" data-number="16.10.1.3">
<h4 data-number="16.10.1.3" class="anchored" data-anchor-id="hyperparameter-search-grid-1"><span class="header-section-number">16.10.1.3</span> Hyperparameter search grid</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/runML_HP_4d5fdf20f84941970b2c3cfc77a4cf19">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb278"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create hyperparameter grid</span></span>
<span id="cb278-2"><a href="#cb278-2" aria-hidden="true" tabindex="-1"></a>hyper_grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb278-3"><a href="#cb278-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">eta =</span> <span class="fu">c</span>(.<span class="dv">01</span>, .<span class="dv">05</span>, .<span class="dv">1</span>, .<span class="dv">3</span>),</span>
<span id="cb278-4"><a href="#cb278-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>),</span>
<span id="cb278-5"><a href="#cb278-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">min_child_weight =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>),</span>
<span id="cb278-6"><a href="#cb278-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">subsample =</span> <span class="fu">c</span>(.<span class="dv">65</span>, .<span class="dv">8</span>, <span class="dv">1</span>), </span>
<span id="cb278-7"><a href="#cb278-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsample_bytree =</span> <span class="fu">c</span>(.<span class="dv">8</span>, .<span class="dv">9</span>, <span class="dv">1</span>),</span>
<span id="cb278-8"><a href="#cb278-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">optimal_trees =</span> <span class="dv">0</span>,               <span class="co"># a place to dump results</span></span>
<span id="cb278-9"><a href="#cb278-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">min_RMSE =</span> <span class="dv">0</span>                     <span class="co"># a place to dump results</span></span>
<span id="cb278-10"><a href="#cb278-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb278-11"><a href="#cb278-11" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(hyper_grid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 576</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb280"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reproducibility</span></span>
<span id="cb280-2"><a href="#cb280-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb280-3"><a href="#cb280-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb280-4"><a href="#cb280-4" aria-hidden="true" tabindex="-1"></a><span class="co"># # grid search </span></span>
<span id="cb280-5"><a href="#cb280-5" aria-hidden="true" tabindex="-1"></a><span class="co"># for(i in 1:nrow(hyper_grid)) {</span></span>
<span id="cb280-6"><a href="#cb280-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   print(i)</span></span>
<span id="cb280-7"><a href="#cb280-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   # create parameter list</span></span>
<span id="cb280-8"><a href="#cb280-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   params &lt;- list(</span></span>
<span id="cb280-9"><a href="#cb280-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     eta = hyper_grid$eta[i],</span></span>
<span id="cb280-10"><a href="#cb280-10" aria-hidden="true" tabindex="-1"></a><span class="co">#     max_depth = hyper_grid$max_depth[i],</span></span>
<span id="cb280-11"><a href="#cb280-11" aria-hidden="true" tabindex="-1"></a><span class="co">#     min_child_weight = hyper_grid$min_child_weight[i],</span></span>
<span id="cb280-12"><a href="#cb280-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     subsample = hyper_grid$subsample[i],</span></span>
<span id="cb280-13"><a href="#cb280-13" aria-hidden="true" tabindex="-1"></a><span class="co">#     colsample_bytree = hyper_grid$colsample_bytree[i]</span></span>
<span id="cb280-14"><a href="#cb280-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb280-15"><a href="#cb280-15" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb280-16"><a href="#cb280-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb280-17"><a href="#cb280-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   # train model</span></span>
<span id="cb280-18"><a href="#cb280-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   xgb.tune &lt;- xgb.cv(</span></span>
<span id="cb280-19"><a href="#cb280-19" aria-hidden="true" tabindex="-1"></a><span class="co">#     params = params,</span></span>
<span id="cb280-20"><a href="#cb280-20" aria-hidden="true" tabindex="-1"></a><span class="co">#     data = features_train,</span></span>
<span id="cb280-21"><a href="#cb280-21" aria-hidden="true" tabindex="-1"></a><span class="co">#     label = response_train,</span></span>
<span id="cb280-22"><a href="#cb280-22" aria-hidden="true" tabindex="-1"></a><span class="co">#     nrounds = 5000,</span></span>
<span id="cb280-23"><a href="#cb280-23" aria-hidden="true" tabindex="-1"></a><span class="co">#     nfold = 5,</span></span>
<span id="cb280-24"><a href="#cb280-24" aria-hidden="true" tabindex="-1"></a><span class="co">#     objective = "binary:logistic", #"reg:linear",  # for regression models</span></span>
<span id="cb280-25"><a href="#cb280-25" aria-hidden="true" tabindex="-1"></a><span class="co">#     verbose = 0,               # silent,</span></span>
<span id="cb280-26"><a href="#cb280-26" aria-hidden="true" tabindex="-1"></a><span class="co">#     early_stopping_rounds = 20 # stop if no improvement for 10 consecutive trees</span></span>
<span id="cb280-27"><a href="#cb280-27" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb280-28"><a href="#cb280-28" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb280-29"><a href="#cb280-29" aria-hidden="true" tabindex="-1"></a><span class="co">#   # add min training error and trees to grid</span></span>
<span id="cb280-30"><a href="#cb280-30" aria-hidden="true" tabindex="-1"></a><span class="co">#   hyper_grid$optimal_trees[i] &lt;- which.min(xgb.tune$evaluation_log$test_logloss_mean)</span></span>
<span id="cb280-31"><a href="#cb280-31" aria-hidden="true" tabindex="-1"></a><span class="co">#   hyper_grid$min_RMSE[i] &lt;- min(xgb.tune$evaluation_log$test_logloss_mean)</span></span>
<span id="cb280-32"><a href="#cb280-32" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb280-33"><a href="#cb280-33" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb280-34"><a href="#cb280-34" aria-hidden="true" tabindex="-1"></a><span class="co"># hyper_grid %&gt;%</span></span>
<span id="cb280-35"><a href="#cb280-35" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::arrange(min_RMSE) %&gt;%</span></span>
<span id="cb280-36"><a href="#cb280-36" aria-hidden="true" tabindex="-1"></a><span class="co">#   head(15)</span></span>
<span id="cb280-37"><a href="#cb280-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb280-38"><a href="#cb280-38" aria-hidden="true" tabindex="-1"></a><span class="co">#       eta max_depth min_child_weight subsample colsample_bytree optimal_trees  min_RMSE</span></span>
<span id="cb280-39"><a href="#cb280-39" aria-hidden="true" tabindex="-1"></a><span class="co"># 1  0.01         5                1      0.80              0.8          1082 0.2464962</span></span>
<span id="cb280-40"><a href="#cb280-40" aria-hidden="true" tabindex="-1"></a><span class="co"># 2  0.01         5                1      0.65              0.8          1042 0.2466260</span></span>
<span id="cb280-41"><a href="#cb280-41" aria-hidden="true" tabindex="-1"></a><span class="co"># 3  0.01         5                1      0.80              0.9          1115 0.2467519</span></span>
<span id="cb280-42"><a href="#cb280-42" aria-hidden="true" tabindex="-1"></a><span class="co"># 4  0.01         7                1      0.80              0.8           676 0.2467640</span></span>
<span id="cb280-43"><a href="#cb280-43" aria-hidden="true" tabindex="-1"></a><span class="co"># 5  0.01         7                1      0.65              0.8           671 0.2468416</span></span>
<span id="cb280-44"><a href="#cb280-44" aria-hidden="true" tabindex="-1"></a><span class="co"># 6  0.05         5                1      0.65              0.9           217 0.2470321</span></span>
<span id="cb280-45"><a href="#cb280-45" aria-hidden="true" tabindex="-1"></a><span class="co"># 7  0.01         7                3      0.80              0.8           676 0.2470520</span></span>
<span id="cb280-46"><a href="#cb280-46" aria-hidden="true" tabindex="-1"></a><span class="co"># 8  0.01         5                3      0.80              0.8          1115 0.2470706</span></span>
<span id="cb280-47"><a href="#cb280-47" aria-hidden="true" tabindex="-1"></a><span class="co"># 9  0.01         5                3      0.80              0.9          1089 0.2470969</span></span>
<span id="cb280-48"><a href="#cb280-48" aria-hidden="true" tabindex="-1"></a><span class="co"># 10 0.10         5                3      1.00              0.9           158 0.2471294</span></span>
<span id="cb280-49"><a href="#cb280-49" aria-hidden="true" tabindex="-1"></a><span class="co"># 11 0.05         7                3      0.80              1.0           139 0.2471420</span></span>
<span id="cb280-50"><a href="#cb280-50" aria-hidden="true" tabindex="-1"></a><span class="co"># 12 0.01         5                1      0.65              0.9           960 0.2471568</span></span>
<span id="cb280-51"><a href="#cb280-51" aria-hidden="true" tabindex="-1"></a><span class="co"># 13 0.01         5                1      0.80              1.0          1023 0.2471608</span></span>
<span id="cb280-52"><a href="#cb280-52" aria-hidden="true" tabindex="-1"></a><span class="co"># 14 0.01         7                3      0.65              0.8           671 0.2472037</span></span>
<span id="cb280-53"><a href="#cb280-53" aria-hidden="true" tabindex="-1"></a><span class="co"># 15 0.10         5                1      0.80              0.8            95 0.2472090</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="fit-the-top-model" class="level4" data-number="16.10.1.4">
<h4 data-number="16.10.1.4" class="anchored" data-anchor-id="fit-the-top-model"><span class="header-section-number">16.10.1.4</span> Fit the top model</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/fitBinary_4965c403505fbc12020a035a7409a79a">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb281"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="co"># parameter list - from the top model of the grid search above</span></span>
<span id="cb281-2"><a href="#cb281-2" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb281-3"><a href="#cb281-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">eta =</span> <span class="fl">0.01</span>,</span>
<span id="cb281-4"><a href="#cb281-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="dv">5</span>,</span>
<span id="cb281-5"><a href="#cb281-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">min_child_weight =</span> <span class="dv">1</span>,</span>
<span id="cb281-6"><a href="#cb281-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">subsample =</span> <span class="fl">0.8</span>,</span>
<span id="cb281-7"><a href="#cb281-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsample_bytree =</span> <span class="fl">0.8</span></span>
<span id="cb281-8"><a href="#cb281-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb281-9"><a href="#cb281-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-10"><a href="#cb281-10" aria-hidden="true" tabindex="-1"></a><span class="co"># train final model</span></span>
<span id="cb281-11"><a href="#cb281-11" aria-hidden="true" tabindex="-1"></a>xgb.fit.final <span class="ot">&lt;-</span> <span class="fu">xgboost</span>(</span>
<span id="cb281-12"><a href="#cb281-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">params =</span> params,</span>
<span id="cb281-13"><a href="#cb281-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> features_train,</span>
<span id="cb281-14"><a href="#cb281-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> response_train,</span>
<span id="cb281-15"><a href="#cb281-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrounds =</span> <span class="dv">20000</span>,</span>
<span id="cb281-16"><a href="#cb281-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">"binary:logistic"</span>,</span>
<span id="cb281-17"><a href="#cb281-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="dv">0</span>,</span>
<span id="cb281-18"><a href="#cb281-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">early_stopping_rounds =</span> <span class="dv">20</span> <span class="co"># stop if no improvement for 10 consecutive trees</span></span>
<span id="cb281-19"><a href="#cb281-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="variable-importance-plot" class="level4" data-number="16.10.1.5">
<h4 data-number="16.10.1.5" class="anchored" data-anchor-id="variable-importance-plot"><span class="header-section-number">16.10.1.5</span> Variable importance plot</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/vipBinary_de4b7416f1d6d842f86bf77935218c06">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create importance matrix</span></span>
<span id="cb282-2"><a href="#cb282-2" aria-hidden="true" tabindex="-1"></a>importance_matrix <span class="ot">&lt;-</span> <span class="fu">xgb.importance</span>(<span class="at">model =</span> xgb.fit.final)</span>
<span id="cb282-3"><a href="#cb282-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4"><a href="#cb282-4" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plot</span></span>
<span id="cb282-5"><a href="#cb282-5" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(importance_matrix, <span class="at">top_n =</span> <span class="dv">10</span>, <span class="at">measure =</span> <span class="st">"Gain"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/vipBinary-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="partial-dependence-plots" class="level4" data-number="16.10.1.6">
<h4 data-number="16.10.1.6" class="anchored" data-anchor-id="partial-dependence-plots"><span class="header-section-number">16.10.1.6</span> Partial dependence plots</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/pdpBinary_02f1b8fbd6bdd4809148b6616e60f59e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb283"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb283-1"><a href="#cb283-1" aria-hidden="true" tabindex="-1"></a>pW <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb283-2"><a href="#cb283-2" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"observedWeight"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb283-3"><a href="#cb283-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train) </span>
<span id="cb283-4"><a href="#cb283-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_y_discrete() +</span></span>
<span id="cb283-5"><a href="#cb283-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle("PDP")</span></span>
<span id="cb283-6"><a href="#cb283-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-7"><a href="#cb283-7" aria-hidden="true" tabindex="-1"></a>pFlow <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb283-8"><a href="#cb283-8" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"meanFlowByRiver"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb283-9"><a href="#cb283-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb283-10"><a href="#cb283-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-11"><a href="#cb283-11" aria-hidden="true" tabindex="-1"></a>pTemp <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb283-12"><a href="#cb283-12" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"meanTemperature"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb283-13"><a href="#cb283-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb283-14"><a href="#cb283-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-15"><a href="#cb283-15" aria-hidden="true" tabindex="-1"></a>pAge <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb283-16"><a href="#cb283-16" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"age"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb283-17"><a href="#cb283-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb283-18"><a href="#cb283-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-19"><a href="#cb283-19" aria-hidden="true" tabindex="-1"></a>pCohort <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb283-20"><a href="#cb283-20" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"cohort"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb283-21"><a href="#cb283-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb283-22"><a href="#cb283-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-23"><a href="#cb283-23" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pW, pFlow, pTemp, pAge, pCohort, <span class="at">nrow =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpBinary-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Seasons</span></span>
<span id="cb284-2"><a href="#cb284-2" aria-hidden="true" tabindex="-1"></a>pSpring <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb284-3"><a href="#cb284-3" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"seasonGG_lev_x_Spring"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb284-4"><a href="#cb284-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb284-5"><a href="#cb284-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb284-6"><a href="#cb284-6" aria-hidden="true" tabindex="-1"></a>pSummer <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb284-7"><a href="#cb284-7" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"seasonGG_lev_x_Summer"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb284-8"><a href="#cb284-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb284-9"><a href="#cb284-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb284-10"><a href="#cb284-10" aria-hidden="true" tabindex="-1"></a>pAutumn <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb284-11"><a href="#cb284-11" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"seasonGG_lev_x_Autumn"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb284-12"><a href="#cb284-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb284-13"><a href="#cb284-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb284-14"><a href="#cb284-14" aria-hidden="true" tabindex="-1"></a>pWinter <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb284-15"><a href="#cb284-15" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"seasonGG_lev_x_Winter"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb284-16"><a href="#cb284-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb284-17"><a href="#cb284-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb284-18"><a href="#cb284-18" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pSpring, pSummer, pAutumn, pWinter, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpBinary-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="lime" class="level4" data-number="16.10.1.7">
<h4 data-number="16.10.1.7" class="anchored" data-anchor-id="lime"><span class="header-section-number">16.10.1.7</span> Lime</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/limeBinary_435d9577977087f0cc22b5c7307c1943">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb285"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb285-1"><a href="#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get a few observations to perform local interpretation on</span></span>
<span id="cb285-2"><a href="#cb285-2" aria-hidden="true" tabindex="-1"></a>local_obs <span class="ot">&lt;-</span> dML[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, ]</span>
<span id="cb285-3"><a href="#cb285-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-4"><a href="#cb285-4" aria-hidden="true" tabindex="-1"></a><span class="co"># one-hot encode the local observations to be assessed.</span></span>
<span id="cb285-5"><a href="#cb285-5" aria-hidden="true" tabindex="-1"></a>local_obs_onehot <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan, local_obs, <span class="at">varRestriction =</span> new_vars)</span>
<span id="cb285-6"><a href="#cb285-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-7"><a href="#cb285-7" aria-hidden="true" tabindex="-1"></a><span class="co"># apply LIME</span></span>
<span id="cb285-8"><a href="#cb285-8" aria-hidden="true" tabindex="-1"></a>explainer <span class="ot">&lt;-</span> <span class="fu">lime</span>(<span class="fu">data.frame</span>(features_train), xgb.fit.final, <span class="at">quantile_bins =</span> <span class="cn">FALSE</span>)</span>
<span id="cb285-9"><a href="#cb285-9" aria-hidden="true" tabindex="-1"></a>explanation <span class="ot">&lt;-</span> lime<span class="sc">::</span><span class="fu">explain</span>(local_obs_onehot, explainer, <span class="at">n_features =</span> <span class="dv">5</span>, <span class="at">n_labels =</span> <span class="dv">2</span>)</span>
<span id="cb285-10"><a href="#cb285-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_features</span>(explanation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/limeBinary-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="hstats" class="level4" data-number="16.10.1.8">
<h4 data-number="16.10.1.8" class="anchored" data-anchor-id="hstats"><span class="header-section-number">16.10.1.8</span> hstats</h4>
<p>https://github.com/mayer79/hstats#background</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/hstatsPropNeg_cc74d8317998e7a33839577c27df3ed0">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb286"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hstats)</span>
<span id="cb286-2"><a href="#cb286-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb286-3"><a href="#cb286-3" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">hstats</span>(xgb.fit.final, <span class="at">v =</span> new_vars, <span class="at">X =</span> features_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>1-way calculations...

  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======                                                                |   8%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |==================                                                    |  25%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |=============================                                         |  42%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |=========================================                             |  58%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |====================================================                  |  75%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |================================================================      |  92%
  |                                                                            
  |======================================================================| 100%
2-way calculations...

  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |========                                                              |  11%
  |                                                                            
  |================                                                      |  22%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |===============================                                       |  44%
  |                                                                            
  |=======================================                               |  56%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |======================================================                |  78%
  |                                                                            
  |==============================================================        |  89%
  |                                                                            
  |======================================================================| 100%
3-way calculations...

  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |========                                                              |  11%
  |                                                                            
  |================                                                      |  22%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |===============================                                       |  44%
  |                                                                            
  |=======================================                               |  56%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |======================================================                |  78%
  |                                                                            
  |==============================================================        |  89%
  |                                                                            
  |======================================================================| 100%</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb288"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a>s</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>'hstats' object. Run plot() or summary() for details.

Proportion of prediction variability unexplained by main effects of v:
[1] 0.6497076</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb290"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb290-1"><a href="#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(s)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/hstatsPropNeg-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb291"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb291-1"><a href="#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="co"># top 5 2-way interations</span></span>
<span id="cb291-2"><a href="#cb291-2" aria-hidden="true" tabindex="-1"></a><span class="fu">h2_pairwise</span>(s, <span class="at">normalize =</span> <span class="cn">FALSE</span>, <span class="at">squared =</span> <span class="cn">FALSE</span>, <span class="at">top_m =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/hstatsPropNeg-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb292"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-way interactions</span></span>
<span id="cb292-2"><a href="#cb292-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(s, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">normalize =</span> F, <span class="at">squared =</span> F, <span class="at">facet_scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/hstatsPropNeg-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Interaction plots</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/hstatsInteractionsPlots_536c74a58a501f69bd0b1708026a0d41">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb293"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb293-1"><a href="#cb293-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(xgb.fit.final, <span class="at">v =</span> <span class="st">"observedWeight"</span>, <span class="at">X =</span> features_train, <span class="at">BY =</span> <span class="st">"meanFlowByRiver"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/hstatsInteractionsPlots-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb294"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="co">#plot(partial_dep(xgb.fit.final, v = c("observedWeight", "meanFlowByRiver"), X = features_train, grid_size = 1000))</span></span>
<span id="cb294-2"><a href="#cb294-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-3"><a href="#cb294-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">ice</span>(xgb.fit.final, <span class="at">v =</span> <span class="st">"observedWeight"</span>, <span class="at">X =</span> features_train, <span class="at">BY =</span> <span class="st">"meanFlowByRiver"</span>), <span class="at">center =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/hstatsInteractionsPlots-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb295"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb295-1"><a href="#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">ice</span>(xgb.fit.final, <span class="at">v =</span> <span class="st">"meanFlowByRiver"</span>, <span class="at">X =</span> features_train, <span class="at">BY =</span> <span class="fu">c</span>(<span class="st">"riverGG_lev_x_West_Brook"</span>, <span class="st">"seasonGG_lev_x_Summer"</span>)), <span class="at">center =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/hstatsInteractionsPlots-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Variable importance plots</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/hstatsVIPlots_4ac0c2ce279147c5e951599353222aed">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb296"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pd_importance</span>(s)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/hstatsVIPlots-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb297"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb297-1"><a href="#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compared with tree split gain importance</span></span>
<span id="cb297-2"><a href="#cb297-2" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(<span class="fu">xgb.importance</span>(<span class="at">model =</span> xgb.fit.final), <span class="at">measure =</span> <span class="st">"Gain"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/hstatsVIPlots-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="growth-model-continuous-growth" class="level3" data-number="16.10.2">
<h3 data-number="16.10.2" class="anchored" data-anchor-id="growth-model-continuous-growth"><span class="header-section-number">16.10.2</span> Growth model, continuous growth</h3>
<p>can we add season, river interactions? or do separate analyses?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb298"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(targets)</span>
<span id="cb298-2"><a href="#cb298-2" aria-hidden="true" tabindex="-1"></a>dML_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(dML_W_target)</span>
<span id="cb298-3"><a href="#cb298-3" aria-hidden="true" tabindex="-1"></a>treatplan_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(treatplan_W_target)</span>
<span id="cb298-4"><a href="#cb298-4" aria-hidden="true" tabindex="-1"></a>features_train_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(features_train_W_target)</span>
<span id="cb298-5"><a href="#cb298-5" aria-hidden="true" tabindex="-1"></a>new_vars_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(new_vars_W_target)</span>
<span id="cb298-6"><a href="#cb298-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-7"><a href="#cb298-7" aria-hidden="true" tabindex="-1"></a><span class="co"># dimensions of one-hot encoded data</span></span>
<span id="cb298-8"><a href="#cb298-8" aria-hidden="true" tabindex="-1"></a>features_train_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(features_train_W_target)</span>
<span id="cb298-9"><a href="#cb298-9" aria-hidden="true" tabindex="-1"></a>features_test_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(features_test_W_target)</span>
<span id="cb298-10"><a href="#cb298-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-11"><a href="#cb298-11" aria-hidden="true" tabindex="-1"></a>response_train_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(response_train_W_target)</span>
<span id="cb298-12"><a href="#cb298-12" aria-hidden="true" tabindex="-1"></a>response_test_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(response_test_W_target)</span>
<span id="cb298-13"><a href="#cb298-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-14"><a href="#cb298-14" aria-hidden="true" tabindex="-1"></a><span class="co"># run from targets</span></span>
<span id="cb298-15"><a href="#cb298-15" aria-hidden="true" tabindex="-1"></a>hyper_grid_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(hyper_grid_W_target)</span>
<span id="cb298-16"><a href="#cb298-16" aria-hidden="true" tabindex="-1"></a>topModel_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(topModel_W_target)</span>
<span id="cb298-17"><a href="#cb298-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-18"><a href="#cb298-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-19"><a href="#cb298-19" aria-hidden="true" tabindex="-1"></a>finalModels_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(finalModels_W_target)</span>
<span id="cb298-20"><a href="#cb298-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-21"><a href="#cb298-21" aria-hidden="true" tabindex="-1"></a>modelToUse <span class="ot">&lt;-</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="run-first-model-1" class="level4" data-number="16.10.2.1">
<h4 data-number="16.10.2.1" class="anchored" data-anchor-id="run-first-model-1"><span class="header-section-number">16.10.2.1</span> Run first model</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/runML1_W_45cee65c756e70fdb2c963f243cbcecf">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb299"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb299-1"><a href="#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reproducibility</span></span>
<span id="cb299-2"><a href="#cb299-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb299-3"><a href="#cb299-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-4"><a href="#cb299-4" aria-hidden="true" tabindex="-1"></a>xgb.fit1_W <span class="ot">&lt;-</span> <span class="fu">xgb.cv</span>(</span>
<span id="cb299-5"><a href="#cb299-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> features_train_W,</span>
<span id="cb299-6"><a href="#cb299-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> response_train_W,</span>
<span id="cb299-7"><a href="#cb299-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrounds =</span> <span class="dv">500</span>,</span>
<span id="cb299-8"><a href="#cb299-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">nfold =</span> <span class="dv">5</span>,</span>
<span id="cb299-9"><a href="#cb299-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">"reg:squarederror"</span>,  <span class="co"># for regression models</span></span>
<span id="cb299-10"><a href="#cb299-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="dv">0</span>,               <span class="co"># silent,</span></span>
<span id="cb299-11"><a href="#cb299-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">early_stopping_rounds =</span> <span class="dv">10</span></span>
<span id="cb299-12"><a href="#cb299-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb299-13"><a href="#cb299-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-14"><a href="#cb299-14" aria-hidden="true" tabindex="-1"></a><span class="co"># get number of trees that minimize error</span></span>
<span id="cb299-15"><a href="#cb299-15" aria-hidden="true" tabindex="-1"></a>xgb.fit1_W<span class="sc">$</span>evaluation_log <span class="sc">%&gt;%</span></span>
<span id="cb299-16"><a href="#cb299-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb299-17"><a href="#cb299-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.train =</span> <span class="fu">which</span>(train_rmse_mean <span class="sc">==</span> <span class="fu">min</span>(train_rmse_mean))[<span class="dv">1</span>],</span>
<span id="cb299-18"><a href="#cb299-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">rmse.train   =</span> <span class="fu">min</span>(train_rmse_mean),</span>
<span id="cb299-19"><a href="#cb299-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.test  =</span> <span class="fu">which</span>(test_rmse_mean <span class="sc">==</span> <span class="fu">min</span>(test_rmse_mean))[<span class="dv">1</span>],</span>
<span id="cb299-20"><a href="#cb299-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">rmse.test   =</span> <span class="fu">min</span>(test_rmse_mean),</span>
<span id="cb299-21"><a href="#cb299-21" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ntrees.train  rmse.train ntrees.test   rmse.test
1           67 0.001534427          65 0.001884902</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb301"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb301-1"><a href="#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot error vs number trees</span></span>
<span id="cb301-2"><a href="#cb301-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(xgb.fit1_W<span class="sc">$</span>evaluation_log) <span class="sc">+</span></span>
<span id="cb301-3"><a href="#cb301-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, train_rmse_mean), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb301-4"><a href="#cb301-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, test_rmse_mean), <span class="at">color =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/runML1_W-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="hyperparameter-search-grid-2" class="level4" data-number="16.10.2.2">
<h4 data-number="16.10.2.2" class="anchored" data-anchor-id="hyperparameter-search-grid-2"><span class="header-section-number">16.10.2.2</span> Hyperparameter search grid</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/runML_HP_W_8af413facca3478e2e9df376979630a5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb302"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create hyperparameter grid</span></span>
<span id="cb302-2"><a href="#cb302-2" aria-hidden="true" tabindex="-1"></a><span class="co"># original grid - using a smaller one in targets</span></span>
<span id="cb302-3"><a href="#cb302-3" aria-hidden="true" tabindex="-1"></a><span class="co"># hyper_grid_W0 &lt;- expand.grid(</span></span>
<span id="cb302-4"><a href="#cb302-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   eta = c(.01, .05, .1, .3),</span></span>
<span id="cb302-5"><a href="#cb302-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   max_depth = c(1, 3, 5, 7),</span></span>
<span id="cb302-6"><a href="#cb302-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   min_child_weight = c(1, 3, 5, 7),</span></span>
<span id="cb302-7"><a href="#cb302-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   subsample = c(.65, .8, 1), </span></span>
<span id="cb302-8"><a href="#cb302-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   colsample_bytree = c(.8, .9, 1),</span></span>
<span id="cb302-9"><a href="#cb302-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   optimal_trees = 0,               # a place to dump results</span></span>
<span id="cb302-10"><a href="#cb302-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   min_RMSE = 0                     # a place to dump results</span></span>
<span id="cb302-11"><a href="#cb302-11" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb302-12"><a href="#cb302-12" aria-hidden="true" tabindex="-1"></a><span class="co"># nrow(hyper_grid_W0)</span></span>
<span id="cb302-13"><a href="#cb302-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb302-14"><a href="#cb302-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb302-15"><a href="#cb302-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb302-16"><a href="#cb302-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Original run using hyper_grid_W0 </span></span>
<span id="cb302-17"><a href="#cb302-17" aria-hidden="true" tabindex="-1"></a><span class="co"># eta max_depth min_child_weight</span></span>
<span id="cb302-18"><a href="#cb302-18" aria-hidden="true" tabindex="-1"></a><span class="co"># subsample colsample_bytree optimal_trees min_RMSE 1 0.01 7 5 0.65 0.8</span></span>
<span id="cb302-19"><a href="#cb302-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 1376 0.001847600 2 0.05 7 3 0.80 0.9 292 0.001848465 3 0.01 7 7 0.80 0.9</span></span>
<span id="cb302-20"><a href="#cb302-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 1382 0.001849086 4 0.01 5 1 0.80 0.8 2399 0.001849250 5 0.05 7 3 0.80</span></span>
<span id="cb302-21"><a href="#cb302-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.8 281 0.001849258 6 0.01 5 3 0.65 0.8 2147 0.001849905 7 0.05 5 1 0.65</span></span>
<span id="cb302-22"><a href="#cb302-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.8 459 0.001849931 8 0.01 5 5 0.80 0.9 2296 0.001850049 9 0.01 7 5 0.65</span></span>
<span id="cb302-23"><a href="#cb302-23" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.9 1402 0.001850246 10 0.01 7 7 0.65 0.8 1382 0.001850544 11 0.01 7 3</span></span>
<span id="cb302-24"><a href="#cb302-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.65 0.8 1384 0.001850704 12 0.05 3 3 0.80 0.8 1509 0.001850763 13 0.01</span></span>
<span id="cb302-25"><a href="#cb302-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 7 7 0.80 0.8 1453 0.001850975 14 0.01 7 1 0.80 1.0 1281 0.001851069 15</span></span>
<span id="cb302-26"><a href="#cb302-26" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.01 7 1 0.80 0.8 1473 0.001851078</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="variable-importance-plot-1" class="level4" data-number="16.10.2.3">
<h4 data-number="16.10.2.3" class="anchored" data-anchor-id="variable-importance-plot-1"><span class="header-section-number">16.10.2.3</span> Variable importance plot</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb303"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb303-1"><a href="#cb303-1" aria-hidden="true" tabindex="-1"></a><span class="co">#importance_matrix_W &lt;- tar_read(importance_matrix_W_target)</span></span>
<span id="cb303-2"><a href="#cb303-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-3"><a href="#cb303-3" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="partial-dependence-plots-1" class="level4" data-number="16.10.2.4">
<h4 data-number="16.10.2.4" class="anchored" data-anchor-id="partial-dependence-plots-1"><span class="header-section-number">16.10.2.4</span> Partial dependence plots</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/pdpContinuous_W_0815d6055d988ac27bb2f6dbc434d507">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb304"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb304-1"><a href="#cb304-1" aria-hidden="true" tabindex="-1"></a>create_xgb_plots <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">d =</span> finalModels_W, <span class="at">f =</span> features_train_W, <span class="at">modelToUse =</span> modelToUse) {</span>
<span id="cb304-2"><a href="#cb304-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb304-3"><a href="#cb304-3" aria-hidden="true" tabindex="-1"></a>  imp <span class="ot">&lt;-</span> <span class="fu">xgb.ggplot.importance</span>(d<span class="sc">$</span>importanceMatrix[[modelToUse]], <span class="at">top_n =</span> <span class="dv">10</span>, <span class="at">measure =</span> <span class="st">"Gain"</span>) <span class="sc">+</span> </span>
<span id="cb304-4"><a href="#cb304-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">"Model #"</span>, modelToUse))</span>
<span id="cb304-5"><a href="#cb304-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-6"><a href="#cb304-6" aria-hidden="true" tabindex="-1"></a>  pW_W <span class="ot">&lt;-</span> d<span class="sc">$</span>xgb[[modelToUse]] <span class="sc">%&gt;%</span></span>
<span id="cb304-7"><a href="#cb304-7" aria-hidden="true" tabindex="-1"></a>    pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"observedWeight"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb304-8"><a href="#cb304-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> f) </span>
<span id="cb304-9"><a href="#cb304-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb304-10"><a href="#cb304-10" aria-hidden="true" tabindex="-1"></a>  pFlow_W <span class="ot">&lt;-</span> d<span class="sc">$</span>xgb[[modelToUse]] <span class="sc">%&gt;%</span></span>
<span id="cb304-11"><a href="#cb304-11" aria-hidden="true" tabindex="-1"></a>    pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"meanFlowByRiver"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb304-12"><a href="#cb304-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> f)</span>
<span id="cb304-13"><a href="#cb304-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb304-14"><a href="#cb304-14" aria-hidden="true" tabindex="-1"></a>  pTemp_W <span class="ot">&lt;-</span> d<span class="sc">$</span>xgb[[modelToUse]] <span class="sc">%&gt;%</span></span>
<span id="cb304-15"><a href="#cb304-15" aria-hidden="true" tabindex="-1"></a>    pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"meanTemperature"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb304-16"><a href="#cb304-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> f)</span>
<span id="cb304-17"><a href="#cb304-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb304-18"><a href="#cb304-18" aria-hidden="true" tabindex="-1"></a>  pAge_W <span class="ot">&lt;-</span> d<span class="sc">$</span>xgb[[modelToUse]] <span class="sc">%&gt;%</span></span>
<span id="cb304-19"><a href="#cb304-19" aria-hidden="true" tabindex="-1"></a>    pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"age"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb304-20"><a href="#cb304-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> f)</span>
<span id="cb304-21"><a href="#cb304-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb304-22"><a href="#cb304-22" aria-hidden="true" tabindex="-1"></a>  pCohort_W <span class="ot">&lt;-</span> d<span class="sc">$</span>xgb[[modelToUse]] <span class="sc">%&gt;%</span></span>
<span id="cb304-23"><a href="#cb304-23" aria-hidden="true" tabindex="-1"></a>    pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"cohort"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb304-24"><a href="#cb304-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> f)</span>
<span id="cb304-25"><a href="#cb304-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-26"><a href="#cb304-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-27"><a href="#cb304-27" aria-hidden="true" tabindex="-1"></a>  partials <span class="ot">&lt;-</span> gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pW_W, pFlow_W, pTemp_W, pAge_W, pCohort_W, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">top=</span><span class="fu">textGrob</span>(<span class="fu">paste0</span>(<span class="st">"Model #"</span>, modelToUse)))</span>
<span id="cb304-28"><a href="#cb304-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb304-29"><a href="#cb304-29" aria-hidden="true" tabindex="-1"></a> <span class="fu">return</span>(<span class="fu">list</span>(imp, partials)) </span>
<span id="cb304-30"><a href="#cb304-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb304-31"><a href="#cb304-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-32"><a href="#cb304-32" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]</code></pre>
</div>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[[2]]
TableGrob (4 x 2) "arrange": 6 grobs
  z     cells    name                grob
1 1 (2-2,1-1) arrange      gtable[layout]
2 2 (2-2,2-2) arrange      gtable[layout]
3 3 (3-3,1-1) arrange      gtable[layout]
4 4 (3-3,2-2) arrange      gtable[layout]
5 5 (4-4,1-1) arrange      gtable[layout]
6 6 (1-1,1-2) arrange text[GRID.text.203]</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb307"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb307-1"><a href="#cb307-1" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]</code></pre>
</div>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[[2]]
TableGrob (4 x 2) "arrange": 6 grobs
  z     cells    name                grob
1 1 (2-2,1-1) arrange      gtable[layout]
2 2 (2-2,2-2) arrange      gtable[layout]
3 3 (3-3,1-1) arrange      gtable[layout]
4 4 (3-3,2-2) arrange      gtable[layout]
5 5 (4-4,1-1) arrange      gtable[layout]
6 6 (1-1,1-2) arrange text[GRID.text.458]</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb310"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb310-1"><a href="#cb310-1" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]</code></pre>
</div>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-6.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[[2]]
TableGrob (4 x 2) "arrange": 6 grobs
  z     cells    name                grob
1 1 (2-2,1-1) arrange      gtable[layout]
2 2 (2-2,2-2) arrange      gtable[layout]
3 3 (3-3,1-1) arrange      gtable[layout]
4 4 (3-3,2-2) arrange      gtable[layout]
5 5 (4-4,1-1) arrange      gtable[layout]
6 6 (1-1,1-2) arrange text[GRID.text.712]</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb313"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb313-1"><a href="#cb313-1" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-7.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]</code></pre>
</div>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-8.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[[2]]
TableGrob (4 x 2) "arrange": 6 grobs
  z     cells    name                grob
1 1 (2-2,1-1) arrange      gtable[layout]
2 2 (2-2,2-2) arrange      gtable[layout]
3 3 (3-3,1-1) arrange      gtable[layout]
4 4 (3-3,2-2) arrange      gtable[layout]
5 5 (4-4,1-1) arrange      gtable[layout]
6 6 (1-1,1-2) arrange text[GRID.text.966]</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb316"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb316-1"><a href="#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-9.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]</code></pre>
</div>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-10.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[[2]]
TableGrob (4 x 2) "arrange": 6 grobs
  z     cells    name                 grob
1 1 (2-2,1-1) arrange       gtable[layout]
2 2 (2-2,2-2) arrange       gtable[layout]
3 3 (3-3,1-1) arrange       gtable[layout]
4 4 (3-3,2-2) arrange       gtable[layout]
5 5 (4-4,1-1) arrange       gtable[layout]
6 6 (1-1,1-2) arrange text[GRID.text.1220]</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb319"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb319-1"><a href="#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-11.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]</code></pre>
</div>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/pdpContinuous_W-12.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[[2]]
TableGrob (4 x 2) "arrange": 6 grobs
  z     cells    name                 grob
1 1 (2-2,1-1) arrange       gtable[layout]
2 2 (2-2,2-2) arrange       gtable[layout]
3 3 (3-3,1-1) arrange       gtable[layout]
4 4 (3-3,2-2) arrange       gtable[layout]
5 5 (4-4,1-1) arrange       gtable[layout]
6 6 (1-1,1-2) arrange text[GRID.text.1474]</code></pre>
</div>
</div>
</section>
<section id="lime-1" class="level4" data-number="16.10.2.5">
<h4 data-number="16.10.2.5" class="anchored" data-anchor-id="lime-1"><span class="header-section-number">16.10.2.5</span> Lime</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/limeContinuous_W_e414449fc97a81595034601262f934b7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb322"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb322-1"><a href="#cb322-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get a few observations to perform local interpretation on</span></span>
<span id="cb322-2"><a href="#cb322-2" aria-hidden="true" tabindex="-1"></a>local_obs_W <span class="ot">&lt;-</span> dML_W[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, ]</span>
<span id="cb322-3"><a href="#cb322-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb322-4"><a href="#cb322-4" aria-hidden="true" tabindex="-1"></a><span class="co"># one-hot encode the local observations to be assessed.</span></span>
<span id="cb322-5"><a href="#cb322-5" aria-hidden="true" tabindex="-1"></a>local_obs_onehot_W <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan_W, local_obs_W, <span class="at">varRestriction =</span> new_vars_W)</span>
<span id="cb322-6"><a href="#cb322-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb322-7"><a href="#cb322-7" aria-hidden="true" tabindex="-1"></a><span class="co"># apply LIME</span></span>
<span id="cb322-8"><a href="#cb322-8" aria-hidden="true" tabindex="-1"></a>explainer_W <span class="ot">&lt;-</span> <span class="fu">lime</span>(<span class="fu">data.frame</span>(features_train_W), finalModels_W<span class="sc">$</span>xgb[[modelToUse]], <span class="at">quantile_bins =</span> <span class="cn">FALSE</span>)</span>
<span id="cb322-9"><a href="#cb322-9" aria-hidden="true" tabindex="-1"></a>explanation_W <span class="ot">&lt;-</span> lime<span class="sc">::</span><span class="fu">explain</span>(local_obs_onehot_W, explainer_W, <span class="at">n_features =</span> <span class="dv">5</span>, <span class="at">n_labels =</span> <span class="dv">2</span>)</span>
<span id="cb322-10"><a href="#cb322-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_features</span>(explanation_W)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/limeContinuous_W-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="predict" class="level4" data-number="16.10.2.6">
<h4 data-number="16.10.2.6" class="anchored" data-anchor-id="predict"><span class="header-section-number">16.10.2.6</span> Predict</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/predict_W_a163b7bbd70ad60fb964cb19bffca3d0">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb323"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb323-1"><a href="#cb323-1" aria-hidden="true" tabindex="-1"></a>createPredictions <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">d =</span> finalModels_W, <span class="at">f =</span> features_test_W, <span class="at">r =</span> response_test_W, <span class="at">modelToUse =</span> modelToUse) {</span>
<span id="cb323-2"><a href="#cb323-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb323-3"><a href="#cb323-3" aria-hidden="true" tabindex="-1"></a>  pred_W <span class="ot">&lt;-</span> <span class="fu">predict</span>(d<span class="sc">$</span>xgb[[modelToUse]], f)</span>
<span id="cb323-4"><a href="#cb323-4" aria-hidden="true" tabindex="-1"></a>  rmse <span class="ot">&lt;-</span> caret<span class="sc">::</span><span class="fu">RMSE</span>(pred_W, r)</span>
<span id="cb323-5"><a href="#cb323-5" aria-hidden="true" tabindex="-1"></a>  r2 <span class="ot">&lt;-</span> caret<span class="sc">::</span><span class="fu">R2</span>(pred_W, r)</span>
<span id="cb323-6"><a href="#cb323-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb323-7"><a href="#cb323-7" aria-hidden="true" tabindex="-1"></a>  obsPred_W <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(<span class="at">obs =</span> r, <span class="at">pred =</span> pred_W, f)</span>
<span id="cb323-8"><a href="#cb323-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb323-9"><a href="#cb323-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">r2 =</span> r2, <span class="at">rmse =</span> rmse, <span class="at">obsPred_W =</span> obsPred_W))</span>
<span id="cb323-10"><a href="#cb323-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="modelGrowthInMass_cache/html/obsPred_W_e4cf01ccb03cfdd31ab41c4156164ff0">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb324"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb324-1"><a href="#cb324-1" aria-hidden="true" tabindex="-1"></a>predsOP_W <span class="ot">&lt;-</span> <span class="fu">createPredictions</span>(finalModels_W, features_test_W, response_test_W, modelToUse) </span>
<span id="cb324-2"><a href="#cb324-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb324-3"><a href="#cb324-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(predsOP_W<span class="sc">$</span>obsPred_W, <span class="fu">aes</span>(obs, pred)) <span class="sc">+</span></span>
<span id="cb324-4"><a href="#cb324-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb324-5"><a href="#cb324-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Observed growth rate"</span>, <span class="at">y =</span> <span class="st">"Predicted growth rate"</span>) <span class="sc">+</span></span>
<span id="cb324-6"><a href="#cb324-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb324-7"><a href="#cb324-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">"r2 = "</span>, <span class="fu">round</span>(predsOP_W<span class="sc">$</span>r2, <span class="dv">2</span>), <span class="st">" RMSE = "</span>, <span class="fu">round</span>(predsOP_W<span class="sc">$</span>rmse, <span class="dv">5</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/obsPred_W-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb325"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb325-1"><a href="#cb325-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(predsOP_W<span class="sc">$</span>obsPred_W, <span class="fu">aes</span>(obs, pred)) <span class="sc">+</span></span>
<span id="cb325-2"><a href="#cb325-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb325-3"><a href="#cb325-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Observed growth rate"</span>, <span class="at">y =</span> <span class="st">"Predicted growth rate"</span>) <span class="sc">+</span></span>
<span id="cb325-4"><a href="#cb325-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb325-5"><a href="#cb325-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/obsPred_W-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-hash="modelGrowthInMass_cache/html/UsingGridInputs_7f32ebb0b92910848f55e9fc25b429bd">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb326"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb326-1"><a href="#cb326-1" aria-hidden="true" tabindex="-1"></a>renameLev <span class="ot">&lt;-</span> <span class="cf">function</span>(d) {</span>
<span id="cb326-2"><a href="#cb326-2" aria-hidden="true" tabindex="-1"></a>  d <span class="sc">|&gt;</span>  </span>
<span id="cb326-3"><a href="#cb326-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_split</span>(<span class="st">"_lev_x_"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb326-4"><a href="#cb326-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">map</span>(<span class="sc">~</span>.x[<span class="dv">2</span>]) <span class="sc">|&gt;</span> </span>
<span id="cb326-5"><a href="#cb326-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>()</span>
<span id="cb326-6"><a href="#cb326-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb326-7"><a href="#cb326-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-8"><a href="#cb326-8" aria-hidden="true" tabindex="-1"></a>createPredictionsGrid <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">d =</span> finalModels_W, <span class="at">pg =</span> gridPred, <span class="at">modelToUse =</span> modelToUse){</span>
<span id="cb326-9"><a href="#cb326-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#, f = features_test_W, r = response_test_W, nSeq = 5, modelToUse = modelToUse) {</span></span>
<span id="cb326-10"><a href="#cb326-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb326-11"><a href="#cb326-11" aria-hidden="true" tabindex="-1"></a>  predGrid <span class="ot">&lt;-</span> <span class="fu">predict</span>(d<span class="sc">$</span>xgb[[modelToUse]], pg)</span>
<span id="cb326-12"><a href="#cb326-12" aria-hidden="true" tabindex="-1"></a>  gridPredOut <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(pg, <span class="at">pred =</span> predGrid) <span class="sc">|&gt;</span> </span>
<span id="cb326-13"><a href="#cb326-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename_with</span>(</span>
<span id="cb326-14"><a href="#cb326-14" aria-hidden="true" tabindex="-1"></a>      renameLev,  </span>
<span id="cb326-15"><a href="#cb326-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">contains</span>(<span class="st">"_lev_x_"</span>)</span>
<span id="cb326-16"><a href="#cb326-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span>  </span>
<span id="cb326-17"><a href="#cb326-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rowwise</span>() <span class="sc">|&gt;</span> </span>
<span id="cb326-18"><a href="#cb326-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb326-19"><a href="#cb326-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">sumRiver =</span> <span class="fu">sum</span>(Isolated_Small <span class="sc">+</span> Open_Large <span class="sc">+</span> Open_Small <span class="sc">+</span> West_Brook),</span>
<span id="cb326-20"><a href="#cb326-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">sumSeason =</span> <span class="fu">sum</span>(Autumn <span class="sc">+</span> Spring <span class="sc">+</span> Summer <span class="sc">+</span> Winter)</span>
<span id="cb326-21"><a href="#cb326-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span>   </span>
<span id="cb326-22"><a href="#cb326-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb326-23"><a href="#cb326-23" aria-hidden="true" tabindex="-1"></a>      sumRiver <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb326-24"><a href="#cb326-24" aria-hidden="true" tabindex="-1"></a>      sumSeason <span class="sc">==</span> <span class="dv">1</span></span>
<span id="cb326-25"><a href="#cb326-25" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span>   </span>
<span id="cb326-26"><a href="#cb326-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb326-27"><a href="#cb326-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">across</span>(<span class="fu">c</span>(<span class="st">'Isolated_Small'</span><span class="sc">:</span><span class="st">'Winter'</span>), <span class="sc">~</span>.x <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb326-28"><a href="#cb326-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb326-29"><a href="#cb326-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-30"><a href="#cb326-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(gridPredOut)</span>
<span id="cb326-31"><a href="#cb326-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb326-32"><a href="#cb326-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-33"><a href="#cb326-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-34"><a href="#cb326-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-35"><a href="#cb326-35" aria-hidden="true" tabindex="-1"></a>nSeq <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb326-36"><a href="#cb326-36" aria-hidden="true" tabindex="-1"></a>xGrid <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb326-37"><a href="#cb326-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">observedWeight =</span> <span class="dv">40</span>, <span class="co">#seq(min(f[,"observedWeight"]), max(f[,"observedWeight"]), length.out = nSeq),</span></span>
<span id="cb326-38"><a href="#cb326-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">cohort =</span> <span class="dv">2010</span>, <span class="co">#seq(min(f[,"cohort"]), max(f[,"cohort"]), length.out = nSeq),</span></span>
<span id="cb326-39"><a href="#cb326-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">age =</span> <span class="dv">1</span>, <span class="co">#seq(min(f[,"age"]), max(f[,"age"]), length.out = nSeq),</span></span>
<span id="cb326-40"><a href="#cb326-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">meanTemperature =</span> <span class="fu">seq</span>(<span class="fu">min</span>(features_test_W[,<span class="st">"meanTemperature"</span>]), <span class="fu">max</span>(features_test_W[,<span class="st">"meanTemperature"</span>]), <span class="at">length.out =</span> nSeq <span class="sc">*</span> <span class="dv">3</span>),</span>
<span id="cb326-41"><a href="#cb326-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">meanFlowByRiver =</span> <span class="fu">seq</span>(<span class="fu">min</span>(features_test_W[,<span class="st">"meanFlowByRiver"</span>]), <span class="fu">max</span>(features_test_W[,<span class="st">"meanFlowByRiver"</span>]), <span class="at">length.out =</span> nSeq <span class="sc">*</span> <span class="dv">3</span>),</span>
<span id="cb326-42"><a href="#cb326-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverGG_lev_x_Isolated_Small =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb326-43"><a href="#cb326-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverGG_lev_x_Open_Large =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb326-44"><a href="#cb326-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverGG_lev_x_Open_Small =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb326-45"><a href="#cb326-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverGG_lev_x_West_Brook =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb326-46"><a href="#cb326-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">seasonGG_lev_x_Autumn =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb326-47"><a href="#cb326-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">seasonGG_lev_x_Spring =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb326-48"><a href="#cb326-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">seasonGG_lev_x_Summer =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb326-49"><a href="#cb326-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">seasonGG_lev_x_Winter =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb326-50"><a href="#cb326-50" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb326-51"><a href="#cb326-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.matrix</span>()</span>
<span id="cb326-52"><a href="#cb326-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-53"><a href="#cb326-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-54"><a href="#cb326-54" aria-hidden="true" tabindex="-1"></a>preds_W <span class="ot">&lt;-</span> <span class="fu">createPredictionsGrid</span>(</span>
<span id="cb326-55"><a href="#cb326-55" aria-hidden="true" tabindex="-1"></a>  finalModels_W, </span>
<span id="cb326-56"><a href="#cb326-56" aria-hidden="true" tabindex="-1"></a>  xGrid,</span>
<span id="cb326-57"><a href="#cb326-57" aria-hidden="true" tabindex="-1"></a>  modelToUse</span>
<span id="cb326-58"><a href="#cb326-58" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb326-59"><a href="#cb326-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-60"><a href="#cb326-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-61"><a href="#cb326-61" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(preds_W <span class="sc">|&gt;</span> </span>
<span id="cb326-62"><a href="#cb326-62" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(</span>
<span id="cb326-63"><a href="#cb326-63" aria-hidden="true" tabindex="-1"></a>           <span class="co">#Isolated_Small, Open_Large, Open_Small, West_Brook, </span></span>
<span id="cb326-64"><a href="#cb326-64" aria-hidden="true" tabindex="-1"></a>           <span class="co">#Autumn, Spring, Summer, Winter</span></span>
<span id="cb326-65"><a href="#cb326-65" aria-hidden="true" tabindex="-1"></a>           ), </span>
<span id="cb326-66"><a href="#cb326-66" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(meanFlowByRiver, pred, <span class="at">color =</span> meanTemperature, <span class="at">group =</span> meanTemperature)) <span class="sc">+</span></span>
<span id="cb326-67"><a href="#cb326-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb326-68"><a href="#cb326-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Stream flow"</span>, <span class="at">y =</span> <span class="st">"Predicted growth rate"</span>) <span class="sc">+</span></span>
<span id="cb326-69"><a href="#cb326-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb326-70"><a href="#cb326-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb326-71"><a href="#cb326-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Isolated_Small<span class="sc">+</span>Open_Large<span class="sc">+</span>Open_Small<span class="sc">+</span>West_Brook <span class="sc">~</span> Spring<span class="sc">+</span>Summer<span class="sc">+</span>Autumn<span class="sc">+</span>Winter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/UsingGridInputs-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb327"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb327-1"><a href="#cb327-1" aria-hidden="true" tabindex="-1"></a><span class="co"># use seasonal zScores for environmetnal data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="when-and-where-do-fish-have-predicted-negative-growth" class="level4" data-number="16.10.2.7">
<h4 data-number="16.10.2.7" class="anchored" data-anchor-id="when-and-where-do-fish-have-predicted-negative-growth"><span class="header-section-number">16.10.2.7</span> When and where do fish have predicted negative growth?</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/negPredGrowth_W_627d9028a693e64644804ecf4659ba4a">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb328"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb328-1"><a href="#cb328-1" aria-hidden="true" tabindex="-1"></a>predNeg <span class="ot">&lt;-</span> preds_W <span class="sc">|&gt;</span> <span class="fu">filter</span>(pred <span class="sc">&lt;</span> <span class="fl">0.000</span>)</span>
<span id="cb328-2"><a href="#cb328-2" aria-hidden="true" tabindex="-1"></a>predNeg <span class="sc">|&gt;</span> </span>
<span id="cb328-3"><a href="#cb328-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Isolated_Small, Open_Large, Open_Small, West_Brook, Autumn, Spring, Summer, Winter) <span class="sc">|&gt;</span> </span>
<span id="cb328-4"><a href="#cb328-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 9
# Rowwise: 
   Isolated_Small Open_Large Open_Sm…¹ West_…² Autumn Spring Summer Winter     n
   &lt;lgl&gt;          &lt;lgl&gt;      &lt;lgl&gt;     &lt;lgl&gt;   &lt;lgl&gt;  &lt;lgl&gt;  &lt;lgl&gt;  &lt;lgl&gt;  &lt;int&gt;
 1 FALSE          FALSE      FALSE     TRUE    TRUE   FALSE  FALSE  FALSE     62
 2 FALSE          TRUE       FALSE     FALSE   TRUE   FALSE  FALSE  FALSE     47
 3 TRUE           FALSE      FALSE     FALSE   TRUE   FALSE  FALSE  FALSE     42
 4 FALSE          FALSE      TRUE      FALSE   TRUE   FALSE  FALSE  FALSE     37
 5 FALSE          FALSE      FALSE     TRUE    FALSE  FALSE  FALSE  TRUE      31
 6 FALSE          FALSE      FALSE     TRUE    FALSE  FALSE  TRUE   FALSE     23
 7 FALSE          TRUE       FALSE     FALSE   FALSE  FALSE  FALSE  TRUE      17
 8 FALSE          TRUE       FALSE     FALSE   FALSE  FALSE  TRUE   FALSE     15
 9 TRUE           FALSE      FALSE     FALSE   FALSE  FALSE  FALSE  TRUE      10
10 TRUE           FALSE      FALSE     FALSE   FALSE  FALSE  TRUE   FALSE      9
11 FALSE          FALSE      TRUE      FALSE   FALSE  FALSE  FALSE  TRUE       6
12 FALSE          FALSE      TRUE      FALSE   FALSE  FALSE  TRUE   FALSE      6
# … with abbreviated variable names ¹​Open_Small, ²​West_Brook</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb330"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb330-1"><a href="#cb330-1" aria-hidden="true" tabindex="-1"></a>predNeg <span class="sc">|&gt;</span> </span>
<span id="cb330-2"><a href="#cb330-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Autumn, Spring, Summer, Winter) <span class="sc">|&gt;</span> </span>
<span id="cb330-3"><a href="#cb330-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
# Rowwise: 
  Autumn Spring Summer Winter     n
  &lt;lgl&gt;  &lt;lgl&gt;  &lt;lgl&gt;  &lt;lgl&gt;  &lt;int&gt;
1 TRUE   FALSE  FALSE  FALSE    188
2 FALSE  FALSE  FALSE  TRUE      64
3 FALSE  FALSE  TRUE   FALSE     53</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb332"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb332-1"><a href="#cb332-1" aria-hidden="true" tabindex="-1"></a>predNeg <span class="sc">|&gt;</span> </span>
<span id="cb332-2"><a href="#cb332-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Isolated_Small, Open_Large, Open_Small, West_Brook) <span class="sc">|&gt;</span> </span>
<span id="cb332-3"><a href="#cb332-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 5
# Rowwise: 
  Isolated_Small Open_Large Open_Small West_Brook     n
  &lt;lgl&gt;          &lt;lgl&gt;      &lt;lgl&gt;      &lt;lgl&gt;      &lt;int&gt;
1 FALSE          FALSE      FALSE      TRUE         116
2 FALSE          TRUE       FALSE      FALSE         79
3 TRUE           FALSE      FALSE      FALSE         61
4 FALSE          FALSE      TRUE       FALSE         49</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="gam-for-growth" class="level2" data-number="16.11">
<h2 data-number="16.11" class="anchored" data-anchor-id="gam-for-growth"><span class="header-section-number">16.11</span> GAM for growth</h2>
<div class="cell" data-hash="modelGrowthInMass_cache/html/gamGrowthRaw_1a849109825fff0ee3132b8d11331ee3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb334"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb334-1"><a href="#cb334-1" aria-hidden="true" tabindex="-1"></a><span class="co">#riverGG, seasonGG, observedWeight, cohort, age, meanTemperature, meanFlowByRiver, negGrowth</span></span>
<span id="cb334-2"><a href="#cb334-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-3"><a href="#cb334-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-4"><a href="#cb334-4" aria-hidden="true" tabindex="-1"></a>kValue <span class="ot">&lt;-</span> <span class="dv">4</span> </span>
<span id="cb334-5"><a href="#cb334-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-6"><a href="#cb334-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">!=</span> <span class="st">"Atlantic salmon"</span>), <span class="fu">aes</span>(flowByRiverS, grWeight, <span class="at">group =</span> speciesGG, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb334-7"><a href="#cb334-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb334-8"><a href="#cb334-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"gam"</span>, </span>
<span id="cb334-9"><a href="#cb334-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">s</span>(x, <span class="at">bs =</span> <span class="st">"cs"</span>, <span class="at">fx =</span> <span class="cn">TRUE</span>, <span class="at">k =</span> kValue), </span>
<span id="cb334-10"><a href="#cb334-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb334-11"><a href="#cb334-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb334-12"><a href="#cb334-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/gamGrowthRaw-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb335"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb335-1"><a href="#cb335-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">!=</span> <span class="st">"Atlantic salmon"</span>), <span class="fu">aes</span>(flowByRiverSR, grWeight, <span class="at">group =</span> speciesGG, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb335-2"><a href="#cb335-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb335-3"><a href="#cb335-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb335-4"><a href="#cb335-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"gam"</span>, </span>
<span id="cb335-5"><a href="#cb335-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">s</span>(x, <span class="at">bs =</span> <span class="st">"cs"</span>, <span class="at">fx =</span> <span class="cn">TRUE</span>, <span class="at">k =</span> kValue), </span>
<span id="cb335-6"><a href="#cb335-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb335-7"><a href="#cb335-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb335-8"><a href="#cb335-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb335-9"><a href="#cb335-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/gamGrowthRaw-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb336"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb336-1"><a href="#cb336-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">!=</span> <span class="st">"Atlantic salmon"</span>), <span class="fu">aes</span>(tempSR, grWeight, <span class="at">group =</span> speciesGG, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb336-2"><a href="#cb336-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb336-3"><a href="#cb336-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb336-4"><a href="#cb336-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"gam"</span>, </span>
<span id="cb336-5"><a href="#cb336-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">s</span>(x, <span class="at">bs =</span> <span class="st">"cs"</span>, <span class="at">fx =</span> <span class="cn">TRUE</span>, <span class="at">k =</span> kValue), </span>
<span id="cb336-6"><a href="#cb336-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb336-7"><a href="#cb336-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb336-8"><a href="#cb336-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb336-9"><a href="#cb336-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/gamGrowthRaw-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="linear-models-for-growth" class="level3" data-number="16.11.1">
<h3 data-number="16.11.1" class="anchored" data-anchor-id="linear-models-for-growth"><span class="header-section-number">16.11.1</span> Linear models for growth</h3>
<p>Initial test of model structure for GAMs</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/linearModelGrowth_f7af9a3615130b37abf551b8263651ad">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb337"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb337-1"><a href="#cb337-1" aria-hidden="true" tabindex="-1"></a>runLinearModels <span class="ot">&lt;-</span> <span class="cf">function</span>(d, speciesIn) {</span>
<span id="cb337-2"><a href="#cb337-2" aria-hidden="true" tabindex="-1"></a>  models <span class="ot">=</span></span>
<span id="cb337-3"><a href="#cb337-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(<span class="at">model =</span> </span>
<span id="cb337-4"><a href="#cb337-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb337-5"><a href="#cb337-5" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG * tempSR * flowByRiverSR * observedWeight + cohortF * ageF)'</span>,</span>
<span id="cb337-6"><a href="#cb337-6" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG * tempSR * flowByRiverSR * observedWeight + cohortF)'</span>,</span>
<span id="cb337-7"><a href="#cb337-7" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG * tempSR * flowByRiverSR + cohortF * ageF)'</span>,</span>
<span id="cb337-8"><a href="#cb337-8" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG * tempSR * flowByRiverSR + cohortF)'</span>,</span>
<span id="cb337-9"><a href="#cb337-9" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG + tempSR * flowByRiverSR + cohortF * ageF)'</span>,</span>
<span id="cb337-10"><a href="#cb337-10" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG + tempSR + flowByRiverSR + cohortF * ageF)'</span></span>
<span id="cb337-11"><a href="#cb337-11" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb337-12"><a href="#cb337-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb337-13"><a href="#cb337-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb337-14"><a href="#cb337-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">fit =</span> <span class="fu">map</span>(model, <span class="sc">~</span><span class="fu">lm</span>(.x, <span class="at">data =</span> d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn))),</span>
<span id="cb337-15"><a href="#cb337-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">glanced =</span> <span class="fu">map</span>(fit, broom<span class="sc">::</span>glance),</span>
<span id="cb337-16"><a href="#cb337-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">tidied =</span> <span class="fu">map</span>(fit, broom<span class="sc">::</span>tidy)</span>
<span id="cb337-17"><a href="#cb337-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb337-18"><a href="#cb337-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(models)</span>
<span id="cb337-19"><a href="#cb337-19" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="brook-trout-9" class="level4" data-number="16.11.1.1">
<h4 data-number="16.11.1.1" class="anchored" data-anchor-id="brook-trout-9"><span class="header-section-number">16.11.1.1</span> Brook trout</h4>
<p>Most complex model has lowest AIC</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/linBKT_60890a3a36f39ad1456aa703c7de6d84">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb338"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb338-1"><a href="#cb338-1" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"Brook trout"</span></span>
<span id="cb338-2"><a href="#cb338-2" aria-hidden="true" tabindex="-1"></a>modLinearBKT <span class="ot">&lt;-</span> <span class="fu">runLinearModels</span>(dGAM, speciesIn)</span>
<span id="cb338-3"><a href="#cb338-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-4"><a href="#cb338-4" aria-hidden="true" tabindex="-1"></a>modLinearBKT <span class="sc">|&gt;</span> </span>
<span id="cb338-5"><a href="#cb338-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unnest</span>(glanced) <span class="sc">|&gt;</span></span>
<span id="cb338-6"><a href="#cb338-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(AIC) <span class="sc">|&gt;</span></span>
<span id="cb338-7"><a href="#cb338-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(model, AIC, df.residual, fit, tidied)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  model                                               AIC df.re…¹ fit   tidied  
  &lt;chr&gt;                                             &lt;dbl&gt;   &lt;int&gt; &lt;lis&gt; &lt;list&gt;  
1 grWeight ~ (riverGG * seasonGG * tempSR * flow… -94804.    9893 &lt;lm&gt;  &lt;tibble&gt;
2 grWeight ~ (riverGG * seasonGG * tempSR * flow… -93869.    9942 &lt;lm&gt;  &lt;tibble&gt;
3 grWeight ~ (riverGG * seasonGG * tempSR * flow… -92949.    9957 &lt;lm&gt;  &lt;tibble&gt;
4 grWeight ~ (riverGG * seasonGG + tempSR * flow… -91705.   10002 &lt;lm&gt;  &lt;tibble&gt;
5 grWeight ~ (riverGG * seasonGG + tempSR + flow… -91644.   10003 &lt;lm&gt;  &lt;tibble&gt;
6 grWeight ~ (riverGG * seasonGG * tempSR * flow… -90174.   10006 &lt;lm&gt;  &lt;tibble&gt;
# … with abbreviated variable name ¹​df.residual</code></pre>
</div>
</div>
</section>
<section id="brown-trout-9" class="level4" data-number="16.11.1.2">
<h4 data-number="16.11.1.2" class="anchored" data-anchor-id="brown-trout-9"><span class="header-section-number">16.11.1.2</span> Brown trout</h4>
<p>Most complex model has lowest AIC</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/linBNT_888d086bf07c9df929171691492407be">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb340"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb340-1"><a href="#cb340-1" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"Brown trout"</span></span>
<span id="cb340-2"><a href="#cb340-2" aria-hidden="true" tabindex="-1"></a>modLinearBNT <span class="ot">&lt;-</span> <span class="fu">runLinearModels</span>(dGAM, speciesIn)</span>
<span id="cb340-3"><a href="#cb340-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb340-4"><a href="#cb340-4" aria-hidden="true" tabindex="-1"></a>modLinearBNT <span class="sc">|&gt;</span> </span>
<span id="cb340-5"><a href="#cb340-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unnest</span>(glanced) <span class="sc">|&gt;</span></span>
<span id="cb340-6"><a href="#cb340-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(AIC) <span class="sc">|&gt;</span></span>
<span id="cb340-7"><a href="#cb340-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(model, AIC, df.residual, fit, tidied)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  model                                               AIC df.re…¹ fit   tidied  
  &lt;chr&gt;                                             &lt;dbl&gt;   &lt;int&gt; &lt;lis&gt; &lt;list&gt;  
1 grWeight ~ (riverGG * seasonGG * tempSR * flow… -45804.    4491 &lt;lm&gt;  &lt;tibble&gt;
2 grWeight ~ (riverGG * seasonGG * tempSR * flow… -44981.    4543 &lt;lm&gt;  &lt;tibble&gt;
3 grWeight ~ (riverGG * seasonGG * tempSR * flow… -44366.    4539 &lt;lm&gt;  &lt;tibble&gt;
4 grWeight ~ (riverGG * seasonGG + tempSR * flow… -43749.    4572 &lt;lm&gt;  &lt;tibble&gt;
5 grWeight ~ (riverGG * seasonGG + tempSR + flow… -43743.    4573 &lt;lm&gt;  &lt;tibble&gt;
6 grWeight ~ (riverGG * seasonGG * tempSR * flow… -42537.    4591 &lt;lm&gt;  &lt;tibble&gt;
# … with abbreviated variable name ¹​df.residual</code></pre>
</div>
</div>
<p>These linear models suggest that we need significant complexity in GAM models</p>
</section>
</section>
<section id="gam-models-for-growth" class="level3" data-number="16.11.2">
<h3 data-number="16.11.2" class="anchored" data-anchor-id="gam-models-for-growth"><span class="header-section-number">16.11.2</span> GAM models for growth</h3>
<p>This modeling approach map() (which I would like to use), throws an error using bam(). Use gamX model approach below.</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/gamModelsGrowth_f60ca3cfbd90a261012d58d63ee8887e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb342"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb342-1"><a href="#cb342-1" aria-hidden="true" tabindex="-1"></a>runGAMModels <span class="ot">&lt;-</span> <span class="cf">function</span>(d, speciesIn, kIn) {</span>
<span id="cb342-2"><a href="#cb342-2" aria-hidden="true" tabindex="-1"></a>  models <span class="ot">=</span></span>
<span id="cb342-3"><a href="#cb342-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(<span class="at">model =</span> </span>
<span id="cb342-4"><a href="#cb342-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb342-5"><a href="#cb342-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">'grWeight ~ riverGG * seasonGG * observedWeight + cohortF * ageF +             </span></span>
<span id="cb342-6"><a href="#cb342-6" aria-hidden="true" tabindex="-1"></a><span class="st">               s(flowByRiverSR, bs = "cr", k = kIn, by = riverGG) +</span></span>
<span id="cb342-7"><a href="#cb342-7" aria-hidden="true" tabindex="-1"></a><span class="st">               s(flowByRiverSR, bs = "cr", k = kIn, by = seasonGG) +</span></span>
<span id="cb342-8"><a href="#cb342-8" aria-hidden="true" tabindex="-1"></a><span class="st">               s(tempSR, bs = "cr", k = kIn, by = riverGG) +</span></span>
<span id="cb342-9"><a href="#cb342-9" aria-hidden="true" tabindex="-1"></a><span class="st">               s(tempSR, bs = "cr", k = kIn, by = seasonGG)'</span>,</span>
<span id="cb342-10"><a href="#cb342-10" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb342-11"><a href="#cb342-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">'grWeight ~ riverGG * seasonGG * observedWeight * tempSR * flowByRiverSR + cohortF * ageF +             </span></span>
<span id="cb342-12"><a href="#cb342-12" aria-hidden="true" tabindex="-1"></a><span class="st">               s(flowByRiverSR, bs = "cr", k = kIn, by = riverGG) +</span></span>
<span id="cb342-13"><a href="#cb342-13" aria-hidden="true" tabindex="-1"></a><span class="st">               s(flowByRiverSR, bs = "cr", k = kIn, by = seasonGG) +</span></span>
<span id="cb342-14"><a href="#cb342-14" aria-hidden="true" tabindex="-1"></a><span class="st">               s(tempSR, bs = "cr", k = kIn, by = riverGG) +</span></span>
<span id="cb342-15"><a href="#cb342-15" aria-hidden="true" tabindex="-1"></a><span class="st">               s(tempSR, bs = "cr", k = kIn, by = seasonGG)'</span></span>
<span id="cb342-16"><a href="#cb342-16" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb342-17"><a href="#cb342-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb342-18"><a href="#cb342-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb342-19"><a href="#cb342-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">fit =</span> <span class="fu">map</span>(model, <span class="sc">~</span> <span class="fu">bam</span>(.x, <span class="at">method =</span> <span class="st">"REML"</span>, <span class="at">data =</span> d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>)))</span>
<span id="cb342-20"><a href="#cb342-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    glanced = map(fit, broom::glance),</span></span>
<span id="cb342-21"><a href="#cb342-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    tidied = map(fit, broom::tidy)</span></span>
<span id="cb342-22"><a href="#cb342-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb342-23"><a href="#cb342-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(models)</span>
<span id="cb342-24"><a href="#cb342-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb342-25"><a href="#cb342-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-26"><a href="#cb342-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-27"><a href="#cb342-27" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb342-28"><a href="#cb342-28" aria-hidden="true" tabindex="-1"></a><span class="co"># speciesIn &lt;- "Brook trout"</span></span>
<span id="cb342-29"><a href="#cb342-29" aria-hidden="true" tabindex="-1"></a><span class="co"># modLinearBKT &lt;- runGAMModels(dGAM, speciesIn, kValue)</span></span>
<span id="cb342-30"><a href="#cb342-30" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb342-31"><a href="#cb342-31" aria-hidden="true" tabindex="-1"></a><span class="co"># modLinearBKT |&gt; </span></span>
<span id="cb342-32"><a href="#cb342-32" aria-hidden="true" tabindex="-1"></a><span class="co">#     unnest(glanced) |&gt;</span></span>
<span id="cb342-33"><a href="#cb342-33" aria-hidden="true" tabindex="-1"></a><span class="co">#     arrange(AIC) |&gt;</span></span>
<span id="cb342-34"><a href="#cb342-34" aria-hidden="true" tabindex="-1"></a><span class="co">#     dplyr::select(model, AIC, df.residual, fit, tidied)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="brook-trout---flow-by-river" class="level4" data-number="16.11.2.1">
<h4 data-number="16.11.2.1" class="anchored" data-anchor-id="brook-trout---flow-by-river"><span class="header-section-number">16.11.2.1</span> Brook trout - flow by river</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/gamModsBKTFBR_5c7a511ffc16d696b8d61da3d65c0838">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb343"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb343-1"><a href="#cb343-1" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"Brook trout"</span></span>
<span id="cb343-2"><a href="#cb343-2" aria-hidden="true" tabindex="-1"></a>kIn <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb343-3"><a href="#cb343-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-4"><a href="#cb343-4" aria-hidden="true" tabindex="-1"></a>gam0 <span class="ot">&lt;-</span> <span class="fu">bam</span>(grWeight <span class="sc">~</span> (riverGG <span class="sc">+</span> seasonGG <span class="sc">+</span> observedWeight <span class="sc">+</span> tempSR <span class="sc">+</span> flowSR)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> cohortF <span class="sc">*</span> ageF <span class="sc">+</span>             </span>
<span id="cb343-5"><a href="#cb343-5" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb343-6"><a href="#cb343-6" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG) <span class="sc">+</span></span>
<span id="cb343-7"><a href="#cb343-7" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb343-8"><a href="#cb343-8" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG),</span>
<span id="cb343-9"><a href="#cb343-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>), <span class="at">method =</span> <span class="st">"REML"</span>)</span>
<span id="cb343-10"><a href="#cb343-10" aria-hidden="true" tabindex="-1"></a><span class="do">######</span></span>
<span id="cb343-11"><a href="#cb343-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-12"><a href="#cb343-12" aria-hidden="true" tabindex="-1"></a>gam0ByRiver <span class="ot">&lt;-</span> <span class="fu">bam</span>(grWeight <span class="sc">~</span> (riverGG <span class="sc">+</span> seasonGG <span class="sc">+</span> observedWeight <span class="sc">+</span> tempSR <span class="sc">+</span> flowByRiverSR)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> cohortF <span class="sc">*</span> ageF <span class="sc">+</span>             </span>
<span id="cb343-13"><a href="#cb343-13" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb343-14"><a href="#cb343-14" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG) <span class="sc">+</span></span>
<span id="cb343-15"><a href="#cb343-15" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb343-16"><a href="#cb343-16" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG),</span>
<span id="cb343-17"><a href="#cb343-17" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>), <span class="at">method =</span> <span class="st">"REML"</span>)</span>
<span id="cb343-18"><a href="#cb343-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-19"><a href="#cb343-19" aria-hidden="true" tabindex="-1"></a>gam1ByRiver <span class="ot">&lt;-</span> <span class="fu">bam</span>(grWeight <span class="sc">~</span> (riverGG <span class="sc">+</span> seasonGG <span class="sc">+</span> observedWeight <span class="sc">+</span> tempSR <span class="sc">+</span> flowByRiverSR)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> cohortF <span class="sc">+</span>             </span>
<span id="cb343-20"><a href="#cb343-20" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb343-21"><a href="#cb343-21" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG) <span class="sc">+</span></span>
<span id="cb343-22"><a href="#cb343-22" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb343-23"><a href="#cb343-23" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG),</span>
<span id="cb343-24"><a href="#cb343-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>), <span class="at">method =</span> <span class="st">"REML"</span>)</span>
<span id="cb343-25"><a href="#cb343-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-26"><a href="#cb343-26" aria-hidden="true" tabindex="-1"></a><span class="co"># age matters, what about taking out length?</span></span>
<span id="cb343-27"><a href="#cb343-27" aria-hidden="true" tabindex="-1"></a>gam2ByRiver <span class="ot">&lt;-</span> <span class="fu">bam</span>(grWeight <span class="sc">~</span> (riverGG <span class="sc">+</span> seasonGG  <span class="sc">+</span> tempSR <span class="sc">+</span> flowByRiverSR)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> cohortF <span class="sc">*</span> ageF <span class="sc">+</span>             </span>
<span id="cb343-28"><a href="#cb343-28" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb343-29"><a href="#cb343-29" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG) <span class="sc">+</span></span>
<span id="cb343-30"><a href="#cb343-30" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb343-31"><a href="#cb343-31" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG),</span>
<span id="cb343-32"><a href="#cb343-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>), <span class="at">method =</span> <span class="st">"REML"</span>)</span>
<span id="cb343-33"><a href="#cb343-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-34"><a href="#cb343-34" aria-hidden="true" tabindex="-1"></a><span class="co">#nope, need to keep length</span></span>
<span id="cb343-35"><a href="#cb343-35" aria-hidden="true" tabindex="-1"></a><span class="co">#How about without the interactions?</span></span>
<span id="cb343-36"><a href="#cb343-36" aria-hidden="true" tabindex="-1"></a>gam3ByRiver <span class="ot">&lt;-</span> <span class="fu">bam</span>(grWeight <span class="sc">~</span> (riverGG <span class="sc">+</span> seasonGG <span class="sc">+</span> observedWeight <span class="sc">+</span> tempSR <span class="sc">+</span> flowByRiverSR) <span class="sc">+</span> cohortF <span class="sc">*</span> ageF <span class="sc">+</span>             </span>
<span id="cb343-37"><a href="#cb343-37" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb343-38"><a href="#cb343-38" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG) <span class="sc">+</span></span>
<span id="cb343-39"><a href="#cb343-39" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb343-40"><a href="#cb343-40" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG),</span>
<span id="cb343-41"><a href="#cb343-41" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>), <span class="at">method =</span> <span class="st">"REML"</span>)</span>
<span id="cb343-42"><a href="#cb343-42" aria-hidden="true" tabindex="-1"></a><span class="co">#nope, need the interactions</span></span>
<span id="cb343-43"><a href="#cb343-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-44"><a href="#cb343-44" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(gam0ByRiver, gam1ByRiver, gam2ByRiver, gam3ByRiver) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(AIC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                   df       AIC
gam0ByRiver 120.02873 -87218.68
gam1ByRiver  71.79121 -86264.17
gam2ByRiver 110.84119 -85736.95
gam3ByRiver 102.51579 -85461.99</code></pre>
</div>
</div>
</section>
<section id="brook-trout---compare-flow-and-flow-by-river-gams" class="level4" data-number="16.11.2.2">
<h4 data-number="16.11.2.2" class="anchored" data-anchor-id="brook-trout---compare-flow-and-flow-by-river-gams"><span class="header-section-number">16.11.2.2</span> Brook trout - compare flow and flow by river gams</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/gamModsCompare_a3cc032a95316ac380919761b9b3b73d">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb345"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb345-1"><a href="#cb345-1" aria-hidden="true" tabindex="-1"></a>predictBKTgam <span class="ot">&lt;-</span> <span class="cf">function</span>(dIn, modInFlowByRiver){</span>
<span id="cb345-2"><a href="#cb345-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb345-3"><a href="#cb345-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># predMat0 &lt;- </span></span>
<span id="cb345-4"><a href="#cb345-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   expand.grid(</span></span>
<span id="cb345-5"><a href="#cb345-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     flowSR = seq(-1.5,1.5,0.25), </span></span>
<span id="cb345-6"><a href="#cb345-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     tempSR = seq(-1.5,1.5,0.25), </span></span>
<span id="cb345-7"><a href="#cb345-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     riverGG = unique(dIn$riverGG), </span></span>
<span id="cb345-8"><a href="#cb345-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     seasonGG= unique(dIn$seasonGG),</span></span>
<span id="cb345-9"><a href="#cb345-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     observedWeight = seq(2, max(dIn$observedWeight, na.rm = TRUE)/2, 20),</span></span>
<span id="cb345-10"><a href="#cb345-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     cohortF = 2000:2013,#uunique(dIn$cohortF),</span></span>
<span id="cb345-11"><a href="#cb345-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     ageF = 0:4,#unique(dIn$ageF),</span></span>
<span id="cb345-12"><a href="#cb345-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     byRiver = FALSE</span></span>
<span id="cb345-13"><a href="#cb345-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># )</span></span>
<span id="cb345-14"><a href="#cb345-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># predMat &lt;- </span></span>
<span id="cb345-15"><a href="#cb345-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   add_column(</span></span>
<span id="cb345-16"><a href="#cb345-16" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     pred = predict.bam(modInFlow, predMat0),</span></span>
<span id="cb345-17"><a href="#cb345-17" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     predMat0</span></span>
<span id="cb345-18"><a href="#cb345-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   ) |&gt; </span></span>
<span id="cb345-19"><a href="#cb345-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   rename(flow = flowSR, temp = tempSR)</span></span>
<span id="cb345-20"><a href="#cb345-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb345-21"><a href="#cb345-21" aria-hidden="true" tabindex="-1"></a>  predMatByRiver0 <span class="ot">&lt;-</span> </span>
<span id="cb345-22"><a href="#cb345-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expand.grid</span>(</span>
<span id="cb345-23"><a href="#cb345-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">flowByRiverSR =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb345-24"><a href="#cb345-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">tempSR =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb345-25"><a href="#cb345-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">riverGG =</span> <span class="fu">unique</span>(dIn<span class="sc">$</span>riverGG), </span>
<span id="cb345-26"><a href="#cb345-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">seasonGG=</span> <span class="fu">unique</span>(dIn<span class="sc">$</span>seasonGG),</span>
<span id="cb345-27"><a href="#cb345-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">observedWeight =</span> <span class="fu">seq</span>(<span class="dv">2</span>, <span class="fu">max</span>(dIn<span class="sc">$</span>observedWeight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="dv">2</span>, <span class="dv">20</span>),</span>
<span id="cb345-28"><a href="#cb345-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">cohortF =</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>,<span class="co">#unique(dIn$cohortF),</span></span>
<span id="cb345-29"><a href="#cb345-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">ageF =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>,<span class="co">#unique(dIn$ageF),</span></span>
<span id="cb345-30"><a href="#cb345-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">byRiver =</span> <span class="cn">TRUE</span></span>
<span id="cb345-31"><a href="#cb345-31" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb345-32"><a href="#cb345-32" aria-hidden="true" tabindex="-1"></a>  predMatByRiver <span class="ot">&lt;-</span> </span>
<span id="cb345-33"><a href="#cb345-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_column</span>(</span>
<span id="cb345-34"><a href="#cb345-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">pred =</span> <span class="fu">predict.bam</span>(modInFlowByRiver, predMatByRiver0),</span>
<span id="cb345-35"><a href="#cb345-35" aria-hidden="true" tabindex="-1"></a>      predMatByRiver0</span>
<span id="cb345-36"><a href="#cb345-36" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb345-37"><a href="#cb345-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">flow =</span> flowByRiverSR, <span class="at">temp =</span> tempSR)</span>
<span id="cb345-38"><a href="#cb345-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb345-39"><a href="#cb345-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(predMatByRiver)</span>
<span id="cb345-40"><a href="#cb345-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb345-41"><a href="#cb345-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb345-42"><a href="#cb345-42" aria-hidden="true" tabindex="-1"></a>gamBKTPredictions <span class="ot">&lt;-</span> <span class="fu">predictBKTgam</span>(dGAM, gam0ByRiver)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="graph-predictions" class="level4" data-number="16.11.2.3">
<h4 data-number="16.11.2.3" class="anchored" data-anchor-id="graph-predictions"><span class="header-section-number">16.11.2.3</span> Graph predictions</h4>
<div class="cell" data-hash="modelGrowthInMass_cache/html/graphGAMPredictions_8079e9e2f797a26c13163ca9b8659c0a">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb346"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb346-1"><a href="#cb346-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(gamBKTPredictions<span class="sc">$</span>observedWeight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   2  22  42  62  82 102 122 142 162 182</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb348"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb348-1"><a href="#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb348-2"><a href="#cb348-2" aria-hidden="true" tabindex="-1"></a>  gamBKTPredictions <span class="sc">|&gt;</span> </span>
<span id="cb348-3"><a href="#cb348-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb348-4"><a href="#cb348-4" aria-hidden="true" tabindex="-1"></a>      observedWeight <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">22</span>), </span>
<span id="cb348-5"><a href="#cb348-5" aria-hidden="true" tabindex="-1"></a>      cohortF <span class="sc">==</span> <span class="dv">2012</span>, </span>
<span id="cb348-6"><a href="#cb348-6" aria-hidden="true" tabindex="-1"></a>      ageF <span class="sc">==</span> <span class="dv">0</span></span>
<span id="cb348-7"><a href="#cb348-7" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb348-8"><a href="#cb348-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(temp, pred, <span class="at">color =</span> (flow), <span class="at">group =</span> (flow))) <span class="sc">+</span></span>
<span id="cb348-9"><a href="#cb348-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb348-10"><a href="#cb348-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Stream temperature"</span>, <span class="at">y =</span> <span class="st">"Predicted growth rate"</span>) <span class="sc">+</span></span>
<span id="cb348-11"><a href="#cb348-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_smooth(se = FALSE) +</span></span>
<span id="cb348-12"><a href="#cb348-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb348-13"><a href="#cb348-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb348-14"><a href="#cb348-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG<span class="sc">+</span>byRiver, <span class="at">scales =</span> <span class="st">'free'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/graphGAMPredictions-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="logistic-models-for-environmental-effects-on-propneg" class="level2" data-number="16.12">
<h2 data-number="16.12" class="anchored" data-anchor-id="logistic-models-for-environmental-effects-on-propneg"><span class="header-section-number">16.12</span> Logistic models for environmental effects on propNeg</h2>
<section id="standardize-flow-and-temperature" class="level3" data-number="16.12.1">
<h3 data-number="16.12.1" class="anchored" data-anchor-id="standardize-flow-and-temperature"><span class="header-section-number">16.12.1</span> Standardize flow and temperature</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/flowTempZ_66f0015e4021311a7df17a747d5906e1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb349"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb349-1"><a href="#cb349-1" aria-hidden="true" tabindex="-1"></a><span class="co"># getZ &lt;- function(d){</span></span>
<span id="cb349-2"><a href="#cb349-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   list(</span></span>
<span id="cb349-3"><a href="#cb349-3" aria-hidden="true" tabindex="-1"></a><span class="co">#     mean = mean(d, na.rm = TRUE),</span></span>
<span id="cb349-4"><a href="#cb349-4" aria-hidden="true" tabindex="-1"></a><span class="co">#     sd = sd(d, na.rm = TRUE)</span></span>
<span id="cb349-5"><a href="#cb349-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb349-6"><a href="#cb349-6" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb349-7"><a href="#cb349-7" aria-hidden="true" tabindex="-1"></a><span class="co"># fZ &lt;- getZ(cd1$meanFlowByRiver)</span></span>
<span id="cb349-8"><a href="#cb349-8" aria-hidden="true" tabindex="-1"></a><span class="co"># fT &lt;- getZ(cd1$meanTemperature)</span></span>
<span id="cb349-9"><a href="#cb349-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-10"><a href="#cb349-10" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> cd1 <span class="sc">|&gt;</span> </span>
<span id="cb349-11"><a href="#cb349-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season) <span class="sc">|&gt;</span> </span>
<span id="cb349-12"><a href="#cb349-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">fZMean =</span> <span class="fu">mean</span>(meanFlowByRiver, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb349-13"><a href="#cb349-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">fZSd =</span> <span class="fu">sd</span>(meanFlowByRiver, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb349-14"><a href="#cb349-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">fTMean =</span> <span class="fu">mean</span>(meanTemperature, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb349-15"><a href="#cb349-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">fTSd =</span> <span class="fu">sd</span>(meanTemperature, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb349-16"><a href="#cb349-16" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb349-17"><a href="#cb349-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-18"><a href="#cb349-18" aria-hidden="true" tabindex="-1"></a>cd1 <span class="ot">&lt;-</span> cd1 <span class="sc">|&gt;</span> </span>
<span id="cb349-19"><a href="#cb349-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(z) <span class="sc">|&gt;</span> </span>
<span id="cb349-20"><a href="#cb349-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">meanFlowByRiverZ =</span> (meanFlowByRiver <span class="sc">-</span> fZMean)<span class="sc">/</span>fZSd,</span>
<span id="cb349-21"><a href="#cb349-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">meanTempZ =</span> (meanTemperature <span class="sc">-</span> fTMean)<span class="sc">/</span>fTSd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="raw-data-with-logistic-fit-for-flow-effect" class="level3" data-number="16.12.2">
<h3 data-number="16.12.2" class="anchored" data-anchor-id="raw-data-with-logistic-fit-for-flow-effect"><span class="header-section-number">16.12.2</span> Raw data with logistic fit for flow effect</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/logisticFlow_1c5e884742cc2e4af088982a18ddf43b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb350"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb350-1"><a href="#cb350-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)), <span class="fu">aes</span>(meanFlowByRiverZ, negGrowth <span class="sc">*</span> <span class="dv">1</span>, <span class="at">color =</span> river)) <span class="sc">+</span></span>
<span id="cb350-2"><a href="#cb350-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb350-3"><a href="#cb350-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"glm"</span>, </span>
<span id="cb350-4"><a href="#cb350-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"binomial"</span>),</span>
<span id="cb350-5"><a href="#cb350-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb350-6"><a href="#cb350-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Mean flow"</span>) <span class="sc">+</span></span>
<span id="cb350-7"><a href="#cb350-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb350-8"><a href="#cb350-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/logisticFlow-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb351"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb351-1"><a href="#cb351-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)), <span class="fu">aes</span>(meanFlowByRiverZ, negGrowth <span class="sc">*</span> <span class="dv">1</span>, <span class="at">color =</span> river)) <span class="sc">+</span></span>
<span id="cb351-2"><a href="#cb351-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb351-3"><a href="#cb351-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"glm"</span>, </span>
<span id="cb351-4"><a href="#cb351-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"binomial"</span>),</span>
<span id="cb351-5"><a href="#cb351-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb351-6"><a href="#cb351-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Mean flow"</span>) <span class="sc">+</span></span>
<span id="cb351-7"><a href="#cb351-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb351-8"><a href="#cb351-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>species<span class="sc">+</span>river)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/logisticFlow-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="raw-data-with-logistic-fit-for-temperature-effect" class="level3" data-number="16.12.3">
<h3 data-number="16.12.3" class="anchored" data-anchor-id="raw-data-with-logistic-fit-for-temperature-effect"><span class="header-section-number">16.12.3</span> Raw data with logistic fit for temperature effect</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/logisticTemp_96bd24ef202422121e6b84daa4ef62a3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb352"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb352-1"><a href="#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), meanTempZ <span class="sc">&gt;</span> <span class="sc">-</span><span class="dv">4</span>), <span class="fu">aes</span>(meanTempZ, negGrowth <span class="sc">*</span> <span class="dv">1</span>, <span class="at">color =</span> river)) <span class="sc">+</span></span>
<span id="cb352-2"><a href="#cb352-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb352-3"><a href="#cb352-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"glm"</span>, </span>
<span id="cb352-4"><a href="#cb352-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"binomial"</span>),</span>
<span id="cb352-5"><a href="#cb352-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb352-6"><a href="#cb352-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Mean temperature"</span>) <span class="sc">+</span></span>
<span id="cb352-7"><a href="#cb352-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb352-8"><a href="#cb352-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/logisticTemp-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="logistic-model-for-flow-and-temperature-one-species-at-a-time" class="level2" data-number="16.13">
<h2 data-number="16.13" class="anchored" data-anchor-id="logistic-model-for-flow-and-temperature-one-species-at-a-time"><span class="header-section-number">16.13</span> Logistic model for flow and temperature, one species at a time</h2>
<p>Species occupy different rivers, so an all-species model will have unequal river representation across species and don’t need to predict where species are not.</p>
<p>Need to think through whether these models make sense…</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/runLogisticModels_abf29187cdb2d9b786af348b862b563e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb353"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb353-1"><a href="#cb353-1" aria-hidden="true" tabindex="-1"></a>runSppModels <span class="ot">&lt;-</span> <span class="cf">function</span>(d, speciesIn) {</span>
<span id="cb353-2"><a href="#cb353-2" aria-hidden="true" tabindex="-1"></a>  models <span class="ot">=</span></span>
<span id="cb353-3"><a href="#cb353-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(<span class="at">model =</span> </span>
<span id="cb353-4"><a href="#cb353-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb353-5"><a href="#cb353-5" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ * meanTempZ * river'</span>,</span>
<span id="cb353-6"><a href="#cb353-6" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ * meanTempZ + river'</span>,</span>
<span id="cb353-7"><a href="#cb353-7" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ + meanTempZ + river'</span>, </span>
<span id="cb353-8"><a href="#cb353-8" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb353-9"><a href="#cb353-9" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ * meanTempZ'</span> , </span>
<span id="cb353-10"><a href="#cb353-10" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb353-11"><a href="#cb353-11" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ * meanTempZ * river * factor(season)'</span>,</span>
<span id="cb353-12"><a href="#cb353-12" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb353-13"><a href="#cb353-13" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ + meanTempZ * river * factor(season)'</span>, </span>
<span id="cb353-14"><a href="#cb353-14" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb353-15"><a href="#cb353-15" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ * meanTempZ * river * factor(season) * observedWeight'</span> </span>
<span id="cb353-16"><a href="#cb353-16" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb353-17"><a href="#cb353-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb353-18"><a href="#cb353-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb353-19"><a href="#cb353-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">fit =</span> <span class="fu">map</span>(model, <span class="sc">~</span><span class="fu">glm</span>(.x, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> d <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> speciesIn))),</span>
<span id="cb353-20"><a href="#cb353-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">glanced =</span> <span class="fu">map</span>(fit, broom<span class="sc">::</span>glance),</span>
<span id="cb353-21"><a href="#cb353-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">tidied =</span> <span class="fu">map</span>(fit, broom<span class="sc">::</span>tidy)</span>
<span id="cb353-22"><a href="#cb353-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb353-23"><a href="#cb353-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(models)</span>
<span id="cb353-24"><a href="#cb353-24" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="predict-pneg-growth-in-mass" class="level3" data-number="16.13.1">
<h3 data-number="16.13.1" class="anchored" data-anchor-id="predict-pneg-growth-in-mass"><span class="header-section-number">16.13.1</span> Predict p(neg growth in mass)</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/predictLogistic_cbf331a5d41e4ca6535ee36214254812">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb354"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb354-1"><a href="#cb354-1" aria-hidden="true" tabindex="-1"></a>predictSpp <span class="ot">&lt;-</span> <span class="cf">function</span>(dIn, modIn, speciesIn){</span>
<span id="cb354-2"><a href="#cb354-2" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> dIn <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> speciesIn)</span>
<span id="cb354-3"><a href="#cb354-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb354-4"><a href="#cb354-4" aria-hidden="true" tabindex="-1"></a>  byAIC <span class="ot">=</span> modIn <span class="sc">|&gt;</span> </span>
<span id="cb354-5"><a href="#cb354-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unnest</span>(glanced) <span class="sc">|&gt;</span></span>
<span id="cb354-6"><a href="#cb354-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(AIC) <span class="sc">|&gt;</span></span>
<span id="cb354-7"><a href="#cb354-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(model, AIC, df.residual, fit, tidied)</span>
<span id="cb354-8"><a href="#cb354-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb354-9"><a href="#cb354-9" aria-hidden="true" tabindex="-1"></a>  predDSpp <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb354-10"><a href="#cb354-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">meanFlowByRiverZ =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb354-11"><a href="#cb354-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">meanTempZ =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb354-12"><a href="#cb354-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="fu">unique</span>(d<span class="sc">$</span>river), </span>
<span id="cb354-13"><a href="#cb354-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="fu">unique</span>(d<span class="sc">$</span>season),</span>
<span id="cb354-14"><a href="#cb354-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">observedWeight =</span> <span class="fu">seq</span>(<span class="fu">min</span>(d<span class="sc">$</span>observedWeight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="fu">max</span>(d<span class="sc">$</span>observedWeight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">40</span>)</span>
<span id="cb354-15"><a href="#cb354-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb354-16"><a href="#cb354-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb354-17"><a href="#cb354-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb354-18"><a href="#cb354-18" aria-hidden="true" tabindex="-1"></a>  pred <span class="ot">&lt;-</span> <span class="fu">add_column</span>(predDSpp, </span>
<span id="cb354-19"><a href="#cb354-19" aria-hidden="true" tabindex="-1"></a>                        <span class="at">pred =</span> <span class="fu">predict.glm</span>(byAIC[<span class="dv">1</span>,]<span class="sc">$</span>fit[[<span class="dv">1</span>]], predDSpp, <span class="at">type =</span> <span class="st">"response"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb354-20"><a href="#cb354-20" aria-hidden="true" tabindex="-1"></a>             <span class="fu">mutate</span>(<span class="at">groupT =</span> <span class="fu">paste</span>(river, season, meanTempZ, <span class="at">sep =</span> <span class="st">"_"</span>),</span>
<span id="cb354-21"><a href="#cb354-21" aria-hidden="true" tabindex="-1"></a>                    <span class="at">groupF =</span> <span class="fu">paste</span>(river, season, meanFlowByRiverZ, <span class="at">sep =</span> <span class="st">"_"</span>))</span>
<span id="cb354-22"><a href="#cb354-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(</span>
<span id="cb354-23"><a href="#cb354-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb354-24"><a href="#cb354-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">pred =</span> pred,</span>
<span id="cb354-25"><a href="#cb354-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">byAIC =</span> byAIC</span>
<span id="cb354-26"><a href="#cb354-26" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb354-27"><a href="#cb354-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb354-28"><a href="#cb354-28" aria-hidden="true" tabindex="-1"></a>}   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="brook-trout-10" class="level3" data-number="16.13.2">
<h3 data-number="16.13.2" class="anchored" data-anchor-id="brook-trout-10"><span class="header-section-number">16.13.2</span> Brook trout</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/modBKT_bb3eb6112e6d1273eb93c30440e0f723">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb355"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb355-1"><a href="#cb355-1" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"bkt"</span></span>
<span id="cb355-2"><a href="#cb355-2" aria-hidden="true" tabindex="-1"></a>modBKT <span class="ot">&lt;-</span> <span class="fu">runSppModels</span>(cd1, speciesIn)</span>
<span id="cb355-3"><a href="#cb355-3" aria-hidden="true" tabindex="-1"></a>predBKT <span class="ot">&lt;-</span> <span class="fu">predictSpp</span>(cd1, modBKT, speciesIn)</span>
<span id="cb355-4"><a href="#cb355-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-5"><a href="#cb355-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-6"><a href="#cb355-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(predBKT<span class="sc">$</span>pred <span class="sc">|&gt;</span> <span class="fu">filter</span>(meanTempZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>), meanFlowByRiverZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>)), <span class="fu">aes</span>(observedWeight, pred, <span class="at">group =</span> groupF)) <span class="sc">+</span></span>
<span id="cb355-7"><a href="#cb355-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(meanFlowByRiverZ))) <span class="sc">+</span></span>
<span id="cb355-8"><a href="#cb355-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Body mass (mg)"</span>) <span class="sc">+</span></span>
<span id="cb355-9"><a href="#cb355-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb355-10"><a href="#cb355-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>river<span class="sc">+</span>meanTempZ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/modBKT-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="brown-trout-10" class="level3" data-number="16.13.3">
<h3 data-number="16.13.3" class="anchored" data-anchor-id="brown-trout-10"><span class="header-section-number">16.13.3</span> Brown trout</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/modBnt_854efb9a453a2256ff0b712c0623f929">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb356"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb356-1"><a href="#cb356-1" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"bnt"</span></span>
<span id="cb356-2"><a href="#cb356-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb356-3"><a href="#cb356-3" aria-hidden="true" tabindex="-1"></a>modBNT <span class="ot">&lt;-</span> <span class="fu">runSppModels</span>(cd1, speciesIn)</span>
<span id="cb356-4"><a href="#cb356-4" aria-hidden="true" tabindex="-1"></a>predBNT <span class="ot">&lt;-</span> <span class="fu">predictSpp</span>(cd1, modBNT, speciesIn)</span>
<span id="cb356-5"><a href="#cb356-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb356-6"><a href="#cb356-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb356-7"><a href="#cb356-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(predBNT<span class="sc">$</span>pred <span class="sc">|&gt;</span> <span class="fu">filter</span>(meanTempZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>), meanFlowByRiverZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>)), <span class="fu">aes</span>(observedWeight, pred, <span class="at">group =</span> groupF)) <span class="sc">+</span></span>
<span id="cb356-8"><a href="#cb356-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(meanFlowByRiverZ))) <span class="sc">+</span></span>
<span id="cb356-9"><a href="#cb356-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Body mass (mg)"</span>) <span class="sc">+</span></span>
<span id="cb356-10"><a href="#cb356-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb356-11"><a href="#cb356-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>river<span class="sc">+</span>meanTempZ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/modBnt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="atlantic-salmon-9" class="level3" data-number="16.13.4">
<h3 data-number="16.13.4" class="anchored" data-anchor-id="atlantic-salmon-9"><span class="header-section-number">16.13.4</span> Atlantic salmon</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/modAts_a6d5b59611aff61e14effebd471b7028">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb357"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb357-1"><a href="#cb357-1" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"ats"</span></span>
<span id="cb357-2"><a href="#cb357-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb357-3"><a href="#cb357-3" aria-hidden="true" tabindex="-1"></a>modATS <span class="ot">&lt;-</span> <span class="fu">runSppModels</span>(cd1, speciesIn)</span>
<span id="cb357-4"><a href="#cb357-4" aria-hidden="true" tabindex="-1"></a>predATS <span class="ot">&lt;-</span> <span class="fu">predictSpp</span>(cd1, modATS, speciesIn)</span>
<span id="cb357-5"><a href="#cb357-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb357-6"><a href="#cb357-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb357-7"><a href="#cb357-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(predATS<span class="sc">$</span>pred <span class="sc">|&gt;</span> <span class="fu">filter</span>(meanTempZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>), meanFlowByRiverZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>)), <span class="fu">aes</span>(observedWeight, pred, <span class="at">group =</span> groupF)) <span class="sc">+</span></span>
<span id="cb357-8"><a href="#cb357-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(meanFlowByRiverZ))) <span class="sc">+</span></span>
<span id="cb357-9"><a href="#cb357-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Body mass (mg)"</span>) <span class="sc">+</span></span>
<span id="cb357-10"><a href="#cb357-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb357-11"><a href="#cb357-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>river<span class="sc">+</span>meanTempZ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/modAts-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="two-growth-models" class="level2" data-number="16.14">
<h2 data-number="16.14" class="anchored" data-anchor-id="two-growth-models"><span class="header-section-number">16.14</span> Two growth models</h2>
<section id="size-adjusted-growth-model" class="level3" data-number="16.14.1">
<h3 data-number="16.14.1" class="anchored" data-anchor-id="size-adjusted-growth-model"><span class="header-section-number">16.14.1</span> Size-adjusted growth model</h3>
<section id="get-l-w-relationships-for-size-adjusted-growth-model" class="level4" data-number="16.14.1.1">
<h4 data-number="16.14.1.1" class="anchored" data-anchor-id="get-l-w-relationships-for-size-adjusted-growth-model"><span class="header-section-number">16.14.1.1</span> Get l-w relationships for size-adjusted growth model</h4>
<p>Here, we will explore size-independent growth in mass, see <code>Sigourney, D. B., B H Letcher, M. Obedzinski, and R. A. Cunjak. “Size-Independent Growth in Fishes: Patterns, Models and Metrics.” Journal of Fish Biology 72, no. 10 (2008): 2435–55. https://doi.org/10.1111/j.1095-8649.2008.01830.x.</code> Size-independent growth (<code>grWeightS</code>) is calculated in getDataElectro_targets.R file using addSizeIndGrowthWeight().<br>
<code>grWeightS</code> uses the slope of <code>log(observedWeight)</code> ~ <code>log(grWeight)</code> for each river and season and species to adjust growth.<br>
A simple linear models shows we need to get separate slopes for each river and season and species.</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/grW_models_216fadc2c5a954cd0307b71e6c876b1b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb358"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb358-1"><a href="#cb358-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>), </span>
<span id="cb358-2"><a href="#cb358-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="fu">log</span>(observedWeight), <span class="fu">log</span>(grWeight), <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb358-3"><a href="#cb358-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>)  <span class="sc">+</span></span>
<span id="cb358-4"><a href="#cb358-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb358-5"><a href="#cb358-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Log of mass (mg)"</span>, <span class="at">x =</span> <span class="st">"Log of growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb358-6"><a href="#cb358-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb358-7"><a href="#cb358-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb358-8"><a href="#cb358-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/grW_models-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb359"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb359-1"><a href="#cb359-1" aria-hidden="true" tabindex="-1"></a>mod0 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(grWeight) <span class="sc">~</span> <span class="fu">log</span>(observedWeight), <span class="at">data =</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb359-2"><a href="#cb359-2" aria-hidden="true" tabindex="-1"></a>mod1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(grWeight) <span class="sc">~</span> <span class="fu">log</span>(observedWeight) <span class="sc">*</span> river, <span class="at">data =</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb359-3"><a href="#cb359-3" aria-hidden="true" tabindex="-1"></a>mod2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(grWeight) <span class="sc">~</span> <span class="fu">log</span>(observedWeight) <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season), <span class="at">data =</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb359-4"><a href="#cb359-4" aria-hidden="true" tabindex="-1"></a>mod3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(grWeight) <span class="sc">~</span> <span class="fu">log</span>(observedWeight) <span class="sc">*</span> <span class="fu">factor</span>(season), <span class="at">data =</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb359-5"><a href="#cb359-5" aria-hidden="true" tabindex="-1"></a>mod4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(grWeight) <span class="sc">~</span> <span class="fu">log</span>(observedWeight) <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">*</span> species, <span class="at">data =</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb359-6"><a href="#cb359-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb359-7"><a href="#cb359-7" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(mod0,mod1,mod2,mod3,mod4) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(AIC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     df      AIC
mod4 73 43925.12
mod2 33 47539.49
mod3  9 48036.13
mod1  9 64659.88
mod0  3 64744.59</code></pre>
</div>
</div>
</section>
</section>
<section id="compare-size-adjusted-and-instantaneous-growth" class="level3" data-number="16.14.2">
<h3 data-number="16.14.2" class="anchored" data-anchor-id="compare-size-adjusted-and-instantaneous-growth"><span class="header-section-number">16.14.2</span> Compare size-adjusted and instantaneous growth</h3>
<p>Differences don’t seem big enough to warrant the extra complexity from the s-adjusted growth metric</p>
<div class="cell" data-hash="modelGrowthInMass_cache/html/grWeight_v_grWeightS_82104c5cd44b246b7be030a9837bbcff">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb361"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb361-1"><a href="#cb361-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1, <span class="fu">aes</span>(grWeight, grWeightS, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb361-2"><a href="#cb361-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>)  <span class="sc">+</span></span>
<span id="cb361-3"><a href="#cb361-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb361-4"><a href="#cb361-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb361-5"><a href="#cb361-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Gowth in mass"</span>, <span class="at">x =</span> <span class="st">"Size-adjusted growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb361-6"><a href="#cb361-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb361-7"><a href="#cb361-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb361-8"><a href="#cb361-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/grWeight_v_grWeightS-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb362"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb362-1"><a href="#cb362-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> </span>
<span id="cb362-2"><a href="#cb362-2" aria-hidden="true" tabindex="-1"></a>         dplyr<span class="sc">::</span><span class="fu">select</span>(observedWeight, grWeight, grWeightS, seasonGG, speciesGG) <span class="sc">|&gt;</span> </span>
<span id="cb362-3"><a href="#cb362-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(grWeight, grWeightS)),</span>
<span id="cb362-4"><a href="#cb362-4" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb362-5"><a href="#cb362-5" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="fu">log</span>(observedWeight), value, <span class="at">color =</span> name)) <span class="sc">+</span></span>
<span id="cb362-6"><a href="#cb362-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span> )  <span class="sc">+</span></span>
<span id="cb362-7"><a href="#cb362-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb362-8"><a href="#cb362-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Log of mass (mg)"</span>, <span class="at">x =</span> <span class="st">"Growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb362-9"><a href="#cb362-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb362-10"><a href="#cb362-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb362-11"><a href="#cb362-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/grWeight_v_grWeightS-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="compare-growth-in-length-and-mass" class="level2" data-number="16.15">
<h2 data-number="16.15" class="anchored" data-anchor-id="compare-growth-in-length-and-mass"><span class="header-section-number">16.15</span> Compare growth in length and mass</h2>
<section id="growth-rate-in-length-vs-size-independent-growth-rate-in-mass" class="level3" data-number="16.15.1">
<h3 data-number="16.15.1" class="anchored" data-anchor-id="growth-rate-in-length-vs-size-independent-growth-rate-in-mass"><span class="header-section-number">16.15.1</span> Growth rate in length vs size-independent growth rate in mass</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/grLen_v_grWeightS_e562b1345ad6b7babc8ae82b15198b8c">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb363"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb363-1"><a href="#cb363-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1, <span class="fu">aes</span>(grLength, grWeightS)) <span class="sc">+</span></span>
<span id="cb363-2"><a href="#cb363-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> observedWeight), <span class="at">alpha =</span> <span class="fl">0.02</span>) <span class="sc">+</span></span>
<span id="cb363-3"><a href="#cb363-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb363-4"><a href="#cb363-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Growth in length"</span>, <span class="at">y =</span> <span class="st">"Size-adjusted growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb363-5"><a href="#cb363-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb363-6"><a href="#cb363-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb363-7"><a href="#cb363-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/grLen_v_grWeightS-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="deprecated-logistic-models-below" class="level2" data-number="16.16">
<h2 data-number="16.16" class="anchored" data-anchor-id="deprecated-logistic-models-below"><span class="header-section-number">16.16</span> <strong>Deprecated</strong> logistic models below</h2>
<section id="logistic-model-for-flow-and-temperature-all-species" class="level3" data-number="16.16.1">
<h3 data-number="16.16.1" class="anchored" data-anchor-id="logistic-model-for-flow-and-temperature-all-species"><span class="header-section-number">16.16.1</span> Logistic model for flow and temperature, all species</h3>
</section>
<section id="model-selection" class="level3" data-number="16.16.2">
<h3 data-number="16.16.2" class="anchored" data-anchor-id="model-selection"><span class="header-section-number">16.16.2</span> Model selection</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/logistic models all species_7cd0a5fad74f583211e46acad6ef3582">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb364"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb364-1"><a href="#cb364-1" aria-hidden="true" tabindex="-1"></a>modSpecies <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"bkt"</span>, <span class="st">"ats"</span>, <span class="st">"bnt"</span>)</span>
<span id="cb364-2"><a href="#cb364-2" aria-hidden="true" tabindex="-1"></a>cd1Mod <span class="ot">&lt;-</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> modSpecies)</span>
<span id="cb364-3"><a href="#cb364-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-4"><a href="#cb364-4" aria-hidden="true" tabindex="-1"></a>modFT0 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-5"><a href="#cb364-5" aria-hidden="true" tabindex="-1"></a>modFT1 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">+</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-6"><a href="#cb364-6" aria-hidden="true" tabindex="-1"></a>modFT2 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">+</span> river <span class="sc">+</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-7"><a href="#cb364-7" aria-hidden="true" tabindex="-1"></a>modFT3 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">+</span> meanTempZ <span class="sc">+</span> river <span class="sc">+</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-8"><a href="#cb364-8" aria-hidden="true" tabindex="-1"></a>modFT4 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">+</span> river , <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-9"><a href="#cb364-9" aria-hidden="true" tabindex="-1"></a>modFT5 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">+</span> river , <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-10"><a href="#cb364-10" aria-hidden="true" tabindex="-1"></a>modFT6 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">+</span> species , <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-11"><a href="#cb364-11" aria-hidden="true" tabindex="-1"></a>modFT7 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-12"><a href="#cb364-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-13"><a href="#cb364-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-14"><a href="#cb364-14" aria-hidden="true" tabindex="-1"></a>modFT8 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">+</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-15"><a href="#cb364-15" aria-hidden="true" tabindex="-1"></a>modFT9 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">*</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-16"><a href="#cb364-16" aria-hidden="true" tabindex="-1"></a>modFT10 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">+</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">*</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-17"><a href="#cb364-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-18"><a href="#cb364-18" aria-hidden="true" tabindex="-1"></a>modFT11 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">*</span> observedWeight <span class="sc">+</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-19"><a href="#cb364-19" aria-hidden="true" tabindex="-1"></a>modFT12 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">*</span> species <span class="sc">*</span> observedWeight, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb364-20"><a href="#cb364-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-21"><a href="#cb364-21" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(modFT0, modFT1,modFT2, modFT3,modFT4,modFT5, modFT6,modFT7,modFT8,modFT9,modFT10, modFT11, modFT12) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(AIC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         df        AIC
modFT8   66   5227.562
modFT1   18   6284.942
modFT0   36   6301.485
modFT2    9   6335.388
modFT3    8   6357.873
modFT6    6   6430.260
modFT4    7   6563.756
modFT5    7   6563.756
modFT7    4   6741.248
modFT12 261  89838.173
modFT11 130  92820.102
modFT9  137 109414.182
modFT10  71 124492.604</code></pre>
</div>
</div>
</section>
<section id="model-results-for-additive-model-not-very-good" class="level3" data-number="16.16.3">
<h3 data-number="16.16.3" class="anchored" data-anchor-id="model-results-for-additive-model-not-very-good"><span class="header-section-number">16.16.3</span> Model results for additive model (not very good)</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/badAdditiveModel_7d282e1032ddbaf62b5dbc3a5fd8ed2f">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb366"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb366-1"><a href="#cb366-1" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.statology.org/logistic-regression-in-r/</span></span>
<span id="cb366-2"><a href="#cb366-2" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(modFT3)</span></span>
<span id="cb366-3"><a href="#cb366-3" aria-hidden="true" tabindex="-1"></a><span class="co">#anova(modFT3)</span></span>
<span id="cb366-4"><a href="#cb366-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb366-5"><a href="#cb366-5" aria-hidden="true" tabindex="-1"></a>pscl<span class="sc">::</span><span class="fu">pR2</span>(modFT3)[<span class="st">"McFadden"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>fitting null model for pseudo-r2</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  McFadden 
0.06726277 </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb369"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb369-1"><a href="#cb369-1" aria-hidden="true" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">varImp</span>(modFT3) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(Overall))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                    Overall
speciesbnt       12.6585340
meanFlowByRiverZ 12.2576677
riverwest brook   4.5864102
speciesbkt        4.2572209
riverwb mitchell  4.1438695
riverwb obear     3.3497197
meanTempZ         0.2562374</code></pre>
</div>
</div>
</section>
<section id="model-results-for-full-interactive-model-best-model" class="level3" data-number="16.16.4">
<h3 data-number="16.16.4" class="anchored" data-anchor-id="model-results-for-full-interactive-model-best-model"><span class="header-section-number">16.16.4</span> Model results for full interactive model (best model)</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/fullModel_42705f0569700dbabff9f6332d4d3630">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb371"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb371-1"><a href="#cb371-1" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.statology.org/logistic-regression-in-r/</span></span>
<span id="cb371-2"><a href="#cb371-2" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(modFT11)</span></span>
<span id="cb371-3"><a href="#cb371-3" aria-hidden="true" tabindex="-1"></a><span class="co">#anova(modFT11)</span></span>
<span id="cb371-4"><a href="#cb371-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb371-5"><a href="#cb371-5" aria-hidden="true" tabindex="-1"></a><span class="co"># full interaction</span></span>
<span id="cb371-6"><a href="#cb371-6" aria-hidden="true" tabindex="-1"></a>pscl<span class="sc">::</span><span class="fu">pR2</span>(modFT11)[<span class="st">"McFadden"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>fitting null model for pseudo-r2</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code> McFadden 
-12.61337 </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb374"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb374-1"><a href="#cb374-1" aria-hidden="true" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">varImp</span>(modFT11) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(Overall))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                              Overall
speciesbnt                                                                 1062734471
speciesbkt                                                                  290104887
observedWeight                                                              121701702
factor(season)3:observedWeight                                              121673397
meanFlowByRiverZ:observedWeight                                             120721958
riverwest brook:observedWeight                                              120597554
riverwest brook:factor(season)3:observedWeight                              118826359
meanFlowByRiverZ:riverwest brook:observedWeight                             118561009
meanFlowByRiverZ:factor(season)3:observedWeight                             117793666
factor(season)2:observedWeight                                              115204393
meanFlowByRiverZ:riverwest brook:factor(season)3:observedWeight             114770462
riverwest brook:factor(season)2:observedWeight                              112763409
meanFlowByRiverZ:factor(season)2:observedWeight                             108818541
meanFlowByRiverZ:riverwest brook:factor(season)2:observedWeight             107236636
factor(season)4:observedWeight                                               90833626
riverwest brook:factor(season)4:observedWeight                               85813387
meanFlowByRiverZ:riverwb mitchell:factor(season)2:observedWeight             76804632
meanFlowByRiverZ:factor(season)4:observedWeight                              75011164
riverwb mitchell:factor(season)2:observedWeight                              74927810
meanFlowByRiverZ:riverwest brook:factor(season)4:observedWeight              72359155
meanFlowByRiverZ:riverwb mitchell:observedWeight                             70463657
riverwb mitchell:observedWeight                                              68589652
meanFlowByRiverZ:riverwb mitchell:factor(season)3:observedWeight             67014267
riverwb mitchell:factor(season)3:observedWeight                              65230894
meanTempZ:factor(season)4:observedWeight                                     64191266
meanTempZ:riverwest brook:factor(season)4:observedWeight                     63102612
meanTempZ:observedWeight                                                     57451124
meanTempZ:factor(season)3:observedWeight                                     56538767
meanTempZ:riverwest brook:observedWeight                                     56008860
meanTempZ:riverwest brook:factor(season)2:observedWeight                     55882978
meanTempZ:factor(season)2:observedWeight                                     55520059
meanFlowByRiverZ:riverwb obear:factor(season)2:observedWeight                53016866
meanFlowByRiverZ:riverwb obear:factor(season)2                               52925342
meanFlowByRiverZ:meanTempZ:riverwest brook:factor(season)4:observedWeight    52612283
riverwest brook                                                              52589753
meanTempZ:riverwest brook:factor(season)3:observedWeight                     52557912
meanTempZ:riverwb obear:factor(season)2                                      52109976
meanFlowByRiverZ:meanTempZ:riverwb obear:factor(season)2                     51237151
meanFlowByRiverZ:meanTempZ:factor(season)4:observedWeight                    50758977
riverwb mitchell:factor(season)4:observedWeight                              49899714
riverwest brook:factor(season)2                                              49566663
riverwb obear:factor(season)2:observedWeight                                 48575461
riverwb obear:factor(season)2                                                48547149
meanFlowByRiverZ:meanTempZ:riverwb obear:factor(season)4:observedWeight      48147137
meanFlowByRiverZ                                                             46721852
meanFlowByRiverZ:riverwb mitchell:factor(season)4:observedWeight             44917079
meanTempZ:riverwb obear:factor(season)4:observedWeight                       43958036
meanFlowByRiverZ:meanTempZ:observedWeight                                    43939613
meanFlowByRiverZ:riverwb obear:factor(season)4:observedWeight                43696764
riverwest brook:factor(season)3                                              43603188
riverwb obear:factor(season)4:observedWeight                                 43355643
meanFlowByRiverZ:riverwb obear:factor(season)3:observedWeight                43246382
riverwb obear:factor(season)4                                                42643452
meanFlowByRiverZ:riverwb obear:factor(season)4                               42587980
meanFlowByRiverZ:meanTempZ:factor(season)3:observedWeight                    42415908
meanFlowByRiverZ:riverwest brook                                             42412010
meanFlowByRiverZ:meanTempZ:riverwest brook:observedWeight                    42361609
meanFlowByRiverZ:meanTempZ:riverwest brook:factor(season)3:observedWeight    41383847
meanFlowByRiverZ:factor(season)3                                             40738421
factor(season)2                                                              39977026
riverwb mitchell                                                             39349493
meanFlowByRiverZ:meanTempZ:factor(season)2:observedWeight                    38941617
meanFlowByRiverZ:riverwb mitchell                                            38887554
meanFlowByRiverZ:factor(season)2                                             38764715
factor(season)3                                                              38160491
meanFlowByRiverZ:meanTempZ:riverwest brook:factor(season)2:observedWeight    35053623
riverwb obear:factor(season)3:observedWeight                                 34398379
meanFlowByRiverZ:riverwest brook:factor(season)3                             33762024
riverwb mitchell:factor(season)2                                             33233009
meanFlowByRiverZ:riverwb obear                                               33030373
meanFlowByRiverZ:riverwb mitchell:factor(season)3                            32472421
meanFlowByRiverZ:riverwb mitchell:factor(season)2                            32037957
meanFlowByRiverZ:riverwest brook:factor(season)2                             31927161
meanFlowByRiverZ:meanTempZ:riverwb mitchell:factor(season)2                  31388754
riverwb obear                                                                31051009
riverwb mitchell:factor(season)3                                             30450183
meanFlowByRiverZ:meanTempZ:riverwb mitchell:factor(season)3:observedWeight   30259197
meanTempZ:riverwb mitchell:factor(season)3:observedWeight                    28909235
meanFlowByRiverZ:meanTempZ                                                   27344404
meanFlowByRiverZ:riverwb obear:observedWeight                                25646211
meanTempZ:riverwb mitchell:factor(season)2                                   24328335
riverwb obear:observedWeight                                                 24230440
meanFlowByRiverZ:meanTempZ:riverwb obear                                     24227846
meanTempZ:riverwb obear                                                      23869234
meanTempZ:riverwb mitchell:observedWeight                                    23058226
meanFlowByRiverZ:meanTempZ:riverwest brook                                   22575032
meanTempZ:riverwb obear:factor(season)3                                      21976316
meanFlowByRiverZ:meanTempZ:riverwb mitchell:observedWeight                   21623981
riverwb obear:factor(season)3                                                21083300
meanTempZ:riverwb obear:factor(season)4                                      20944519
meanFlowByRiverZ:meanTempZ:factor(season)3                                   20925915
meanFlowByRiverZ:meanTempZ:riverwb obear:factor(season)3                     20867856
meanFlowByRiverZ:meanTempZ:riverwb obear:factor(season)3:observedWeight      20798072
meanFlowByRiverZ:meanTempZ:riverwb mitchell:factor(season)3                  20444579
meanTempZ:riverwb obear:factor(season)3:observedWeight                       20043925
meanFlowByRiverZ:meanTempZ:riverwb obear:factor(season)4                     19365372
meanTempZ:riverwest brook                                                    18123546
meanFlowByRiverZ:meanTempZ:factor(season)4                                   17644528
riverwb mitchell:factor(season)4                                             17630252
meanTempZ:riverwb mitchell:factor(season)3                                   16872837
meanTempZ:riverwest brook:factor(season)2                                    16386347
meanTempZ:factor(season)2                                                    14982348
meanTempZ                                                                    14505567
meanFlowByRiverZ:meanTempZ:riverwest brook:factor(season)3                   14445313
meanTempZ:riverwb obear:observedWeight                                       14411990
meanTempZ:riverwest brook:factor(season)4                                    13997947
meanTempZ:riverwest brook:factor(season)3                                    13854898
meanFlowByRiverZ:riverwb obear:factor(season)3                               13571774
meanFlowByRiverZ:meanTempZ:riverwb obear:observedWeight                      13463642
meanFlowByRiverZ:meanTempZ:riverwest brook:factor(season)4                   13394093
meanTempZ:riverwb obear:factor(season)2:observedWeight                       12905565
meanFlowByRiverZ:riverwb mitchell:factor(season)4                            11918849
meanTempZ:factor(season)3                                                    11645332
meanTempZ:riverwb mitchell:factor(season)4:observedWeight                    11246380
meanTempZ:riverwb mitchell:factor(season)2:observedWeight                    10956644
meanTempZ:factor(season)4                                                    10649726
meanFlowByRiverZ:riverwest brook:factor(season)4                             10391015
meanFlowByRiverZ:meanTempZ:factor(season)2                                   10079875
meanFlowByRiverZ:meanTempZ:riverwb obear:factor(season)2:observedWeight       9777355
meanFlowByRiverZ:meanTempZ:riverwest brook:factor(season)2                    8683792
riverwest brook:factor(season)4                                               8221508
factor(season)4                                                               7427579
meanTempZ:riverwb mitchell:factor(season)4                                    6658029
meanFlowByRiverZ:meanTempZ:riverwb mitchell:factor(season)4:observedWeight    5922389
meanFlowByRiverZ:meanTempZ:riverwb mitchell:factor(season)2:observedWeight    5755620
meanFlowByRiverZ:factor(season)4                                              4743223
meanTempZ:riverwb mitchell                                                    4676882
meanFlowByRiverZ:meanTempZ:riverwb mitchell:factor(season)4                   3073254
meanFlowByRiverZ:meanTempZ:riverwb mitchell                                    492597</code></pre>
</div>
</div>
</section>
<section id="precict-pneg-growth-in-mass" class="level3" data-number="16.16.5">
<h3 data-number="16.16.5" class="anchored" data-anchor-id="precict-pneg-growth-in-mass"><span class="header-section-number">16.16.5</span> Precict p(neg growth in mass)</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/predictFull_1331b8cf58fa25bd5bdb8be8a90dfe7b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb376"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb376-1"><a href="#cb376-1" aria-hidden="true" tabindex="-1"></a>predD <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb376-2"><a href="#cb376-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">meanFlowByRiverZ =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb376-3"><a href="#cb376-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">meanTempZ =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb376-4"><a href="#cb376-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">unique</span>(cd1<span class="sc">$</span>river), </span>
<span id="cb376-5"><a href="#cb376-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">species =</span> <span class="fu">unique</span>(cd1<span class="sc">$</span>species), </span>
<span id="cb376-6"><a href="#cb376-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">season =</span> <span class="fu">unique</span>(cd1<span class="sc">$</span>season),</span>
<span id="cb376-7"><a href="#cb376-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">observedWeight =</span> <span class="fu">seq</span>(<span class="fu">min</span>(cd1<span class="sc">$</span>observedWeight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="fu">max</span>(cd1<span class="sc">$</span>observedWeight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">40</span>)</span>
<span id="cb376-8"><a href="#cb376-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb376-9"><a href="#cb376-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb376-10"><a href="#cb376-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb376-11"><a href="#cb376-11" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">add_column</span>(predD, </span>
<span id="cb376-12"><a href="#cb376-12" aria-hidden="true" tabindex="-1"></a>                   <span class="at">pred =</span> <span class="fu">predict.glm</span>(modFT11, predD, <span class="at">type =</span> <span class="st">"response"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb376-13"><a href="#cb376-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">groupT =</span> <span class="fu">paste</span>(river, species, season, meanTempZ, <span class="at">sep =</span> <span class="st">"_"</span>),</span>
<span id="cb376-14"><a href="#cb376-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">groupF =</span> <span class="fu">paste</span>(river, species, season, meanFlowByRiverZ, <span class="at">sep =</span> <span class="st">"_"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="plot-predictions" class="level3" data-number="16.16.6">
<h3 data-number="16.16.6" class="anchored" data-anchor-id="plot-predictions"><span class="header-section-number">16.16.6</span> Plot predictions</h3>
<div class="cell" data-hash="modelGrowthInMass_cache/html/plotPred_eac2c9bdb19b80f0b826a55ff9dc7f47">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb377"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb377-1"><a href="#cb377-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pred <span class="sc">|&gt;</span> <span class="fu">filter</span>(meanTempZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>), observedWeight <span class="sc">==</span> <span class="fl">161.3</span>), <span class="fu">aes</span>(meanFlowByRiverZ, pred, <span class="at">group=</span> groupT)) <span class="sc">+</span></span>
<span id="cb377-2"><a href="#cb377-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(meanTempZ))) <span class="sc">+</span></span>
<span id="cb377-3"><a href="#cb377-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Mean flow"</span>) <span class="sc">+</span></span>
<span id="cb377-4"><a href="#cb377-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb377-5"><a href="#cb377-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>species<span class="sc">+</span>river)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="modelGrowthInMass_files/figure-html/plotPred-1.png" class="img-fluid" width="672"></p>
</div>
</div>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./modelConditionFactor.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Condition factor</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./modelsCMR_NN_OB.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">CJS [t,t] model</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb378" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb378-1"><a href="#cb378-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb378-2"><a href="#cb378-2" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> </span></span>
<span id="cb378-3"><a href="#cb378-3" aria-hidden="true" tabindex="-1"></a><span class="co">  markdown: </span></span>
<span id="cb378-4"><a href="#cb378-4" aria-hidden="true" tabindex="-1"></a><span class="co">    wrap: 72</span></span>
<span id="cb378-5"><a href="#cb378-5" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb378-6"><a href="#cb378-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-7"><a href="#cb378-7" aria-hidden="true" tabindex="-1"></a><span class="fu"># Growth in mass</span></span>
<span id="cb378-8"><a href="#cb378-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-11"><a href="#cb378-11" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-12"><a href="#cb378-12" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: dataModelFlowOptions</span></span>
<span id="cb378-13"><a href="#cb378-13" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb378-14"><a href="#cb378-14" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">message =</span> <span class="cn">FALSE</span>, <span class="at">warning =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-15"><a href="#cb378-15" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-16"><a href="#cb378-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-19"><a href="#cb378-19" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-20"><a href="#cb378-20" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: librariesModelsFlow</span></span>
<span id="cb378-21"><a href="#cb378-21" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb378-22"><a href="#cb378-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-23"><a href="#cb378-23" aria-hidden="true" tabindex="-1"></a><span class="do">######################################################</span></span>
<span id="cb378-24"><a href="#cb378-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-25"><a href="#cb378-25" aria-hidden="true" tabindex="-1"></a><span class="co"># for gams</span></span>
<span id="cb378-26"><a href="#cb378-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gratia)</span>
<span id="cb378-27"><a href="#cb378-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arm)</span>
<span id="cb378-28"><a href="#cb378-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(relaimpo)</span>
<span id="cb378-29"><a href="#cb378-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb378-30"><a href="#cb378-30" aria-hidden="true" tabindex="-1"></a><span class="co"># library(linkedModels)</span></span>
<span id="cb378-31"><a href="#cb378-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arrayhelpers)</span>
<span id="cb378-32"><a href="#cb378-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mgcv)</span>
<span id="cb378-33"><a href="#cb378-33" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################</span></span>
<span id="cb378-34"><a href="#cb378-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-35"><a href="#cb378-35" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(getWBData)</span>
<span id="cb378-36"><a href="#cb378-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb378-37"><a href="#cb378-37" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb378-38"><a href="#cb378-38" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb378-39"><a href="#cb378-39" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb378-40"><a href="#cb378-40" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(targets)</span>
<span id="cb378-41"><a href="#cb378-41" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(relaimpo)</span>
<span id="cb378-42"><a href="#cb378-42" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb378-43"><a href="#cb378-43" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pscl)</span>
<span id="cb378-44"><a href="#cb378-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-45"><a href="#cb378-45" aria-hidden="true" tabindex="-1"></a><span class="co"># for xgboost models</span></span>
<span id="cb378-46"><a href="#cb378-46" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rsample)      <span class="co"># data splitting </span></span>
<span id="cb378-47"><a href="#cb378-47" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gbm)          <span class="co"># basic implementation</span></span>
<span id="cb378-48"><a href="#cb378-48" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xgboost)      <span class="co"># a faster implementation of gbm</span></span>
<span id="cb378-49"><a href="#cb378-49" aria-hidden="true" tabindex="-1"></a><span class="co">#library(h2o)          # a java-based platform</span></span>
<span id="cb378-50"><a href="#cb378-50" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pdp)          <span class="co"># model visualization</span></span>
<span id="cb378-51"><a href="#cb378-51" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lime)</span>
<span id="cb378-52"><a href="#cb378-52" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vtreat)</span>
<span id="cb378-53"><a href="#cb378-53" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Ckmeans<span class="fl">.1</span>d.dp)</span>
<span id="cb378-54"><a href="#cb378-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-55"><a href="#cb378-55" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hstats)</span>
<span id="cb378-56"><a href="#cb378-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-57"><a href="#cb378-57" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb378-58"><a href="#cb378-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-59"><a href="#cb378-59" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">'./R/generalFunctions.R'</span>)</span>
<span id="cb378-60"><a href="#cb378-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-61"><a href="#cb378-61" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">%notin%</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">Negate</span>(<span class="st">`</span><span class="at">%in%</span><span class="st">`</span>)</span>
<span id="cb378-62"><a href="#cb378-62" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-63"><a href="#cb378-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-64"><a href="#cb378-64" aria-hidden="true" tabindex="-1"></a>Distribution of growth, negative growth\</span>
<span id="cb378-65"><a href="#cb378-65" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Seasonal differences\</span>
<span id="cb378-66"><a href="#cb378-66" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Species differences in size/growth/CF - Patterns of negative growth</span>
<span id="cb378-67"><a href="#cb378-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-68"><a href="#cb378-68" aria-hidden="true" tabindex="-1"></a>Causes of neg growth\</span>
<span id="cb378-69"><a href="#cb378-69" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Extrinsic\</span>
<span id="cb378-70"><a href="#cb378-70" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>river, season, flow, temp\</span>
<span id="cb378-71"><a href="#cb378-71" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>intrinsic\</span>
<span id="cb378-72"><a href="#cb378-72" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sex (fall), life history, section, size, age, previous growth (CF?),</span>
<span id="cb378-73"><a href="#cb378-73" aria-hidden="true" tabindex="-1"></a>movement (section/river)\</span>
<span id="cb378-74"><a href="#cb378-74" aria-hidden="true" tabindex="-1"></a>consequences of neg growth - survival\</span>
<span id="cb378-75"><a href="#cb378-75" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>future growth (length and mass)\</span>
<span id="cb378-76"><a href="#cb378-76" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>movement (section/river)\</span>
<span id="cb378-77"><a href="#cb378-77" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>reprod success?\</span>
<span id="cb378-78"><a href="#cb378-78" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>local density (con and hetero)</span>
<span id="cb378-79"><a href="#cb378-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-80"><a href="#cb378-80" aria-hidden="true" tabindex="-1"></a>Probs with growth in mass\</span>
<span id="cb378-81"><a href="#cb378-81" aria-hidden="true" tabindex="-1"></a>spawning loss mass in the fall, esp in OB</span>
<span id="cb378-82"><a href="#cb378-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-83"><a href="#cb378-83" aria-hidden="true" tabindex="-1"></a>Interaction between flow:temp, diff btw WB (groundwater dominated at low</span>
<span id="cb378-84"><a href="#cb378-84" aria-hidden="true" tabindex="-1"></a>flow so cold) and tribs (combo of surface and gw?)</span>
<span id="cb378-85"><a href="#cb378-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-86"><a href="#cb378-86" aria-hidden="true" tabindex="-1"></a>Compare growth with t/f cycle diagrams for each river</span>
<span id="cb378-87"><a href="#cb378-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-88"><a href="#cb378-88" aria-hidden="true" tabindex="-1"></a>compare condition factor among species - looks like bkt growing faster</span>
<span id="cb378-89"><a href="#cb378-89" aria-hidden="true" tabindex="-1"></a>in weight</span>
<span id="cb378-90"><a href="#cb378-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-91"><a href="#cb378-91" aria-hidden="true" tabindex="-1"></a>flow/temp circles with gr on top</span>
<span id="cb378-92"><a href="#cb378-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-93"><a href="#cb378-93" aria-hidden="true" tabindex="-1"></a><span class="fu">## Get data</span></span>
<span id="cb378-94"><a href="#cb378-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-95"><a href="#cb378-95" aria-hidden="true" tabindex="-1"></a><span class="fu">### Get electrofishing data</span></span>
<span id="cb378-96"><a href="#cb378-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-99"><a href="#cb378-99" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-100"><a href="#cb378-100" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: readInAllData</span></span>
<span id="cb378-101"><a href="#cb378-101" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: false</span></span>
<span id="cb378-102"><a href="#cb378-102" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(targets)</span>
<span id="cb378-103"><a href="#cb378-103" aria-hidden="true" tabindex="-1"></a>cd <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(cdWB_electro_target) <span class="co"># raw data</span></span>
<span id="cb378-104"><a href="#cb378-104" aria-hidden="true" tabindex="-1"></a>cd1 <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(cd1_target) <span class="co"># from modelGrowthInMass_target</span></span>
<span id="cb378-105"><a href="#cb378-105" aria-hidden="true" tabindex="-1"></a>propNegSRS <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(propNegSRS_target)</span>
<span id="cb378-106"><a href="#cb378-106" aria-hidden="true" tabindex="-1"></a>propNegSRsN <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(propNegSRsN_target)</span>
<span id="cb378-107"><a href="#cb378-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-108"><a href="#cb378-108" aria-hidden="true" tabindex="-1"></a>indCountsBySpp <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(indCountsBySpp_target) </span>
<span id="cb378-109"><a href="#cb378-109" aria-hidden="true" tabindex="-1"></a>indCounts <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(indCounts_target) </span>
<span id="cb378-110"><a href="#cb378-110" aria-hidden="true" tabindex="-1"></a>propNegLabels <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(propNegLabels_target)</span>
<span id="cb378-111"><a href="#cb378-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-112"><a href="#cb378-112" aria-hidden="true" tabindex="-1"></a>negGr_beforeLast <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(negGr_beforeLast_target)</span>
<span id="cb378-113"><a href="#cb378-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-114"><a href="#cb378-114" aria-hidden="true" tabindex="-1"></a>meanNegSRsN <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(meanNegSRsN_target)</span>
<span id="cb378-115"><a href="#cb378-115" aria-hidden="true" tabindex="-1"></a>meanNegSRsNWide <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(meanNegSRsNWide_target)</span>
<span id="cb378-116"><a href="#cb378-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-117"><a href="#cb378-117" aria-hidden="true" tabindex="-1"></a><span class="co"># df for pairs plots</span></span>
<span id="cb378-118"><a href="#cb378-118" aria-hidden="true" tabindex="-1"></a>cd1Wide_grWeight <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(cd1Wide_grWeight_target)</span>
<span id="cb378-119"><a href="#cb378-119" aria-hidden="true" tabindex="-1"></a>cd1Wide_observedWeight <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(cd1Wide_observedWeight_target)</span>
<span id="cb378-120"><a href="#cb378-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-121"><a href="#cb378-121" aria-hidden="true" tabindex="-1"></a>dGAM <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(dGAM_target) <span class="co"># from modelGrowthInMass_target</span></span>
<span id="cb378-122"><a href="#cb378-122" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-123"><a href="#cb378-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-124"><a href="#cb378-124" aria-hidden="true" tabindex="-1"></a><span class="fu">### Get environmental data</span></span>
<span id="cb378-125"><a href="#cb378-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-128"><a href="#cb378-128" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-129"><a href="#cb378-129" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: readInAllDataEnv</span></span>
<span id="cb378-130"><a href="#cb378-130" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: false</span></span>
<span id="cb378-131"><a href="#cb378-131" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(targets)</span>
<span id="cb378-132"><a href="#cb378-132" aria-hidden="true" tabindex="-1"></a>dummy<span class="ot">=</span><span class="dv">0</span> <span class="co"># change to force cache update??</span></span>
<span id="cb378-133"><a href="#cb378-133" aria-hidden="true" tabindex="-1"></a>envIn <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(envIn_target)</span>
<span id="cb378-134"><a href="#cb378-134" aria-hidden="true" tabindex="-1"></a>envIn_propNeg <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(envIn_propNeg_target)</span>
<span id="cb378-135"><a href="#cb378-135" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-136"><a href="#cb378-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-137"><a href="#cb378-137" aria-hidden="true" tabindex="-1"></a><span class="fu">## Examine raw data</span></span>
<span id="cb378-138"><a href="#cb378-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-139"><a href="#cb378-139" aria-hidden="true" tabindex="-1"></a><span class="fu">### Limit data to consecutive sample captures (cd1)</span></span>
<span id="cb378-140"><a href="#cb378-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-141"><a href="#cb378-141" aria-hidden="true" tabindex="-1"></a>Previous growth models with length used all possible observations for a</span>
<span id="cb378-142"><a href="#cb378-142" aria-hidden="true" tabindex="-1"></a>fish and interpolated missing observations. Here, we are just looking at</span>
<span id="cb378-143"><a href="#cb378-143" aria-hidden="true" tabindex="-1"></a>consecutive captures to estimate growth over just that interval.</span>
<span id="cb378-144"><a href="#cb378-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-147"><a href="#cb378-147" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-148"><a href="#cb378-148" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: consecSamples</span></span>
<span id="cb378-149"><a href="#cb378-149" aria-hidden="true" tabindex="-1"></a><span class="co"># table(as.numeric(cd$sampleNumber), as.numeric(cd$lagSampleNumber), cd$season, cd$year) |&gt; </span></span>
<span id="cb378-150"><a href="#cb378-150" aria-hidden="true" tabindex="-1"></a><span class="co">#   data.frame() |&gt; </span></span>
<span id="cb378-151"><a href="#cb378-151" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(Freq &gt; 0) |&gt; </span></span>
<span id="cb378-152"><a href="#cb378-152" aria-hidden="true" tabindex="-1"></a><span class="co">#   arrange(Var1, Var2) |&gt; </span></span>
<span id="cb378-153"><a href="#cb378-153" aria-hidden="true" tabindex="-1"></a><span class="co">#   rename(firstCapt = Var1, secondCapt = Var2, season = Var3, year = Var4) |&gt; </span></span>
<span id="cb378-154"><a href="#cb378-154" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(year == 2010)</span></span>
<span id="cb378-155"><a href="#cb378-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-156"><a href="#cb378-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-157"><a href="#cb378-157" aria-hidden="true" tabindex="-1"></a><span class="do">##### in targets</span></span>
<span id="cb378-158"><a href="#cb378-158" aria-hidden="true" tabindex="-1"></a><span class="co"># cd1 &lt;- cd |&gt; </span></span>
<span id="cb378-159"><a href="#cb378-159" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(sampleNumberDiff == 1,</span></span>
<span id="cb378-160"><a href="#cb378-160" aria-hidden="true" tabindex="-1"></a><span class="co">#          tag %notin% c('1bf20ff490', '1bf20ebe4e')) |&gt; </span></span>
<span id="cb378-161"><a href="#cb378-161" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(negGrowth = grWeight &lt; 0,</span></span>
<span id="cb378-162"><a href="#cb378-162" aria-hidden="true" tabindex="-1"></a><span class="co">#          month = month(date),</span></span>
<span id="cb378-163"><a href="#cb378-163" aria-hidden="true" tabindex="-1"></a><span class="co">#          dummy = 1) # change to force cache update</span></span>
<span id="cb378-164"><a href="#cb378-164" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-165"><a href="#cb378-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-166"><a href="#cb378-166" aria-hidden="true" tabindex="-1"></a><span class="fu">### Find outlier growth rates</span></span>
<span id="cb378-167"><a href="#cb378-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-168"><a href="#cb378-168" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Negative outlier growth</span></span>
<span id="cb378-169"><a href="#cb378-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-170"><a href="#cb378-170" aria-hidden="true" tabindex="-1"></a><span class="in">`1bf20ebe4e`</span> and <span class="in">`1bf20ff490`</span> have incorrect weights leading to very</span>
<span id="cb378-171"><a href="#cb378-171" aria-hidden="true" tabindex="-1"></a>negative growth rates.\</span>
<span id="cb378-172"><a href="#cb378-172" aria-hidden="true" tabindex="-1"></a>Exclude these tags in <span class="in">`cd1_target`</span>. The rest of the quite negative</span>
<span id="cb378-173"><a href="#cb378-173" aria-hidden="true" tabindex="-1"></a>growth fish seem plausible (remember we can't account for stomach</span>
<span id="cb378-174"><a href="#cb378-174" aria-hidden="true" tabindex="-1"></a>contents or egg loss).</span>
<span id="cb378-175"><a href="#cb378-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-178"><a href="#cb378-178" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-179"><a href="#cb378-179" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negOutlier</span></span>
<span id="cb378-180"><a href="#cb378-180" aria-hidden="true" tabindex="-1"></a>cd <span class="sc">|&gt;</span> </span>
<span id="cb378-181"><a href="#cb378-181" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(grWeightS) <span class="sc">|&gt;</span> </span>
<span id="cb378-182"><a href="#cb378-182" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(tag, species, season, sampleNumber, lagSampleNumber, observedWeight, lagObservedWeight, grWeightS)</span>
<span id="cb378-183"><a href="#cb378-183" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-184"><a href="#cb378-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-185"><a href="#cb378-185" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Positive outlier growth</span></span>
<span id="cb378-186"><a href="#cb378-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-187"><a href="#cb378-187" aria-hidden="true" tabindex="-1"></a>Lots of very fast growth mostly in the spring. No clear way to exclude</span>
<span id="cb378-188"><a href="#cb378-188" aria-hidden="true" tabindex="-1"></a>fish. <span class="in">`1c2c582218`</span> is excluded in <span class="in">`cd1_target`</span> because of very high</span>
<span id="cb378-189"><a href="#cb378-189" aria-hidden="true" tabindex="-1"></a>growth in length.</span>
<span id="cb378-190"><a href="#cb378-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-193"><a href="#cb378-193" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-194"><a href="#cb378-194" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: posOutlier</span></span>
<span id="cb378-195"><a href="#cb378-195" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-196"><a href="#cb378-196" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(grWeightS)) <span class="sc">|&gt;</span> </span>
<span id="cb378-197"><a href="#cb378-197" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(tag, species, season, sampleNumber, lagSampleNumber, observedWeight, lagObservedWeight, grWeightS) <span class="sc">|&gt;</span> </span>
<span id="cb378-198"><a href="#cb378-198" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb378-199"><a href="#cb378-199" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-200"><a href="#cb378-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-201"><a href="#cb378-201" aria-hidden="true" tabindex="-1"></a><span class="fu">### Numbers of observations for analysis</span></span>
<span id="cb378-204"><a href="#cb378-204" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-205"><a href="#cb378-205" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: rawObs</span></span>
<span id="cb378-206"><a href="#cb378-206" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-207"><a href="#cb378-207" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(cd1<span class="sc">$</span>year)</span>
<span id="cb378-208"><a href="#cb378-208" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(cd1<span class="sc">$</span>year)</span>
<span id="cb378-209"><a href="#cb378-209" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(cd1<span class="sc">$</span>species, cd1<span class="sc">$</span>year)</span>
<span id="cb378-210"><a href="#cb378-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-211"><a href="#cb378-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-212"><a href="#cb378-212" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(cd1<span class="sc">$</span>species)</span>
<span id="cb378-213"><a href="#cb378-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-214"><a href="#cb378-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-215"><a href="#cb378-215" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-216"><a href="#cb378-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-219"><a href="#cb378-219" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-220"><a href="#cb378-220" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: rawUniques</span></span>
<span id="cb378-221"><a href="#cb378-221" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-222"><a href="#cb378-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-223"><a href="#cb378-223" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(cd1<span class="sc">$</span>tag))</span>
<span id="cb378-224"><a href="#cb378-224" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-225"><a href="#cb378-225" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb378-226"><a href="#cb378-226" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">tag =</span> (<span class="fu">unique</span>(tag))) <span class="sc">|&gt;</span> </span>
<span id="cb378-227"><a href="#cb378-227" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">count =</span> <span class="fu">n</span>())</span>
<span id="cb378-228"><a href="#cb378-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-229"><a href="#cb378-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-230"><a href="#cb378-230" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-231"><a href="#cb378-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-232"><a href="#cb378-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-233"><a href="#cb378-233" aria-hidden="true" tabindex="-1"></a><span class="fu">### Raw length, weight data graphs</span></span>
<span id="cb378-234"><a href="#cb378-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-235"><a href="#cb378-235" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Distribution of growth rates</span></span>
<span id="cb378-236"><a href="#cb378-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-239"><a href="#cb378-239" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-240"><a href="#cb378-240" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: rawlengthWeight</span></span>
<span id="cb378-241"><a href="#cb378-241" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1, <span class="fu">aes</span>(grWeight, <span class="at">color =</span> speciesGG, <span class="at">linetype =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb378-242"><a href="#cb378-242" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb378-243"><a href="#cb378-243" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Growth in mass (/d)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) <span class="sc">+</span></span>
<span id="cb378-244"><a href="#cb378-244" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_color_discrete() +</span></span>
<span id="cb378-245"><a href="#cb378-245" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-246"><a href="#cb378-246" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.01</span>, <span class="fl">0.028</span>)) <span class="sc">+</span></span>
<span id="cb378-247"><a href="#cb378-247" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-248"><a href="#cb378-248" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb378-249"><a href="#cb378-249" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG)</span>
<span id="cb378-250"><a href="#cb378-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-251"><a href="#cb378-251" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1, <span class="fu">aes</span>(grLength, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb378-252"><a href="#cb378-252" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb378-253"><a href="#cb378-253" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Growth in Length (mm/d)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) <span class="sc">+</span></span>
<span id="cb378-254"><a href="#cb378-254" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-255"><a href="#cb378-255" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-256"><a href="#cb378-256" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-257"><a href="#cb378-257" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG)</span>
<span id="cb378-258"><a href="#cb378-258" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-259"><a href="#cb378-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-260"><a href="#cb378-260" aria-hidden="true" tabindex="-1"></a><span class="fu">### Length vs weight by species</span></span>
<span id="cb378-261"><a href="#cb378-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-262"><a href="#cb378-262" aria-hidden="true" tabindex="-1"></a>Very few outliers</span>
<span id="cb378-263"><a href="#cb378-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-266"><a href="#cb378-266" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-267"><a href="#cb378-267" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: len_v_weight</span></span>
<span id="cb378-268"><a href="#cb378-268" aria-hidden="true" tabindex="-1"></a>plotLenW <span class="ot">&lt;-</span> <span class="cf">function</span>(d, s){</span>
<span id="cb378-269"><a href="#cb378-269" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> s), <span class="fu">aes</span>(observedLength, observedWeight)) <span class="sc">+</span></span>
<span id="cb378-270"><a href="#cb378-270" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb378-271"><a href="#cb378-271" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb378-272"><a href="#cb378-272" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb378-273"><a href="#cb378-273" aria-hidden="true" tabindex="-1"></a>    <span class="co">#ggtitle(s) +</span></span>
<span id="cb378-274"><a href="#cb378-274" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Mass (mg)"</span>) <span class="sc">+</span></span>
<span id="cb378-275"><a href="#cb378-275" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-276"><a href="#cb378-276" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-277"><a href="#cb378-277" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(riverGG<span class="sc">~</span>year, <span class="at">scales =</span> <span class="st">'free'</span>)</span>
<span id="cb378-278"><a href="#cb378-278" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-279"><a href="#cb378-279" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-280"><a href="#cb378-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-281"><a href="#cb378-281" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-282"><a href="#cb378-282" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brook trout</span></span>
<span id="cb378-283"><a href="#cb378-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-286"><a href="#cb378-286" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-287"><a href="#cb378-287" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: len_v_weight_bkt</span></span>
<span id="cb378-288"><a href="#cb378-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-289"><a href="#cb378-289" aria-hidden="true" tabindex="-1"></a><span class="fu">plotLenW</span>(cd1, <span class="st">"bkt"</span>)</span>
<span id="cb378-290"><a href="#cb378-290" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-291"><a href="#cb378-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-292"><a href="#cb378-292" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brown trout</span></span>
<span id="cb378-293"><a href="#cb378-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-296"><a href="#cb378-296" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-297"><a href="#cb378-297" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: len_v_weight_bnt</span></span>
<span id="cb378-298"><a href="#cb378-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-299"><a href="#cb378-299" aria-hidden="true" tabindex="-1"></a><span class="fu">plotLenW</span>(cd1, <span class="st">"bnt"</span>)</span>
<span id="cb378-300"><a href="#cb378-300" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-301"><a href="#cb378-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-302"><a href="#cb378-302" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Atlantic salmon</span></span>
<span id="cb378-303"><a href="#cb378-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-306"><a href="#cb378-306" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-307"><a href="#cb378-307" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: len_v_weight_ats</span></span>
<span id="cb378-308"><a href="#cb378-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-309"><a href="#cb378-309" aria-hidden="true" tabindex="-1"></a><span class="fu">plotLenW</span>(cd1, <span class="st">"ats"</span>)</span>
<span id="cb378-310"><a href="#cb378-310" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-311"><a href="#cb378-311" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-312"><a href="#cb378-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-313"><a href="#cb378-313" aria-hidden="true" tabindex="-1"></a><span class="fu">### Weight vs weight at next sample</span></span>
<span id="cb378-314"><a href="#cb378-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-317"><a href="#cb378-317" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-318"><a href="#cb378-318" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: weight_v_weight</span></span>
<span id="cb378-319"><a href="#cb378-319" aria-hidden="true" tabindex="-1"></a>plotWW <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp){</span>
<span id="cb378-320"><a href="#cb378-320" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> spp), <span class="fu">aes</span>(observedWeight, lagObservedWeight, <span class="at">color =</span> seasonGG)) <span class="sc">+</span></span>
<span id="cb378-321"><a href="#cb378-321" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.15</span>) <span class="sc">+</span></span>
<span id="cb378-322"><a href="#cb378-322" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb378-323"><a href="#cb378-323" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Mass (mg)"</span>, <span class="at">y =</span> <span class="st">"Mass (mg) at next sample"</span>) <span class="sc">+</span></span>
<span id="cb378-324"><a href="#cb378-324" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-325"><a href="#cb378-325" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-326"><a href="#cb378-326" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>riverGG, <span class="at">scales =</span> <span class="st">'free'</span>)</span>
<span id="cb378-327"><a href="#cb378-327" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-328"><a href="#cb378-328" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-329"><a href="#cb378-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-330"><a href="#cb378-330" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-331"><a href="#cb378-331" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brook trout</span></span>
<span id="cb378-332"><a href="#cb378-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-335"><a href="#cb378-335" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-336"><a href="#cb378-336" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: weight_v_weight_bkt</span></span>
<span id="cb378-337"><a href="#cb378-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-338"><a href="#cb378-338" aria-hidden="true" tabindex="-1"></a><span class="fu">plotWW</span>(cd1, <span class="st">"bkt"</span>)</span>
<span id="cb378-339"><a href="#cb378-339" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-340"><a href="#cb378-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-341"><a href="#cb378-341" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brown trout</span></span>
<span id="cb378-342"><a href="#cb378-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-345"><a href="#cb378-345" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-346"><a href="#cb378-346" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: weight_v_weight_bnt</span></span>
<span id="cb378-347"><a href="#cb378-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-348"><a href="#cb378-348" aria-hidden="true" tabindex="-1"></a><span class="fu">plotWW</span>(cd1, <span class="st">"bnt"</span>)</span>
<span id="cb378-349"><a href="#cb378-349" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-350"><a href="#cb378-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-351"><a href="#cb378-351" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Atlantic salmon</span></span>
<span id="cb378-352"><a href="#cb378-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-355"><a href="#cb378-355" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-356"><a href="#cb378-356" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: weight_v_weight_ats</span></span>
<span id="cb378-357"><a href="#cb378-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-358"><a href="#cb378-358" aria-hidden="true" tabindex="-1"></a><span class="fu">plotWW</span>(cd1, <span class="st">"ats"</span>)</span>
<span id="cb378-359"><a href="#cb378-359" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-360"><a href="#cb378-360" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-361"><a href="#cb378-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-362"><a href="#cb378-362" aria-hidden="true" tabindex="-1"></a><span class="fu">### Growth rate pairs plots</span></span>
<span id="cb378-363"><a href="#cb378-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-364"><a href="#cb378-364" aria-hidden="true" tabindex="-1"></a>By species, all cohorts\</span>
<span id="cb378-365"><a href="#cb378-365" aria-hidden="true" tabindex="-1"></a>Row and column labels in the pairs plots are 'age'<span class="sc">\_</span>'season'</span>
<span id="cb378-366"><a href="#cb378-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-369"><a href="#cb378-369" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-370"><a href="#cb378-370" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs</span></span>
<span id="cb378-371"><a href="#cb378-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-372"><a href="#cb378-372" aria-hidden="true" tabindex="-1"></a>plotPairs <span class="ot">&lt;-</span> <span class="cf">function</span>(d0, sppIn, cohortIn, <span class="at">firstSamp =</span> <span class="dv">1</span>, <span class="at">lastSamp =</span> <span class="dv">9</span>, <span class="at">upperBlank =</span> <span class="cn">FALSE</span>){</span>
<span id="cb378-373"><a href="#cb378-373" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d0 <span class="sc">|&gt;</span> </span>
<span id="cb378-374"><a href="#cb378-374" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(speciesGG <span class="sc">==</span> sppIn, cohort <span class="sc">%in%</span> cohortIn) <span class="sc">|&gt;</span> </span>
<span id="cb378-375"><a href="#cb378-375" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select_if</span>(<span class="sc">~</span><span class="fu">any</span>(<span class="sc">!</span><span class="fu">is.na</span>(.))) <span class="sc">|&gt;</span>  <span class="co"># remove all-NA columns</span></span>
<span id="cb378-376"><a href="#cb378-376" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(firstObserved <span class="sc">!=</span> lastObserved <span class="sc">-</span> <span class="dv">1</span>) <span class="co"># remove single obs fish</span></span>
<span id="cb378-377"><a href="#cb378-377" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-378"><a href="#cb378-378" aria-hidden="true" tabindex="-1"></a>  lowerFn <span class="ot">&lt;-</span> <span class="cf">function</span>(data, mapping, <span class="at">method =</span> <span class="st">"lm"</span>, ...) {</span>
<span id="cb378-379"><a href="#cb378-379" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> data, <span class="at">mapping =</span> mapping) <span class="sc">+</span></span>
<span id="cb378-380"><a href="#cb378-380" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-381"><a href="#cb378-381" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-382"><a href="#cb378-382" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb378-383"><a href="#cb378-383" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(cohort)), <span class="at">method =</span> method, <span class="at">se =</span> <span class="cn">FALSE</span>, ...) <span class="sc">+</span></span>
<span id="cb378-384"><a href="#cb378-384" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb378-385"><a href="#cb378-385" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">'black'</span>, <span class="at">size =</span> <span class="fl">1.1</span>, <span class="at">method =</span> method, <span class="at">se =</span> <span class="cn">FALSE</span>, ...) <span class="sc">+</span></span>
<span id="cb378-386"><a href="#cb378-386" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_publication</span>() </span>
<span id="cb378-387"><a href="#cb378-387" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb378-388"><a href="#cb378-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-389"><a href="#cb378-389" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(upperBlank) {</span>
<span id="cb378-390"><a href="#cb378-390" aria-hidden="true" tabindex="-1"></a>    out <span class="ot">&lt;-</span> <span class="fu">ggpairs</span>(</span>
<span id="cb378-391"><a href="#cb378-391" aria-hidden="true" tabindex="-1"></a>      d <span class="sc">|&gt;</span> </span>
<span id="cb378-392"><a href="#cb378-392" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(speciesGG, tag, firstObserved, lastObserved)),</span>
<span id="cb378-393"><a href="#cb378-393" aria-hidden="true" tabindex="-1"></a>      <span class="at">columns =</span> (firstSamp<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(lastSamp<span class="sc">+</span><span class="dv">1</span>), <span class="co"># +1 to skip cohort column</span></span>
<span id="cb378-394"><a href="#cb378-394" aria-hidden="true" tabindex="-1"></a>      <span class="at">lower =</span> <span class="fu">list</span>(<span class="at">continuous =</span> <span class="fu">wrap</span>(lowerFn, <span class="at">method =</span> <span class="st">"lm"</span>)),</span>
<span id="cb378-395"><a href="#cb378-395" aria-hidden="true" tabindex="-1"></a>      <span class="at">upper =</span> <span class="st">"blank"</span></span>
<span id="cb378-396"><a href="#cb378-396" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb378-397"><a href="#cb378-397" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb378-398"><a href="#cb378-398" aria-hidden="true" tabindex="-1"></a>    out <span class="ot">&lt;-</span> <span class="fu">ggpairs</span>(</span>
<span id="cb378-399"><a href="#cb378-399" aria-hidden="true" tabindex="-1"></a>      d <span class="sc">|&gt;</span> </span>
<span id="cb378-400"><a href="#cb378-400" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(speciesGG, tag, firstObserved, lastObserved)),</span>
<span id="cb378-401"><a href="#cb378-401" aria-hidden="true" tabindex="-1"></a>      <span class="at">columns =</span> (firstSamp<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(lastSamp<span class="sc">+</span><span class="dv">1</span>), <span class="co"># +1 to skip cohort column</span></span>
<span id="cb378-402"><a href="#cb378-402" aria-hidden="true" tabindex="-1"></a>      <span class="at">lower =</span> <span class="fu">list</span>(<span class="at">continuous =</span> <span class="fu">wrap</span>(lowerFn, <span class="at">method =</span> <span class="st">"lm"</span>))</span>
<span id="cb378-403"><a href="#cb378-403" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb378-404"><a href="#cb378-404" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb378-405"><a href="#cb378-405" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(out)</span>
<span id="cb378-406"><a href="#cb378-406" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-407"><a href="#cb378-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-408"><a href="#cb378-408" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-409"><a href="#cb378-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-410"><a href="#cb378-410" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-411"><a href="#cb378-411" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brook trout</span></span>
<span id="cb378-412"><a href="#cb378-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-415"><a href="#cb378-415" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-416"><a href="#cb378-416" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt</span></span>
<span id="cb378-417"><a href="#cb378-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-418"><a href="#cb378-418" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2000</span><span class="sc">:</span><span class="dv">2015</span>, <span class="dv">1</span>, <span class="dv">9</span>)</span>
<span id="cb378-419"><a href="#cb378-419" aria-hidden="true" tabindex="-1"></a><span class="co">#plotPairs(cd1Wide_observedWeight, "Brook trout", 2000:2015)</span></span>
<span id="cb378-420"><a href="#cb378-420" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-421"><a href="#cb378-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-422"><a href="#cb378-422" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brown trout</span></span>
<span id="cb378-423"><a href="#cb378-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-426"><a href="#cb378-426" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-427"><a href="#cb378-427" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bnt</span></span>
<span id="cb378-428"><a href="#cb378-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-429"><a href="#cb378-429" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brown trout"</span>, <span class="dv">2000</span><span class="sc">:</span><span class="dv">2015</span>, <span class="dv">1</span>, <span class="dv">9</span>)</span>
<span id="cb378-430"><a href="#cb378-430" aria-hidden="true" tabindex="-1"></a><span class="co">#plotPairs(cd1Wide_observedWeight, "Brook trout", 2000:2015)</span></span>
<span id="cb378-431"><a href="#cb378-431" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-432"><a href="#cb378-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-433"><a href="#cb378-433" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Atlantic salmon</span></span>
<span id="cb378-434"><a href="#cb378-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-437"><a href="#cb378-437" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-438"><a href="#cb378-438" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_ats</span></span>
<span id="cb378-439"><a href="#cb378-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-440"><a href="#cb378-440" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span><span class="sc">:</span><span class="dv">2015</span>, <span class="dv">1</span>, <span class="dv">8</span>) <span class="co"># missing data in column 9</span></span>
<span id="cb378-441"><a href="#cb378-441" aria-hidden="true" tabindex="-1"></a><span class="co">#plotPairs(cd1Wide_observedWeight, "Atlantic salmon", 2000:2015)</span></span>
<span id="cb378-442"><a href="#cb378-442" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-443"><a href="#cb378-443" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-444"><a href="#cb378-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-445"><a href="#cb378-445" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brook trout by cohort</span></span>
<span id="cb378-446"><a href="#cb378-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-447"><a href="#cb378-447" aria-hidden="true" tabindex="-1"></a>Row and column labels are 'age'<span class="sc">\_</span>'season'\</span>
<span id="cb378-448"><a href="#cb378-448" aria-hidden="true" tabindex="-1"></a>Color by river - make new function</span>
<span id="cb378-449"><a href="#cb378-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-450"><a href="#cb378-450" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-451"><a href="#cb378-451" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2000</span></span>
<span id="cb378-452"><a href="#cb378-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-455"><a href="#cb378-455" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-456"><a href="#cb378-456" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2000</span></span>
<span id="cb378-457"><a href="#cb378-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-458"><a href="#cb378-458" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">1</span>, <span class="dv">8</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-459"><a href="#cb378-459" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-460"><a href="#cb378-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-461"><a href="#cb378-461" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2001</span></span>
<span id="cb378-462"><a href="#cb378-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-465"><a href="#cb378-465" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-466"><a href="#cb378-466" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2001</span></span>
<span id="cb378-467"><a href="#cb378-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-468"><a href="#cb378-468" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2001</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-469"><a href="#cb378-469" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-470"><a href="#cb378-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-471"><a href="#cb378-471" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2002</span></span>
<span id="cb378-472"><a href="#cb378-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-475"><a href="#cb378-475" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-476"><a href="#cb378-476" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2002</span></span>
<span id="cb378-477"><a href="#cb378-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-478"><a href="#cb378-478" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2002</span>, <span class="dv">1</span>, <span class="dv">9</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-479"><a href="#cb378-479" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-480"><a href="#cb378-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-481"><a href="#cb378-481" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2003</span></span>
<span id="cb378-482"><a href="#cb378-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-485"><a href="#cb378-485" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-486"><a href="#cb378-486" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2003</span></span>
<span id="cb378-487"><a href="#cb378-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-488"><a href="#cb378-488" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2003</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-489"><a href="#cb378-489" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-490"><a href="#cb378-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-491"><a href="#cb378-491" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2004</span></span>
<span id="cb378-492"><a href="#cb378-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-495"><a href="#cb378-495" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-496"><a href="#cb378-496" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2004</span></span>
<span id="cb378-497"><a href="#cb378-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-498"><a href="#cb378-498" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2004</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-499"><a href="#cb378-499" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-500"><a href="#cb378-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-501"><a href="#cb378-501" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2005</span></span>
<span id="cb378-502"><a href="#cb378-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-505"><a href="#cb378-505" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-506"><a href="#cb378-506" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2005</span></span>
<span id="cb378-507"><a href="#cb378-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-508"><a href="#cb378-508" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2005</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-509"><a href="#cb378-509" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-510"><a href="#cb378-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-511"><a href="#cb378-511" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2006</span></span>
<span id="cb378-512"><a href="#cb378-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-515"><a href="#cb378-515" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-516"><a href="#cb378-516" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2006</span></span>
<span id="cb378-517"><a href="#cb378-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-518"><a href="#cb378-518" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2006</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-519"><a href="#cb378-519" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-520"><a href="#cb378-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-521"><a href="#cb378-521" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2007</span></span>
<span id="cb378-522"><a href="#cb378-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-525"><a href="#cb378-525" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-526"><a href="#cb378-526" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2007</span></span>
<span id="cb378-527"><a href="#cb378-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-528"><a href="#cb378-528" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2007</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-529"><a href="#cb378-529" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-530"><a href="#cb378-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-531"><a href="#cb378-531" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2008</span></span>
<span id="cb378-532"><a href="#cb378-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-535"><a href="#cb378-535" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-536"><a href="#cb378-536" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2008</span></span>
<span id="cb378-537"><a href="#cb378-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-538"><a href="#cb378-538" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2008</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-539"><a href="#cb378-539" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-540"><a href="#cb378-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-541"><a href="#cb378-541" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2009</span></span>
<span id="cb378-542"><a href="#cb378-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-545"><a href="#cb378-545" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-546"><a href="#cb378-546" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2009</span></span>
<span id="cb378-547"><a href="#cb378-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-548"><a href="#cb378-548" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2009</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-549"><a href="#cb378-549" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-550"><a href="#cb378-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-551"><a href="#cb378-551" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2010</span></span>
<span id="cb378-552"><a href="#cb378-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-555"><a href="#cb378-555" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-556"><a href="#cb378-556" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2010</span></span>
<span id="cb378-557"><a href="#cb378-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-558"><a href="#cb378-558" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2010</span>, <span class="dv">1</span>, <span class="dv">8</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-559"><a href="#cb378-559" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-560"><a href="#cb378-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-561"><a href="#cb378-561" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2011</span></span>
<span id="cb378-562"><a href="#cb378-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-565"><a href="#cb378-565" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-566"><a href="#cb378-566" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2011</span></span>
<span id="cb378-567"><a href="#cb378-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-568"><a href="#cb378-568" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2011</span>, <span class="dv">1</span>, <span class="dv">7</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-569"><a href="#cb378-569" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-570"><a href="#cb378-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-571"><a href="#cb378-571" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2012</span></span>
<span id="cb378-572"><a href="#cb378-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-575"><a href="#cb378-575" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-576"><a href="#cb378-576" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2012</span></span>
<span id="cb378-577"><a href="#cb378-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-578"><a href="#cb378-578" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2012</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-579"><a href="#cb378-579" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-580"><a href="#cb378-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-581"><a href="#cb378-581" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2013</span></span>
<span id="cb378-582"><a href="#cb378-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-585"><a href="#cb378-585" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-586"><a href="#cb378-586" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2013</span></span>
<span id="cb378-587"><a href="#cb378-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-588"><a href="#cb378-588" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2013</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-589"><a href="#cb378-589" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-590"><a href="#cb378-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-591"><a href="#cb378-591" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2014</span></span>
<span id="cb378-592"><a href="#cb378-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-595"><a href="#cb378-595" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-596"><a href="#cb378-596" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairs_bkt2014</span></span>
<span id="cb378-597"><a href="#cb378-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-598"><a href="#cb378-598" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPairs</span>(cd1Wide_grWeight, <span class="st">"Brook trout"</span>, <span class="dv">2014</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="at">upperBlank =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-599"><a href="#cb378-599" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-600"><a href="#cb378-600" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-601"><a href="#cb378-601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-602"><a href="#cb378-602" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Consecutive season growth comparisons by age_season</span></span>
<span id="cb378-603"><a href="#cb378-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-604"><a href="#cb378-604" aria-hidden="true" tabindex="-1"></a>Brook trout</span>
<span id="cb378-605"><a href="#cb378-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-608"><a href="#cb378-608" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-609"><a href="#cb378-609" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pairsByAgeSeason</span></span>
<span id="cb378-610"><a href="#cb378-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-611"><a href="#cb378-611" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1Wide_grWeight <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2014</span>, <span class="st">`</span><span class="at">0_4</span><span class="st">`</span> <span class="sc">&lt;</span> <span class="fl">0.01</span>), <span class="fu">aes</span>(<span class="st">`</span><span class="at">0_3</span><span class="st">`</span>, <span class="st">`</span><span class="at">0_4</span><span class="st">`</span>, <span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb378-612"><a href="#cb378-612" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb378-613"><a href="#cb378-613" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-614"><a href="#cb378-614" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-615"><a href="#cb378-615" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_abline(intercept = 0, slope = 1) +</span></span>
<span id="cb378-616"><a href="#cb378-616" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'#45454d'</span>) <span class="sc">+</span></span>
<span id="cb378-617"><a href="#cb378-617" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-618"><a href="#cb378-618" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-619"><a href="#cb378-619" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span>
<span id="cb378-620"><a href="#cb378-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-621"><a href="#cb378-621" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1Wide_grWeight <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2014</span>), <span class="fu">aes</span>(<span class="st">`</span><span class="at">0_4</span><span class="st">`</span>, <span class="st">`</span><span class="at">1_1</span><span class="st">`</span>, <span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb378-622"><a href="#cb378-622" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb378-623"><a href="#cb378-623" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-624"><a href="#cb378-624" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-625"><a href="#cb378-625" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_abline(intercept = 0, slope = 1) +</span></span>
<span id="cb378-626"><a href="#cb378-626" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'#45454d'</span>) <span class="sc">+</span></span>
<span id="cb378-627"><a href="#cb378-627" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-628"><a href="#cb378-628" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-629"><a href="#cb378-629" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span>
<span id="cb378-630"><a href="#cb378-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-631"><a href="#cb378-631" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1Wide_grWeight <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2014</span>), <span class="fu">aes</span>(<span class="st">`</span><span class="at">1_1</span><span class="st">`</span>, <span class="st">`</span><span class="at">1_2</span><span class="st">`</span>, <span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb378-632"><a href="#cb378-632" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb378-633"><a href="#cb378-633" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-634"><a href="#cb378-634" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-635"><a href="#cb378-635" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_abline(intercept = 0, slope = 1) +</span></span>
<span id="cb378-636"><a href="#cb378-636" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-637"><a href="#cb378-637" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-638"><a href="#cb378-638" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-639"><a href="#cb378-639" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span>
<span id="cb378-640"><a href="#cb378-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-641"><a href="#cb378-641" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1Wide_grWeight <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2014</span>), <span class="fu">aes</span>(<span class="st">`</span><span class="at">1_2</span><span class="st">`</span>, <span class="st">`</span><span class="at">1_3</span><span class="st">`</span>, <span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb378-642"><a href="#cb378-642" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb378-643"><a href="#cb378-643" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-644"><a href="#cb378-644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-645"><a href="#cb378-645" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_abline(intercept = 0, slope = 1) +</span></span>
<span id="cb378-646"><a href="#cb378-646" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'#45454d'</span>) <span class="sc">+</span></span>
<span id="cb378-647"><a href="#cb378-647" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-648"><a href="#cb378-648" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-649"><a href="#cb378-649" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span>
<span id="cb378-650"><a href="#cb378-650" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb378-651"><a href="#cb378-651" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1Wide_grWeight <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2012</span>), <span class="fu">aes</span>(<span class="st">`</span><span class="at">1_1</span><span class="st">`</span>, <span class="st">`</span><span class="at">2_1</span><span class="st">`</span>, <span class="at">color =</span> <span class="fu">factor</span>(cohort))) <span class="sc">+</span></span>
<span id="cb378-652"><a href="#cb378-652" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb378-653"><a href="#cb378-653" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-654"><a href="#cb378-654" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-655"><a href="#cb378-655" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb378-656"><a href="#cb378-656" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'#45454d'</span>) <span class="sc">+</span></span>
<span id="cb378-657"><a href="#cb378-657" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-658"><a href="#cb378-658" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-659"><a href="#cb378-659" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span>
<span id="cb378-660"><a href="#cb378-660" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb378-661"><a href="#cb378-661" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-662"><a href="#cb378-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-663"><a href="#cb378-663" aria-hidden="true" tabindex="-1"></a><span class="fu">### Growth rate in length vs growth rate in mass</span></span>
<span id="cb378-664"><a href="#cb378-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-667"><a href="#cb378-667" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-668"><a href="#cb378-668" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: grLen_v_grWeight</span></span>
<span id="cb378-669"><a href="#cb378-669" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1, <span class="fu">aes</span>(grLength, grWeight)) <span class="sc">+</span></span>
<span id="cb378-670"><a href="#cb378-670" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> observedWeight), <span class="at">alpha =</span> <span class="fl">0.02</span>) <span class="sc">+</span></span>
<span id="cb378-671"><a href="#cb378-671" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb378-672"><a href="#cb378-672" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Growth in length"</span>, <span class="at">y =</span> <span class="st">"Growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-673"><a href="#cb378-673" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-674"><a href="#cb378-674" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-675"><a href="#cb378-675" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-676"><a href="#cb378-676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-677"><a href="#cb378-677" aria-hidden="true" tabindex="-1"></a>plotGrLenMass <span class="ot">&lt;-</span> <span class="cf">function</span>(d, s){</span>
<span id="cb378-678"><a href="#cb378-678" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(species<span class="sc">==</span>s), <span class="fu">aes</span>(grLength, grWeight, <span class="at">color =</span> <span class="fu">factor</span>(year))) <span class="sc">+</span></span>
<span id="cb378-679"><a href="#cb378-679" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb378-680"><a href="#cb378-680" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>, <span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-681"><a href="#cb378-681" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb378-682"><a href="#cb378-682" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Growth in length"</span>, <span class="at">y =</span> <span class="st">"Growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-683"><a href="#cb378-683" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-684"><a href="#cb378-684" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>(<span class="at">legendPosition =</span> <span class="st">"right"</span>, <span class="at">legendDirection =</span> <span class="st">"vertical"</span>) <span class="sc">+</span></span>
<span id="cb378-685"><a href="#cb378-685" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">'free'</span>)  </span>
<span id="cb378-686"><a href="#cb378-686" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-687"><a href="#cb378-687" aria-hidden="true" tabindex="-1"></a><span class="co">#  facet_wrap(~year)</span></span>
<span id="cb378-688"><a href="#cb378-688" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-689"><a href="#cb378-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-690"><a href="#cb378-690" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-691"><a href="#cb378-691" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brook trout</span></span>
<span id="cb378-692"><a href="#cb378-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-695"><a href="#cb378-695" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-696"><a href="#cb378-696" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: grLen_v_grWeight_bkt</span></span>
<span id="cb378-697"><a href="#cb378-697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-698"><a href="#cb378-698" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrLenMass</span>(cd1, <span class="st">"bkt"</span>)</span>
<span id="cb378-699"><a href="#cb378-699" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-700"><a href="#cb378-700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-701"><a href="#cb378-701" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brown trout</span></span>
<span id="cb378-702"><a href="#cb378-702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-705"><a href="#cb378-705" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-706"><a href="#cb378-706" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: grLen_v_grWeight_bnt</span></span>
<span id="cb378-707"><a href="#cb378-707" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-708"><a href="#cb378-708" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrLenMass</span>(cd1, <span class="st">"bnt"</span>)</span>
<span id="cb378-709"><a href="#cb378-709" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-710"><a href="#cb378-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-711"><a href="#cb378-711" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Atlantic salmon</span></span>
<span id="cb378-712"><a href="#cb378-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-715"><a href="#cb378-715" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-716"><a href="#cb378-716" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: grLen_v_grWeight_ats</span></span>
<span id="cb378-717"><a href="#cb378-717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-718"><a href="#cb378-718" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrLenMass</span>(cd1, <span class="st">"ats"</span>)</span>
<span id="cb378-719"><a href="#cb378-719" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-720"><a href="#cb378-720" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-721"><a href="#cb378-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-722"><a href="#cb378-722" aria-hidden="true" tabindex="-1"></a>No relationship between means of neg and pos growth</span>
<span id="cb378-723"><a href="#cb378-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-726"><a href="#cb378-726" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-727"><a href="#cb378-727" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: posNegGR</span></span>
<span id="cb378-728"><a href="#cb378-728" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-729"><a href="#cb378-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-730"><a href="#cb378-730" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(meanNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>), <span class="fu">aes</span>(year, meanNegPos, <span class="at">color =</span> negGrowth, <span class="at">group =</span> negGrowth)) <span class="sc">+</span></span>
<span id="cb378-731"><a href="#cb378-731" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb378-732"><a href="#cb378-732" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb378-733"><a href="#cb378-733" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-734"><a href="#cb378-734" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-735"><a href="#cb378-735" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG)</span>
<span id="cb378-736"><a href="#cb378-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-737"><a href="#cb378-737" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(meanNegSRsNWide, <span class="fu">aes</span>(<span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>, <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb378-738"><a href="#cb378-738" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb378-739"><a href="#cb378-739" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-740"><a href="#cb378-740" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-741"><a href="#cb378-741" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG)</span>
<span id="cb378-742"><a href="#cb378-742" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-743"><a href="#cb378-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-744"><a href="#cb378-744" aria-hidden="true" tabindex="-1"></a><span class="fu">## Body size effect on prop neg growth</span></span>
<span id="cb378-747"><a href="#cb378-747" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-748"><a href="#cb378-748" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: propNegSize</span></span>
<span id="cb378-749"><a href="#cb378-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-750"><a href="#cb378-750" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">"bkt"</span>, seasonGG <span class="sc">!=</span> <span class="st">"Spring"</span>), <span class="fu">aes</span>(observedWeight, negGrowth<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb378-751"><a href="#cb378-751" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb378-752"><a href="#cb378-752" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb378-753"><a href="#cb378-753" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb378-754"><a href="#cb378-754" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb378-755"><a href="#cb378-755" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-756"><a href="#cb378-756" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG)</span>
<span id="cb378-757"><a href="#cb378-757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-758"><a href="#cb378-758" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>), <span class="fu">aes</span>(observedWeight, negGrowth<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb378-759"><a href="#cb378-759" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb378-760"><a href="#cb378-760" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb378-761"><a href="#cb378-761" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb378-762"><a href="#cb378-762" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb378-763"><a href="#cb378-763" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-764"><a href="#cb378-764" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-765"><a href="#cb378-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-766"><a href="#cb378-766" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>, speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>, year <span class="sc">&gt;</span> <span class="dv">2001</span>), <span class="fu">aes</span>(observedWeight, negGrowth<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb378-767"><a href="#cb378-767" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb378-768"><a href="#cb378-768" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb378-769"><a href="#cb378-769" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-770"><a href="#cb378-770" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-771"><a href="#cb378-771" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-772"><a href="#cb378-772" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)<span class="co">#, scales = "free")</span></span>
<span id="cb378-773"><a href="#cb378-773" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-774"><a href="#cb378-774" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>, speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>, year <span class="sc">&gt;</span> <span class="dv">2001</span>), <span class="fu">aes</span>(observedWeight, grWeight<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb378-775"><a href="#cb378-775" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb378-776"><a href="#cb378-776" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb378-777"><a href="#cb378-777" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-778"><a href="#cb378-778" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-779"><a href="#cb378-779" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-780"><a href="#cb378-780" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)<span class="co">#, scales = "free")</span></span>
<span id="cb378-781"><a href="#cb378-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-782"><a href="#cb378-782" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>, speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>, year <span class="sc">&gt;</span> <span class="dv">2001</span>), <span class="fu">aes</span>(ageInSamples, grWeight<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb378-783"><a href="#cb378-783" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb378-784"><a href="#cb378-784" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb378-785"><a href="#cb378-785" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-786"><a href="#cb378-786" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-787"><a href="#cb378-787" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-788"><a href="#cb378-788" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)<span class="co">#, scales = "free")</span></span>
<span id="cb378-789"><a href="#cb378-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-790"><a href="#cb378-790" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>, speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>, year <span class="sc">&gt;</span> <span class="dv">2001</span>, ageInSamples <span class="sc">&gt;</span> <span class="dv">0</span>), <span class="fu">aes</span>(ageInSamples, negGrowth<span class="sc">*</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb378-791"><a href="#cb378-791" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.1, ) +</span></span>
<span id="cb378-792"><a href="#cb378-792" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.0</span>, <span class="at">height =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb378-793"><a href="#cb378-793" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-794"><a href="#cb378-794" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-795"><a href="#cb378-795" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-796"><a href="#cb378-796" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)<span class="co">#, scales = "free")</span></span>
<span id="cb378-797"><a href="#cb378-797" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-798"><a href="#cb378-798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-799"><a href="#cb378-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-800"><a href="#cb378-800" aria-hidden="true" tabindex="-1"></a><span class="fu">## Flow and temperature growth relationships</span></span>
<span id="cb378-801"><a href="#cb378-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-802"><a href="#cb378-802" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mean flow effect on growth?</span></span>
<span id="cb378-803"><a href="#cb378-803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-806"><a href="#cb378-806" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-807"><a href="#cb378-807" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_weight</span></span>
<span id="cb378-808"><a href="#cb378-808" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-809"><a href="#cb378-809" aria-hidden="true" tabindex="-1"></a>plotFlowGR <span class="ot">&lt;-</span> <span class="cf">function</span>(d, r){</span>
<span id="cb378-810"><a href="#cb378-810" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(river <span class="sc">==</span> r), <span class="fu">aes</span>(meanFlowByRiver, grWeight, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb378-811"><a href="#cb378-811" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>)  <span class="sc">+</span></span>
<span id="cb378-812"><a href="#cb378-812" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-813"><a href="#cb378-813" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-814"><a href="#cb378-814" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span><span class="cn">FALSE</span>, <span class="at">formula =</span> y<span class="sc">~</span><span class="fu">poly</span>(x,<span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb378-815"><a href="#cb378-815" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Mean flow"</span>, <span class="at">y =</span> <span class="st">"Growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-816"><a href="#cb378-816" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-817"><a href="#cb378-817" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle(r) +</span></span>
<span id="cb378-818"><a href="#cb378-818" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-819"><a href="#cb378-819" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)<span class="co">#, scales = 'free')</span></span>
<span id="cb378-820"><a href="#cb378-820" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-821"><a href="#cb378-821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-822"><a href="#cb378-822" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-823"><a href="#cb378-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-824"><a href="#cb378-824" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-825"><a href="#cb378-825" aria-hidden="true" tabindex="-1"></a><span class="fu">#### West Brook</span></span>
<span id="cb378-826"><a href="#cb378-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-829"><a href="#cb378-829" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-830"><a href="#cb378-830" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_weight_wb</span></span>
<span id="cb378-831"><a href="#cb378-831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-832"><a href="#cb378-832" aria-hidden="true" tabindex="-1"></a><span class="fu">plotFlowGR</span>(cd1, <span class="st">"west brook"</span>)</span>
<span id="cb378-833"><a href="#cb378-833" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-834"><a href="#cb378-834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-835"><a href="#cb378-835" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Open Large</span></span>
<span id="cb378-836"><a href="#cb378-836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-839"><a href="#cb378-839" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-840"><a href="#cb378-840" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_weight_ol</span></span>
<span id="cb378-841"><a href="#cb378-841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-842"><a href="#cb378-842" aria-hidden="true" tabindex="-1"></a><span class="fu">plotFlowGR</span>(cd1, <span class="st">"wb jimmy"</span>)</span>
<span id="cb378-843"><a href="#cb378-843" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-844"><a href="#cb378-844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-845"><a href="#cb378-845" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Open Small</span></span>
<span id="cb378-846"><a href="#cb378-846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-849"><a href="#cb378-849" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-850"><a href="#cb378-850" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_weight_os</span></span>
<span id="cb378-851"><a href="#cb378-851" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-852"><a href="#cb378-852" aria-hidden="true" tabindex="-1"></a><span class="fu">plotFlowGR</span>(cd1, <span class="st">"wb mitchell"</span>)</span>
<span id="cb378-853"><a href="#cb378-853" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-854"><a href="#cb378-854" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-855"><a href="#cb378-855" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Isolated small</span></span>
<span id="cb378-856"><a href="#cb378-856" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-859"><a href="#cb378-859" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-860"><a href="#cb378-860" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_weight_is</span></span>
<span id="cb378-861"><a href="#cb378-861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-862"><a href="#cb378-862" aria-hidden="true" tabindex="-1"></a><span class="fu">plotFlowGR</span>(cd1, <span class="st">"wb obear"</span>)</span>
<span id="cb378-863"><a href="#cb378-863" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-864"><a href="#cb378-864" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-865"><a href="#cb378-865" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-866"><a href="#cb378-866" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mean temperature effect on growth?</span></span>
<span id="cb378-867"><a href="#cb378-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-868"><a href="#cb378-868" aria-hidden="true" tabindex="-1"></a>Maybe in Jimmy for bnt, or for ats</span>
<span id="cb378-869"><a href="#cb378-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-872"><a href="#cb378-872" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-873"><a href="#cb378-873" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: temp_grWeight</span></span>
<span id="cb378-874"><a href="#cb378-874" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-875"><a href="#cb378-875" aria-hidden="true" tabindex="-1"></a>plotTempGR <span class="ot">&lt;-</span> <span class="cf">function</span>(d, s){</span>
<span id="cb378-876"><a href="#cb378-876" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(seasonGG <span class="sc">==</span> s), <span class="fu">aes</span>(meanTemperature, grWeight, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb378-877"><a href="#cb378-877" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)  <span class="sc">+</span></span>
<span id="cb378-878"><a href="#cb378-878" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-879"><a href="#cb378-879" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-880"><a href="#cb378-880" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span><span class="cn">FALSE</span>, <span class="at">formula =</span> y<span class="sc">~</span><span class="fu">poly</span>(x,<span class="dv">2</span>), <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-881"><a href="#cb378-881" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Mean temperature (c)"</span>, <span class="at">y =</span> <span class="st">"Growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-882"><a href="#cb378-882" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-883"><a href="#cb378-883" aria-hidden="true" tabindex="-1"></a>   <span class="co"># ggtitle(s) +</span></span>
<span id="cb378-884"><a href="#cb378-884" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-885"><a href="#cb378-885" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>riverGG)<span class="co">#, scales = 'free')</span></span>
<span id="cb378-886"><a href="#cb378-886" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-887"><a href="#cb378-887" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-888"><a href="#cb378-888" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-889"><a href="#cb378-889" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-890"><a href="#cb378-890" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-891"><a href="#cb378-891" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Spring</span></span>
<span id="cb378-892"><a href="#cb378-892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-895"><a href="#cb378-895" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-896"><a href="#cb378-896" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: temp_grWeight_spring</span></span>
<span id="cb378-897"><a href="#cb378-897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-898"><a href="#cb378-898" aria-hidden="true" tabindex="-1"></a><span class="fu">plotTempGR</span>(cd1, <span class="st">"Spring"</span>)</span>
<span id="cb378-899"><a href="#cb378-899" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-900"><a href="#cb378-900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-901"><a href="#cb378-901" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Summer</span></span>
<span id="cb378-902"><a href="#cb378-902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-905"><a href="#cb378-905" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-906"><a href="#cb378-906" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: temp_grWeight_summer</span></span>
<span id="cb378-907"><a href="#cb378-907" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-908"><a href="#cb378-908" aria-hidden="true" tabindex="-1"></a><span class="fu">plotTempGR</span>(cd1, <span class="st">"Summer"</span>)</span>
<span id="cb378-909"><a href="#cb378-909" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-910"><a href="#cb378-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-911"><a href="#cb378-911" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Autumn</span></span>
<span id="cb378-912"><a href="#cb378-912" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-915"><a href="#cb378-915" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-916"><a href="#cb378-916" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: temp_grWeight_autumn</span></span>
<span id="cb378-917"><a href="#cb378-917" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-918"><a href="#cb378-918" aria-hidden="true" tabindex="-1"></a><span class="fu">plotTempGR</span>(cd1, <span class="st">"Autumn"</span>)</span>
<span id="cb378-919"><a href="#cb378-919" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-920"><a href="#cb378-920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-921"><a href="#cb378-921" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Winter</span></span>
<span id="cb378-922"><a href="#cb378-922" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-925"><a href="#cb378-925" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-926"><a href="#cb378-926" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: temp_grWeight_winter</span></span>
<span id="cb378-927"><a href="#cb378-927" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-928"><a href="#cb378-928" aria-hidden="true" tabindex="-1"></a><span class="fu">plotTempGR</span>(cd1, <span class="st">"Winter"</span>)</span>
<span id="cb378-929"><a href="#cb378-929" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-930"><a href="#cb378-930" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-931"><a href="#cb378-931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-932"><a href="#cb378-932" aria-hidden="true" tabindex="-1"></a><span class="fu">## Proportion of fish with **negative growth**  </span></span>
<span id="cb378-933"><a href="#cb378-933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-934"><a href="#cb378-934" aria-hidden="true" tabindex="-1"></a>Counts/proportions of negative growth  </span>
<span id="cb378-935"><a href="#cb378-935" aria-hidden="true" tabindex="-1"></a>Proportions for Table 1</span>
<span id="cb378-938"><a href="#cb378-938" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-939"><a href="#cb378-939" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: neg_posCounts</span></span>
<span id="cb378-940"><a href="#cb378-940" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-941"><a href="#cb378-941" aria-hidden="true" tabindex="-1"></a><span class="co"># All</span></span>
<span id="cb378-942"><a href="#cb378-942" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-943"><a href="#cb378-943" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)) <span class="sc">|&gt;</span> </span>
<span id="cb378-944"><a href="#cb378-944" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nTotal =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-945"><a href="#cb378-945" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nTotal, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-946"><a href="#cb378-946" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-947"><a href="#cb378-947" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> n<span class="sc">/</span>nTotal)</span>
<span id="cb378-948"><a href="#cb378-948" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-949"><a href="#cb378-949" aria-hidden="true" tabindex="-1"></a><span class="co">#by river</span></span>
<span id="cb378-950"><a href="#cb378-950" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-951"><a href="#cb378-951" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)) <span class="sc">|&gt;</span> </span>
<span id="cb378-952"><a href="#cb378-952" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-953"><a href="#cb378-953" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-954"><a href="#cb378-954" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-955"><a href="#cb378-955" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-956"><a href="#cb378-956" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-957"><a href="#cb378-957" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-958"><a href="#cb378-958" aria-hidden="true" tabindex="-1"></a><span class="co">#by species</span></span>
<span id="cb378-959"><a href="#cb378-959" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-960"><a href="#cb378-960" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)) <span class="sc">|&gt;</span> </span>
<span id="cb378-961"><a href="#cb378-961" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-962"><a href="#cb378-962" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-963"><a href="#cb378-963" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-964"><a href="#cb378-964" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-965"><a href="#cb378-965" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-966"><a href="#cb378-966" aria-hidden="true" tabindex="-1"></a><span class="co"># by season</span></span>
<span id="cb378-967"><a href="#cb378-967" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-968"><a href="#cb378-968" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)) <span class="sc">|&gt;</span> </span>
<span id="cb378-969"><a href="#cb378-969" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-970"><a href="#cb378-970" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-971"><a href="#cb378-971" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-972"><a href="#cb378-972" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-973"><a href="#cb378-973" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-974"><a href="#cb378-974" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-975"><a href="#cb378-975" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-976"><a href="#cb378-976" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-977"><a href="#cb378-977" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brook trout</span></span>
<span id="cb378-980"><a href="#cb378-980" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-981"><a href="#cb378-981" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: propBKT</span></span>
<span id="cb378-982"><a href="#cb378-982" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-983"><a href="#cb378-983" aria-hidden="true" tabindex="-1"></a><span class="co"># by season</span></span>
<span id="cb378-984"><a href="#cb378-984" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-985"><a href="#cb378-985" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bkt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-986"><a href="#cb378-986" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-987"><a href="#cb378-987" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-988"><a href="#cb378-988" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-989"><a href="#cb378-989" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-990"><a href="#cb378-990" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-991"><a href="#cb378-991" aria-hidden="true" tabindex="-1"></a><span class="co"># by river</span></span>
<span id="cb378-992"><a href="#cb378-992" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-993"><a href="#cb378-993" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bkt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-994"><a href="#cb378-994" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-995"><a href="#cb378-995" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-996"><a href="#cb378-996" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-997"><a href="#cb378-997" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-998"><a href="#cb378-998" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-999"><a href="#cb378-999" aria-hidden="true" tabindex="-1"></a><span class="co"># by season/river</span></span>
<span id="cb378-1000"><a href="#cb378-1000" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-1001"><a href="#cb378-1001" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bkt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1002"><a href="#cb378-1002" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-1003"><a href="#cb378-1003" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-1004"><a href="#cb378-1004" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-1005"><a href="#cb378-1005" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-1006"><a href="#cb378-1006" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1007"><a href="#cb378-1007" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1008"><a href="#cb378-1008" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brown trout</span></span>
<span id="cb378-1011"><a href="#cb378-1011" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1012"><a href="#cb378-1012" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: propBNT</span></span>
<span id="cb378-1013"><a href="#cb378-1013" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1014"><a href="#cb378-1014" aria-hidden="true" tabindex="-1"></a><span class="co"># by season</span></span>
<span id="cb378-1015"><a href="#cb378-1015" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-1016"><a href="#cb378-1016" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bnt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1017"><a href="#cb378-1017" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-1018"><a href="#cb378-1018" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-1019"><a href="#cb378-1019" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-1020"><a href="#cb378-1020" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-1021"><a href="#cb378-1021" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1022"><a href="#cb378-1022" aria-hidden="true" tabindex="-1"></a><span class="co"># by river</span></span>
<span id="cb378-1023"><a href="#cb378-1023" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-1024"><a href="#cb378-1024" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bnt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1025"><a href="#cb378-1025" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-1026"><a href="#cb378-1026" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-1027"><a href="#cb378-1027" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-1028"><a href="#cb378-1028" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-1029"><a href="#cb378-1029" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1030"><a href="#cb378-1030" aria-hidden="true" tabindex="-1"></a><span class="co"># by season/river</span></span>
<span id="cb378-1031"><a href="#cb378-1031" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-1032"><a href="#cb378-1032" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'bnt'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1033"><a href="#cb378-1033" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-1034"><a href="#cb378-1034" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-1035"><a href="#cb378-1035" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-1036"><a href="#cb378-1036" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-1037"><a href="#cb378-1037" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1038"><a href="#cb378-1038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1039"><a href="#cb378-1039" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Atlantic salmon</span></span>
<span id="cb378-1042"><a href="#cb378-1042" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1043"><a href="#cb378-1043" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: propATS</span></span>
<span id="cb378-1044"><a href="#cb378-1044" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1045"><a href="#cb378-1045" aria-hidden="true" tabindex="-1"></a><span class="co"># by season</span></span>
<span id="cb378-1046"><a href="#cb378-1046" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-1047"><a href="#cb378-1047" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'ats'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1048"><a href="#cb378-1048" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-1049"><a href="#cb378-1049" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-1050"><a href="#cb378-1050" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-1051"><a href="#cb378-1051" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-1052"><a href="#cb378-1052" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1053"><a href="#cb378-1053" aria-hidden="true" tabindex="-1"></a><span class="co"># by river</span></span>
<span id="cb378-1054"><a href="#cb378-1054" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-1055"><a href="#cb378-1055" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'ats'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1056"><a href="#cb378-1056" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-1057"><a href="#cb378-1057" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-1058"><a href="#cb378-1058" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-1059"><a href="#cb378-1059" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-1060"><a href="#cb378-1060" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1061"><a href="#cb378-1061" aria-hidden="true" tabindex="-1"></a><span class="co"># by season/river</span></span>
<span id="cb378-1062"><a href="#cb378-1062" aria-hidden="true" tabindex="-1"></a>cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-1063"><a href="#cb378-1063" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), species <span class="sc">==</span> <span class="st">'ats'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1064"><a href="#cb378-1064" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season, riverGG, negGrowth) <span class="sc">|&gt;</span> </span>
<span id="cb378-1065"><a href="#cb378-1065" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb378-1066"><a href="#cb378-1066" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> negGrowth, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb378-1067"><a href="#cb378-1067" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span><span class="sc">/</span>(<span class="st">`</span><span class="at">TRUE</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>))</span>
<span id="cb378-1068"><a href="#cb378-1068" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1069"><a href="#cb378-1069" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1070"><a href="#cb378-1070" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1071"><a href="#cb378-1071" aria-hidden="true" tabindex="-1"></a><span class="fu">### Proportion of observations with negative growth by species/river/season</span></span>
<span id="cb378-1072"><a href="#cb378-1072" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1075"><a href="#cb378-1075" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1076"><a href="#cb378-1076" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: neg_pos</span></span>
<span id="cb378-1077"><a href="#cb378-1077" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)), <span class="fu">aes</span>(negGrowth)) <span class="sc">+</span></span>
<span id="cb378-1078"><a href="#cb378-1078" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb378-1079"><a href="#cb378-1079" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-1080"><a href="#cb378-1080" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG<span class="sc">+</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-1081"><a href="#cb378-1081" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1082"><a href="#cb378-1082" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1083"><a href="#cb378-1083" aria-hidden="true" tabindex="-1"></a><span class="fu">### Proportion of observations with negative growth by species/season</span></span>
<span id="cb378-1084"><a href="#cb378-1084" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1087"><a href="#cb378-1087" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1088"><a href="#cb378-1088" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: propNegBySeason</span></span>
<span id="cb378-1089"><a href="#cb378-1089" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1090"><a href="#cb378-1090" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRS <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">50</span>), <span class="fu">aes</span>(seasonGG, propNeg, <span class="at">color =</span> riverGG, <span class="at">group =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-1091"><a href="#cb378-1091" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb378-1092"><a href="#cb378-1092" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb378-1093"><a href="#cb378-1093" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>, <span class="at">y =</span> <span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-1094"><a href="#cb378-1094" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-1095"><a href="#cb378-1095" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-1096"><a href="#cb378-1096" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">360-45</span>, <span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">hjust =</span> .<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb378-1097"><a href="#cb378-1097" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>speciesGG)</span>
<span id="cb378-1098"><a href="#cb378-1098" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1099"><a href="#cb378-1099" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1100"><a href="#cb378-1100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1101"><a href="#cb378-1101" aria-hidden="true" tabindex="-1"></a><span class="fu">### Proportion of observations with negative growth by species/river/year</span></span>
<span id="cb378-1102"><a href="#cb378-1102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1105"><a href="#cb378-1105" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1106"><a href="#cb378-1106" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: propNegWB_BKT</span></span>
<span id="cb378-1107"><a href="#cb378-1107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1108"><a href="#cb378-1108" aria-hidden="true" tabindex="-1"></a>plotPropNegByRiver <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp){</span>
<span id="cb378-1109"><a href="#cb378-1109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">20</span>,  speciesGG <span class="sc">==</span> spp), </span>
<span id="cb378-1110"><a href="#cb378-1110" aria-hidden="true" tabindex="-1"></a>         <span class="fu">aes</span>(year, propNeg, <span class="at">color =</span> <span class="fu">factor</span>(seasonGG))) <span class="sc">+</span></span>
<span id="cb378-1111"><a href="#cb378-1111" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb378-1112"><a href="#cb378-1112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb378-1113"><a href="#cb378-1113" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Proportion of opnservations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-1114"><a href="#cb378-1114" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-1115"><a href="#cb378-1115" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-1116"><a href="#cb378-1116" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>riverGG)</span>
<span id="cb378-1117"><a href="#cb378-1117" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-1118"><a href="#cb378-1118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1119"><a href="#cb378-1119" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1120"><a href="#cb378-1120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1121"><a href="#cb378-1121" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-1122"><a href="#cb378-1122" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brook trout</span></span>
<span id="cb378-1123"><a href="#cb378-1123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1126"><a href="#cb378-1126" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1127"><a href="#cb378-1127" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: propNegWB_BKT_bkt</span></span>
<span id="cb378-1128"><a href="#cb378-1128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1129"><a href="#cb378-1129" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPropNegByRiver</span>(propNegSRsN, <span class="st">"Brook trout"</span>)</span>
<span id="cb378-1130"><a href="#cb378-1130" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1131"><a href="#cb378-1131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1132"><a href="#cb378-1132" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brown trout</span></span>
<span id="cb378-1133"><a href="#cb378-1133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1136"><a href="#cb378-1136" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1137"><a href="#cb378-1137" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: propNegWB_BKT_bnt</span></span>
<span id="cb378-1138"><a href="#cb378-1138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1139"><a href="#cb378-1139" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPropNegByRiver</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(riverGG <span class="sc">!=</span> <span class="st">"Open Small"</span>), <span class="st">"Brown trout"</span>)</span>
<span id="cb378-1140"><a href="#cb378-1140" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1141"><a href="#cb378-1141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1142"><a href="#cb378-1142" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Atlantic salmon</span></span>
<span id="cb378-1143"><a href="#cb378-1143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1146"><a href="#cb378-1146" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1147"><a href="#cb378-1147" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: propNegWB_BKT_ats</span></span>
<span id="cb378-1148"><a href="#cb378-1148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1149"><a href="#cb378-1149" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPropNegByRiver</span>(propNegSRsN, <span class="st">"Atlantic salmon"</span>)</span>
<span id="cb378-1150"><a href="#cb378-1150" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1151"><a href="#cb378-1151" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-1152"><a href="#cb378-1152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1153"><a href="#cb378-1153" aria-hidden="true" tabindex="-1"></a><span class="fu">### Proportion of observations with negative growth by species/river/year</span></span>
<span id="cb378-1154"><a href="#cb378-1154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1155"><a href="#cb378-1155" aria-hidden="true" tabindex="-1"></a>Break down season by year, compare across rivers</span>
<span id="cb378-1156"><a href="#cb378-1156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1159"><a href="#cb378-1159" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1160"><a href="#cb378-1160" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: neg_posN</span></span>
<span id="cb378-1161"><a href="#cb378-1161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1162"><a href="#cb378-1162" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>), <span class="fu">aes</span>(year, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-1163"><a href="#cb378-1163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb378-1164"><a href="#cb378-1164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb378-1165"><a href="#cb378-1165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-1166"><a href="#cb378-1166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-1167"><a href="#cb378-1167" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-1168"><a href="#cb378-1168" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-1169"><a href="#cb378-1169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1170"><a href="#cb378-1170" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">15</span>, seasonGG <span class="sc">==</span> <span class="st">"Summer"</span>, speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, year <span class="sc">&gt;</span> <span class="dv">2001</span>), <span class="fu">aes</span>(year, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-1171"><a href="#cb378-1171" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb378-1172"><a href="#cb378-1172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb378-1173"><a href="#cb378-1173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-1174"><a href="#cb378-1174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-1175"><a href="#cb378-1175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>()</span>
<span id="cb378-1176"><a href="#cb378-1176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1177"><a href="#cb378-1177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1178"><a href="#cb378-1178" aria-hidden="true" tabindex="-1"></a><span class="fu">## Environmental effects on Proportion of observations with negative growth</span></span>
<span id="cb378-1179"><a href="#cb378-1179" aria-hidden="true" tabindex="-1"></a><span class="fu">### Models for proportions  </span></span>
<span id="cb378-1180"><a href="#cb378-1180" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brool trout</span></span>
<span id="cb378-1181"><a href="#cb378-1181" aria-hidden="true" tabindex="-1"></a>Probably delete this section</span>
<span id="cb378-1184"><a href="#cb378-1184" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1185"><a href="#cb378-1185" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: propModBKT</span></span>
<span id="cb378-1186"><a href="#cb378-1186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1187"><a href="#cb378-1187" aria-hidden="true" tabindex="-1"></a>propModBKT1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10 <span class="sc">+</span> nInd <span class="sc">+</span> seasonGG <span class="sc">+</span> riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1188"><a href="#cb378-1188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1189"><a href="#cb378-1189" aria-hidden="true" tabindex="-1"></a>propModBKT2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10 <span class="sc">+</span> nInd <span class="sc">+</span> seasonGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1190"><a href="#cb378-1190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1191"><a href="#cb378-1191" aria-hidden="true" tabindex="-1"></a>propModBKT3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10 <span class="sc">+</span> nInd )<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1192"><a href="#cb378-1192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1193"><a href="#cb378-1193" aria-hidden="true" tabindex="-1"></a>propModBKT4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10  <span class="sc">+</span> seasonGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1194"><a href="#cb378-1194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1195"><a href="#cb378-1195" aria-hidden="true" tabindex="-1"></a>propModBKT5 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT  <span class="sc">+</span> nInd <span class="sc">+</span> seasonGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1196"><a href="#cb378-1196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1197"><a href="#cb378-1197" aria-hidden="true" tabindex="-1"></a>propModBKT6 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10 <span class="sc">+</span> nInd )<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1198"><a href="#cb378-1198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1199"><a href="#cb378-1199" aria-hidden="true" tabindex="-1"></a>propModBKT7 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> mF_log10  <span class="sc">+</span> riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1200"><a href="#cb378-1200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1201"><a href="#cb378-1201" aria-hidden="true" tabindex="-1"></a>propModBKT8 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT <span class="sc">+</span> seasonGG <span class="sc">+</span> riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1202"><a href="#cb378-1202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1203"><a href="#cb378-1203" aria-hidden="true" tabindex="-1"></a>propModBKT9 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (nInd <span class="sc">+</span> seasonGG <span class="sc">+</span> riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1204"><a href="#cb378-1204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1205"><a href="#cb378-1205" aria-hidden="true" tabindex="-1"></a>propModBKT10 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mF_log10 <span class="sc">+</span> seasonGG <span class="sc">+</span> riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1206"><a href="#cb378-1206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1207"><a href="#cb378-1207" aria-hidden="true" tabindex="-1"></a>propModBKT11 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (riverGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1208"><a href="#cb378-1208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1209"><a href="#cb378-1209" aria-hidden="true" tabindex="-1"></a>propModBKT12<span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (seasonGG)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1210"><a href="#cb378-1210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1211"><a href="#cb378-1211" aria-hidden="true" tabindex="-1"></a>propModBKT13 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (nInd)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1212"><a href="#cb378-1212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1213"><a href="#cb378-1213" aria-hidden="true" tabindex="-1"></a>propModBKT14 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mF_log10)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1214"><a href="#cb378-1214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1215"><a href="#cb378-1215" aria-hidden="true" tabindex="-1"></a>propModBKT15 <span class="ot">&lt;-</span> <span class="fu">lm</span>(propNeg <span class="sc">~</span> (mT)<span class="sc">^</span><span class="dv">2</span>, <span class="at">data =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>))</span>
<span id="cb378-1216"><a href="#cb378-1216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1217"><a href="#cb378-1217" aria-hidden="true" tabindex="-1"></a>propModAIC <span class="ot">&lt;-</span> <span class="fu">AIC</span>(propModBKT1, propModBKT2, propModBKT3, propModBKT4, propModBKT5, propModBKT6, propModBKT7, propModBKT8, propModBKT9, propModBKT10, propModBKT11, propModBKT12, propModBKT13, propModBKT14, propModBKT15) <span class="sc">|&gt;</span>  <span class="fu">arrange</span>(AIC)</span>
<span id="cb378-1218"><a href="#cb378-1218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1219"><a href="#cb378-1219" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">rownames</span>(propModAIC)[<span class="dv">1</span>])</span>
<span id="cb378-1220"><a href="#cb378-1220" aria-hidden="true" tabindex="-1"></a><span class="fu">get</span>(<span class="fu">rownames</span>(propModAIC)[<span class="dv">1</span>])</span>
<span id="cb378-1221"><a href="#cb378-1221" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1222"><a href="#cb378-1222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1223"><a href="#cb378-1223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1224"><a href="#cb378-1224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1225"><a href="#cb378-1225" aria-hidden="true" tabindex="-1"></a><span class="fu">### Proportion of observations with negative growth by **flow**</span></span>
<span id="cb378-1226"><a href="#cb378-1226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1229"><a href="#cb378-1229" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1230"><a href="#cb378-1230" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negGrowth_flow</span></span>
<span id="cb378-1231"><a href="#cb378-1231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1232"><a href="#cb378-1232" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(mF, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-1233"><a href="#cb378-1233" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb378-1234"><a href="#cb378-1234" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1235"><a href="#cb378-1235" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-1236"><a href="#cb378-1236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="fu">bquote</span>(<span class="st">"Mean flow "</span> <span class="sc">~</span> (m<span class="sc">^</span><span class="dv">3</span> <span class="sc">~</span> <span class="st">"·"</span> <span class="sc">~</span> s<span class="sc">^</span>{<span class="sc">-</span><span class="dv">1</span>}))) <span class="sc">+</span> <span class="co">#alt-250 for dot +</span></span>
<span id="cb378-1237"><a href="#cb378-1237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-1238"><a href="#cb378-1238" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"West Brook"</span>) <span class="sc">+</span></span>
<span id="cb378-1239"><a href="#cb378-1239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-1240"><a href="#cb378-1240" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-1241"><a href="#cb378-1241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1242"><a href="#cb378-1242" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">!=</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(mF, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-1243"><a href="#cb378-1243" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb378-1244"><a href="#cb378-1244" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1245"><a href="#cb378-1245" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-1246"><a href="#cb378-1246" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="fu">bquote</span>(<span class="st">"Mean flow "</span> <span class="sc">~</span> (m<span class="sc">^</span><span class="dv">3</span> <span class="sc">~</span> <span class="st">"·"</span> <span class="sc">~</span> s<span class="sc">^</span>{<span class="sc">-</span><span class="dv">1</span>}))) <span class="sc">+</span> <span class="co">#alt-250 for dot</span></span>
<span id="cb378-1247"><a href="#cb378-1247" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="at">drop =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1248"><a href="#cb378-1248" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Tributaries"</span>) <span class="sc">+</span></span>
<span id="cb378-1249"><a href="#cb378-1249" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-1250"><a href="#cb378-1250" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-1251"><a href="#cb378-1251" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1252"><a href="#cb378-1252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1253"><a href="#cb378-1253" aria-hidden="true" tabindex="-1"></a><span class="fu">### Proportion of observations with negative growth by **temperature**</span></span>
<span id="cb378-1254"><a href="#cb378-1254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1257"><a href="#cb378-1257" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1258"><a href="#cb378-1258" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negGrowth_temp</span></span>
<span id="cb378-1259"><a href="#cb378-1259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1260"><a href="#cb378-1260" aria-hidden="true" tabindex="-1"></a>plotNegGrowth_temp <span class="ot">&lt;-</span> <span class="cf">function</span>(d, s){</span>
<span id="cb378-1261"><a href="#cb378-1261" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, seasonGG <span class="sc">==</span> s), <span class="fu">aes</span>(mT, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-1262"><a href="#cb378-1262" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb378-1263"><a href="#cb378-1263" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1264"><a href="#cb378-1264" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-1265"><a href="#cb378-1265" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="st">"Mean temperature (C)"</span>) <span class="sc">+</span></span>
<span id="cb378-1266"><a href="#cb378-1266" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-1267"><a href="#cb378-1267" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(s) <span class="sc">+</span></span>
<span id="cb378-1268"><a href="#cb378-1268" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-1269"><a href="#cb378-1269" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(riverGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-1270"><a href="#cb378-1270" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-1271"><a href="#cb378-1271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1272"><a href="#cb378-1272" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1273"><a href="#cb378-1273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1274"><a href="#cb378-1274" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-1275"><a href="#cb378-1275" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Spring</span></span>
<span id="cb378-1276"><a href="#cb378-1276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1279"><a href="#cb378-1279" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1280"><a href="#cb378-1280" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negGrowth_tempSPring</span></span>
<span id="cb378-1281"><a href="#cb378-1281" aria-hidden="true" tabindex="-1"></a><span class="fu">plotNegGrowth_temp</span>(propNegSRsN, <span class="st">"Spring"</span>)</span>
<span id="cb378-1282"><a href="#cb378-1282" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1283"><a href="#cb378-1283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1284"><a href="#cb378-1284" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Summer</span></span>
<span id="cb378-1285"><a href="#cb378-1285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1288"><a href="#cb378-1288" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1289"><a href="#cb378-1289" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negGrowth_tempSummer</span></span>
<span id="cb378-1290"><a href="#cb378-1290" aria-hidden="true" tabindex="-1"></a><span class="fu">plotNegGrowth_temp</span>(propNegSRsN, <span class="st">"Summer"</span>)</span>
<span id="cb378-1291"><a href="#cb378-1291" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1292"><a href="#cb378-1292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1293"><a href="#cb378-1293" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Autumn</span></span>
<span id="cb378-1294"><a href="#cb378-1294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1297"><a href="#cb378-1297" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1298"><a href="#cb378-1298" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negGrowth_tempAutumn</span></span>
<span id="cb378-1299"><a href="#cb378-1299" aria-hidden="true" tabindex="-1"></a><span class="fu">plotNegGrowth_temp</span>(propNegSRsN, <span class="st">"Autumn"</span>)</span>
<span id="cb378-1300"><a href="#cb378-1300" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1301"><a href="#cb378-1301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1302"><a href="#cb378-1302" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Winter</span></span>
<span id="cb378-1303"><a href="#cb378-1303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1306"><a href="#cb378-1306" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1307"><a href="#cb378-1307" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negGrowth_tempWinter</span></span>
<span id="cb378-1308"><a href="#cb378-1308" aria-hidden="true" tabindex="-1"></a><span class="fu">plotNegGrowth_temp</span>(propNegSRsN, <span class="st">"Winter"</span>)</span>
<span id="cb378-1309"><a href="#cb378-1309" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1310"><a href="#cb378-1310" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-1311"><a href="#cb378-1311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1312"><a href="#cb378-1312" aria-hidden="true" tabindex="-1"></a><span class="fu">### Proportion of observations with negative growth by **3 species fish counts**</span></span>
<span id="cb378-1313"><a href="#cb378-1313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1316"><a href="#cb378-1316" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1317"><a href="#cb378-1317" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negGrowth_counts3Spp</span></span>
<span id="cb378-1318"><a href="#cb378-1318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1319"><a href="#cb378-1319" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(nInd, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-1320"><a href="#cb378-1320" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb378-1321"><a href="#cb378-1321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1322"><a href="#cb378-1322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-1323"><a href="#cb378-1323" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="st">"3 species count"</span>) <span class="sc">+</span></span>
<span id="cb378-1324"><a href="#cb378-1324" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-1325"><a href="#cb378-1325" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"West Brook"</span>) <span class="sc">+</span></span>
<span id="cb378-1326"><a href="#cb378-1326" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-1327"><a href="#cb378-1327" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-1328"><a href="#cb378-1328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1329"><a href="#cb378-1329" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">!=</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(nInd, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-1330"><a href="#cb378-1330" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb378-1331"><a href="#cb378-1331" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1332"><a href="#cb378-1332" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-1333"><a href="#cb378-1333" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="st">"3 species count"</span>) <span class="sc">+</span></span>
<span id="cb378-1334"><a href="#cb378-1334" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-1335"><a href="#cb378-1335" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Tributaries"</span>) <span class="sc">+</span></span>
<span id="cb378-1336"><a href="#cb378-1336" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-1337"><a href="#cb378-1337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-1338"><a href="#cb378-1338" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1339"><a href="#cb378-1339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1340"><a href="#cb378-1340" aria-hidden="true" tabindex="-1"></a><span class="fu">### Proportion of observations with negative growth by **conspecific fish counts**</span></span>
<span id="cb378-1341"><a href="#cb378-1341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1344"><a href="#cb378-1344" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1345"><a href="#cb378-1345" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negGrowth_counts1Spp</span></span>
<span id="cb378-1346"><a href="#cb378-1346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1347"><a href="#cb378-1347" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(nIndBySpp, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-1348"><a href="#cb378-1348" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb378-1349"><a href="#cb378-1349" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1350"><a href="#cb378-1350" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-1351"><a href="#cb378-1351" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="st">"conspecific count"</span>) <span class="sc">+</span></span>
<span id="cb378-1352"><a href="#cb378-1352" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-1353"><a href="#cb378-1353" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"West Brook"</span>) <span class="sc">+</span></span>
<span id="cb378-1354"><a href="#cb378-1354" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-1355"><a href="#cb378-1355" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-1356"><a href="#cb378-1356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1357"><a href="#cb378-1357" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">!=</span> <span class="st">"West Brook"</span>), <span class="fu">aes</span>(nIndBySpp, propNeg, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-1358"><a href="#cb378-1358" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb378-1359"><a href="#cb378-1359" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1360"><a href="#cb378-1360" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of observations with negative growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-1361"><a href="#cb378-1361" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="st">"conspecific count"</span>) <span class="sc">+</span></span>
<span id="cb378-1362"><a href="#cb378-1362" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-1363"><a href="#cb378-1363" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Tributaries"</span>) <span class="sc">+</span></span>
<span id="cb378-1364"><a href="#cb378-1364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-1365"><a href="#cb378-1365" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-1366"><a href="#cb378-1366" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1367"><a href="#cb378-1367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1368"><a href="#cb378-1368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1369"><a href="#cb378-1369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1370"><a href="#cb378-1370" aria-hidden="true" tabindex="-1"></a><span class="fu">## XGBoost model for proportion of fish with neg growth</span></span>
<span id="cb378-1371"><a href="#cb378-1371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1372"><a href="#cb378-1372" aria-hidden="true" tabindex="-1"></a><span class="fu">### Hyperparameter search grid</span></span>
<span id="cb378-1373"><a href="#cb378-1373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1376"><a href="#cb378-1376" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1377"><a href="#cb378-1377" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: runML_HP_propNeg</span></span>
<span id="cb378-1378"><a href="#cb378-1378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1379"><a href="#cb378-1379" aria-hidden="true" tabindex="-1"></a>runHyperparamSearch <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">d =</span> propNegSRsN, <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"speciesGG"</span>, <span class="st">"riverGG"</span>, <span class="st">"year"</span>, <span class="st">"mT"</span>, <span class="st">"mF_log10"</span>, <span class="st">"nInd"</span>, <span class="st">"propNeg"</span>), <span class="at">nRoundsIn =</span> <span class="dv">100000</span>, <span class="at">early_stopping_roundsIn =</span> <span class="dv">500</span>) {</span>
<span id="cb378-1380"><a href="#cb378-1380" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1381"><a href="#cb378-1381" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb378-1382"><a href="#cb378-1382" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1383"><a href="#cb378-1383" aria-hidden="true" tabindex="-1"></a>  dML_propNeg <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> </span>
<span id="cb378-1384"><a href="#cb378-1384" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">all_of</span>(vars)) </span>
<span id="cb378-1385"><a href="#cb378-1385" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1386"><a href="#cb378-1386" aria-hidden="true" tabindex="-1"></a>  <span class="co"># variable names</span></span>
<span id="cb378-1387"><a href="#cb378-1387" aria-hidden="true" tabindex="-1"></a>  features_propNeg <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">names</span>(dML_propNeg), <span class="st">"propNeg"</span>)</span>
<span id="cb378-1388"><a href="#cb378-1388" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1389"><a href="#cb378-1389" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create the treatment plan from the training data</span></span>
<span id="cb378-1390"><a href="#cb378-1390" aria-hidden="true" tabindex="-1"></a>  treatplan_propNeg <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">designTreatmentsZ</span>(dML_propNeg, features_propNeg, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1391"><a href="#cb378-1391" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1392"><a href="#cb378-1392" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the "clean" variable names from the scoreFrame</span></span>
<span id="cb378-1393"><a href="#cb378-1393" aria-hidden="true" tabindex="-1"></a>  new_vars_propNeg <span class="ot">&lt;-</span> treatplan_propNeg <span class="sc">%&gt;%</span></span>
<span id="cb378-1394"><a href="#cb378-1394" aria-hidden="true" tabindex="-1"></a>    magrittr<span class="sc">::</span><span class="fu">use_series</span>(scoreFrame) <span class="sc">%&gt;%</span>        </span>
<span id="cb378-1395"><a href="#cb378-1395" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(code <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"clean"</span>, <span class="st">"lev"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb378-1396"><a href="#cb378-1396" aria-hidden="true" tabindex="-1"></a>    magrittr<span class="sc">::</span><span class="fu">use_series</span>(varName)     </span>
<span id="cb378-1397"><a href="#cb378-1397" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1398"><a href="#cb378-1398" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare the training data</span></span>
<span id="cb378-1399"><a href="#cb378-1399" aria-hidden="true" tabindex="-1"></a>  features_train_propNeg <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan_propNeg, dML_propNeg, <span class="at">varRestriction =</span> new_vars_propNeg) <span class="sc">%&gt;%</span> <span class="fu">as.matrix</span>()</span>
<span id="cb378-1400"><a href="#cb378-1400" aria-hidden="true" tabindex="-1"></a>  response_train_propNeg <span class="ot">&lt;-</span> dML_propNeg<span class="sc">$</span>propNeg</span>
<span id="cb378-1401"><a href="#cb378-1401" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1402"><a href="#cb378-1402" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create hyperparameter grid</span></span>
<span id="cb378-1403"><a href="#cb378-1403" aria-hidden="true" tabindex="-1"></a>  hyper_grid_propNeg <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb378-1404"><a href="#cb378-1404" aria-hidden="true" tabindex="-1"></a>    <span class="at">eta =</span> <span class="fu">c</span>(.<span class="dv">01</span>, .<span class="dv">05</span>, .<span class="dv">1</span>, .<span class="dv">3</span>),</span>
<span id="cb378-1405"><a href="#cb378-1405" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_depth =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>),</span>
<span id="cb378-1406"><a href="#cb378-1406" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_child_weight =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>),</span>
<span id="cb378-1407"><a href="#cb378-1407" aria-hidden="true" tabindex="-1"></a>    <span class="at">subsample =</span> <span class="fu">c</span>(.<span class="dv">65</span>, .<span class="dv">8</span>, <span class="dv">1</span>),</span>
<span id="cb378-1408"><a href="#cb378-1408" aria-hidden="true" tabindex="-1"></a>    <span class="at">colsample_bytree =</span> <span class="fu">c</span>(.<span class="dv">8</span>, .<span class="dv">9</span>, <span class="dv">1</span>),</span>
<span id="cb378-1409"><a href="#cb378-1409" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimal_trees =</span> <span class="dv">0</span>,               <span class="co"># a place to dump results</span></span>
<span id="cb378-1410"><a href="#cb378-1410" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_RMSE =</span> <span class="dv">0</span>                     <span class="co"># a place to dump results</span></span>
<span id="cb378-1411"><a href="#cb378-1411" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb378-1412"><a href="#cb378-1412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1413"><a href="#cb378-1413" aria-hidden="true" tabindex="-1"></a>  <span class="co"># reproducibility</span></span>
<span id="cb378-1414"><a href="#cb378-1414" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb378-1415"><a href="#cb378-1415" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   </span></span>
<span id="cb378-1416"><a href="#cb378-1416" aria-hidden="true" tabindex="-1"></a>  <span class="co"># grid search</span></span>
<span id="cb378-1417"><a href="#cb378-1417" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(hyper_grid_propNeg)) {</span>
<span id="cb378-1418"><a href="#cb378-1418" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste0</span>(i, <span class="st">" out of "</span>, <span class="fu">nrow</span>(hyper_grid_propNeg)))</span>
<span id="cb378-1419"><a href="#cb378-1419" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create parameter list</span></span>
<span id="cb378-1420"><a href="#cb378-1420" aria-hidden="true" tabindex="-1"></a>    params_propNeg <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb378-1421"><a href="#cb378-1421" aria-hidden="true" tabindex="-1"></a>      <span class="at">eta =</span> hyper_grid_propNeg<span class="sc">$</span>eta[i],</span>
<span id="cb378-1422"><a href="#cb378-1422" aria-hidden="true" tabindex="-1"></a>      <span class="at">max_depth =</span> hyper_grid_propNeg<span class="sc">$</span>max_depth[i],</span>
<span id="cb378-1423"><a href="#cb378-1423" aria-hidden="true" tabindex="-1"></a>      <span class="at">min_child_weight =</span> hyper_grid_propNeg<span class="sc">$</span>min_child_weight[i],</span>
<span id="cb378-1424"><a href="#cb378-1424" aria-hidden="true" tabindex="-1"></a>      <span class="at">subsample =</span> hyper_grid_propNeg<span class="sc">$</span>subsample[i],</span>
<span id="cb378-1425"><a href="#cb378-1425" aria-hidden="true" tabindex="-1"></a>      <span class="at">colsample_bytree =</span> hyper_grid_propNeg<span class="sc">$</span>colsample_bytree[i]</span>
<span id="cb378-1426"><a href="#cb378-1426" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb378-1427"><a href="#cb378-1427" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1428"><a href="#cb378-1428" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1429"><a href="#cb378-1429" aria-hidden="true" tabindex="-1"></a>    <span class="co"># train model</span></span>
<span id="cb378-1430"><a href="#cb378-1430" aria-hidden="true" tabindex="-1"></a>    xgb.tune_propNeg <span class="ot">&lt;-</span> <span class="fu">xgb.cv</span>(</span>
<span id="cb378-1431"><a href="#cb378-1431" aria-hidden="true" tabindex="-1"></a>      <span class="at">params =</span> params_propNeg,</span>
<span id="cb378-1432"><a href="#cb378-1432" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> features_train_propNeg,</span>
<span id="cb378-1433"><a href="#cb378-1433" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> response_train_propNeg,</span>
<span id="cb378-1434"><a href="#cb378-1434" aria-hidden="true" tabindex="-1"></a>      <span class="at">nrounds =</span> <span class="dv">100000</span>,</span>
<span id="cb378-1435"><a href="#cb378-1435" aria-hidden="true" tabindex="-1"></a>      <span class="at">nfold =</span> <span class="dv">5</span>,</span>
<span id="cb378-1436"><a href="#cb378-1436" aria-hidden="true" tabindex="-1"></a>      <span class="at">objective =</span> <span class="st">"reg:squarederror"</span>, <span class="co">#"reg:linear",  # for regression models</span></span>
<span id="cb378-1437"><a href="#cb378-1437" aria-hidden="true" tabindex="-1"></a>      <span class="at">verbose =</span> <span class="dv">0</span>,               <span class="co"># silent,</span></span>
<span id="cb378-1438"><a href="#cb378-1438" aria-hidden="true" tabindex="-1"></a>      <span class="at">early_stopping_rounds =</span> early_stopping_roundsIn <span class="co"># stop if no improvement for x consecutive trees</span></span>
<span id="cb378-1439"><a href="#cb378-1439" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb378-1440"><a href="#cb378-1440" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1441"><a href="#cb378-1441" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add min training error and trees to grid</span></span>
<span id="cb378-1442"><a href="#cb378-1442" aria-hidden="true" tabindex="-1"></a>    hyper_grid_propNeg<span class="sc">$</span>optimal_trees[i] <span class="ot">&lt;-</span> <span class="fu">which.min</span>(xgb.tune_propNeg<span class="sc">$</span>evaluation_log<span class="sc">$</span>test_rmse_mean)</span>
<span id="cb378-1443"><a href="#cb378-1443" aria-hidden="true" tabindex="-1"></a>    hyper_grid_propNeg<span class="sc">$</span>min_RMSE[i] <span class="ot">&lt;-</span> <span class="fu">min</span>(xgb.tune_propNeg<span class="sc">$</span>evaluation_log<span class="sc">$</span>test_rmse_mean)</span>
<span id="cb378-1444"><a href="#cb378-1444" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb378-1445"><a href="#cb378-1445" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1446"><a href="#cb378-1446" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(hyper_grid_propNeg <span class="sc">|&gt;</span> <span class="fu">arrange</span>(min_RMSE))</span>
<span id="cb378-1447"><a href="#cb378-1447" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-1448"><a href="#cb378-1448" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb378-1449"><a href="#cb378-1449" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; #     eta max_depth min_child_weight subsample colsample_bytree optimal_trees  min_RMSE</span></span>
<span id="cb378-1450"><a href="#cb378-1450" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 1  0.10         1                7      0.80              0.9            57 0.1833918</span></span>
<span id="cb378-1451"><a href="#cb378-1451" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 2  0.10         3                3      1.00              1.0            52 0.1835447</span></span>
<span id="cb378-1452"><a href="#cb378-1452" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 3  0.05         3                1      0.65              0.9            88 0.1849762</span></span>
<span id="cb378-1453"><a href="#cb378-1453" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 4  0.01         3                7      1.00              0.9           514 0.1853950</span></span>
<span id="cb378-1454"><a href="#cb378-1454" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 5  0.30         5                1      0.80              1.0            17 0.1854102</span></span>
<span id="cb378-1455"><a href="#cb378-1455" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 6  0.01         3                3      0.65              0.8           438 0.1854346</span></span>
<span id="cb378-1456"><a href="#cb378-1456" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 7  0.30         5                1      1.00              0.9            14 0.1856684</span></span>
<span id="cb378-1457"><a href="#cb378-1457" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 8  0.01         1                3      0.65              0.9           560 0.1857717</span></span>
<span id="cb378-1458"><a href="#cb378-1458" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 9  0.30         3                1      1.00              1.0            13 0.1859183</span></span>
<span id="cb378-1459"><a href="#cb378-1459" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 10 0.30         3                3      0.65              0.8            21 0.1860299</span></span>
<span id="cb378-1460"><a href="#cb378-1460" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 11 0.05         7                3      0.80              0.8           123 0.1860336</span></span>
<span id="cb378-1461"><a href="#cb378-1461" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 12 0.01         3                5      0.80              1.0           512 0.1861016</span></span>
<span id="cb378-1462"><a href="#cb378-1462" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 13 0.10         3                7      0.65              1.0            45 0.1861042</span></span>
<span id="cb378-1463"><a href="#cb378-1463" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; # 14 0.10         3                5      1.00              1.0            55 0.1861160</span></span>
<span id="cb378-1464"><a href="#cb378-1464" aria-hidden="true" tabindex="-1"></a><span class="co"># # &gt; # 15 0.10         1                1      1.00              0.9           179 0.1861891</span></span>
<span id="cb378-1465"><a href="#cb378-1465" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1466"><a href="#cb378-1466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1467"><a href="#cb378-1467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1468"><a href="#cb378-1468" aria-hidden="true" tabindex="-1"></a><span class="fu">### Function to run models</span></span>
<span id="cb378-1469"><a href="#cb378-1469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1472"><a href="#cb378-1472" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1473"><a href="#cb378-1473" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: xgBoostPropNegFunction</span></span>
<span id="cb378-1474"><a href="#cb378-1474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1475"><a href="#cb378-1475" aria-hidden="true" tabindex="-1"></a><span class="co"># http://uc-r.github.io/gbm_regression</span></span>
<span id="cb378-1476"><a href="#cb378-1476" aria-hidden="true" tabindex="-1"></a>runXGB <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">d =</span> propNegSRsN, <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"speciesGG"</span>, <span class="st">"riverGG"</span>, <span class="st">"year"</span>, <span class="st">"mT"</span>, <span class="st">"mF_log10"</span>, <span class="st">"nInd"</span>, <span class="st">"propNeg"</span>), <span class="at">nRoundsIn =</span> <span class="dv">100000</span>, <span class="at">params =</span> params_propNegIn) {</span>
<span id="cb378-1477"><a href="#cb378-1477" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1478"><a href="#cb378-1478" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">125</span>)</span>
<span id="cb378-1479"><a href="#cb378-1479" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1480"><a href="#cb378-1480" aria-hidden="true" tabindex="-1"></a>  dML_propNeg <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> </span>
<span id="cb378-1481"><a href="#cb378-1481" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">all_of</span>(vars)) </span>
<span id="cb378-1482"><a href="#cb378-1482" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1483"><a href="#cb378-1483" aria-hidden="true" tabindex="-1"></a>  <span class="co"># variable names</span></span>
<span id="cb378-1484"><a href="#cb378-1484" aria-hidden="true" tabindex="-1"></a>  features_propNeg <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">names</span>(dML_propNeg), <span class="st">"propNeg"</span>)</span>
<span id="cb378-1485"><a href="#cb378-1485" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1486"><a href="#cb378-1486" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create the treatment plan from the training data</span></span>
<span id="cb378-1487"><a href="#cb378-1487" aria-hidden="true" tabindex="-1"></a>  treatplan_propNeg <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">designTreatmentsZ</span>(dML_propNeg, features_propNeg, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1488"><a href="#cb378-1488" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1489"><a href="#cb378-1489" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the "clean" variable names from the scoreFrame</span></span>
<span id="cb378-1490"><a href="#cb378-1490" aria-hidden="true" tabindex="-1"></a>  new_vars_propNeg <span class="ot">&lt;-</span> treatplan_propNeg <span class="sc">%&gt;%</span></span>
<span id="cb378-1491"><a href="#cb378-1491" aria-hidden="true" tabindex="-1"></a>    magrittr<span class="sc">::</span><span class="fu">use_series</span>(scoreFrame) <span class="sc">%&gt;%</span>        </span>
<span id="cb378-1492"><a href="#cb378-1492" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(code <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"clean"</span>, <span class="st">"lev"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb378-1493"><a href="#cb378-1493" aria-hidden="true" tabindex="-1"></a>    magrittr<span class="sc">::</span><span class="fu">use_series</span>(varName)     </span>
<span id="cb378-1494"><a href="#cb378-1494" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1495"><a href="#cb378-1495" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare the training data</span></span>
<span id="cb378-1496"><a href="#cb378-1496" aria-hidden="true" tabindex="-1"></a>  features_train_propNeg <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan_propNeg, dML_propNeg, <span class="at">varRestriction =</span> new_vars_propNeg) <span class="sc">%&gt;%</span> <span class="fu">as.matrix</span>()</span>
<span id="cb378-1497"><a href="#cb378-1497" aria-hidden="true" tabindex="-1"></a>  response_train_propNeg <span class="ot">&lt;-</span> dML_propNeg<span class="sc">$</span>propNeg</span>
<span id="cb378-1498"><a href="#cb378-1498" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1499"><a href="#cb378-1499" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prepare the test data</span></span>
<span id="cb378-1500"><a href="#cb378-1500" aria-hidden="true" tabindex="-1"></a>  features_test_propNeg <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan_propNeg, dML_propNeg, <span class="at">varRestriction =</span> new_vars_propNeg) <span class="sc">%&gt;%</span> <span class="fu">as.matrix</span>()</span>
<span id="cb378-1501"><a href="#cb378-1501" aria-hidden="true" tabindex="-1"></a>  response_test_propNeg <span class="ot">&lt;-</span> dML_propNeg<span class="sc">$</span>propNeg</span>
<span id="cb378-1502"><a href="#cb378-1502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1503"><a href="#cb378-1503" aria-hidden="true" tabindex="-1"></a>  <span class="do">##### Run model</span></span>
<span id="cb378-1504"><a href="#cb378-1504" aria-hidden="true" tabindex="-1"></a>  <span class="co"># parameter list - from the top model of the grid search above</span></span>
<span id="cb378-1505"><a href="#cb378-1505" aria-hidden="true" tabindex="-1"></a>  params_propNeg <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb378-1506"><a href="#cb378-1506" aria-hidden="true" tabindex="-1"></a>    <span class="at">eta =</span> params<span class="sc">$</span>eta, <span class="co">#0.01,</span></span>
<span id="cb378-1507"><a href="#cb378-1507" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_depth =</span> params<span class="sc">$</span>max_depth, <span class="co">#1,</span></span>
<span id="cb378-1508"><a href="#cb378-1508" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_child_weight =</span> params<span class="sc">$</span>min_child_weight, <span class="co">#7,</span></span>
<span id="cb378-1509"><a href="#cb378-1509" aria-hidden="true" tabindex="-1"></a>    <span class="at">subsample =</span> params<span class="sc">$</span>subsample, <span class="co">#0.8,</span></span>
<span id="cb378-1510"><a href="#cb378-1510" aria-hidden="true" tabindex="-1"></a>    <span class="at">colsample_bytree =</span> params<span class="sc">$</span>colsample_bytree <span class="co">#0.9</span></span>
<span id="cb378-1511"><a href="#cb378-1511" aria-hidden="true" tabindex="-1"></a>   <span class="co"># optimal_trees = params$optimal_trees</span></span>
<span id="cb378-1512"><a href="#cb378-1512" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb378-1513"><a href="#cb378-1513" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1514"><a href="#cb378-1514" aria-hidden="true" tabindex="-1"></a>  <span class="co"># train final model</span></span>
<span id="cb378-1515"><a href="#cb378-1515" aria-hidden="true" tabindex="-1"></a>  xgb.fit.final_propNeg <span class="ot">&lt;-</span> <span class="fu">xgboost</span>(</span>
<span id="cb378-1516"><a href="#cb378-1516" aria-hidden="true" tabindex="-1"></a>    <span class="at">params =</span> params_propNeg,</span>
<span id="cb378-1517"><a href="#cb378-1517" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> features_train_propNeg,</span>
<span id="cb378-1518"><a href="#cb378-1518" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> response_train_propNeg,</span>
<span id="cb378-1519"><a href="#cb378-1519" aria-hidden="true" tabindex="-1"></a>    <span class="at">nrounds =</span> nRoundsIn,</span>
<span id="cb378-1520"><a href="#cb378-1520" aria-hidden="true" tabindex="-1"></a>    <span class="at">objective =</span> <span class="st">"reg:squarederror"</span>,</span>
<span id="cb378-1521"><a href="#cb378-1521" aria-hidden="true" tabindex="-1"></a>    <span class="at">verbose =</span> <span class="dv">1</span>,</span>
<span id="cb378-1522"><a href="#cb378-1522" aria-hidden="true" tabindex="-1"></a>    <span class="at">early_stopping_rounds =</span> <span class="dv">250</span> <span class="co"># stop if no improvement for 20 consecutive trees</span></span>
<span id="cb378-1523"><a href="#cb378-1523" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb378-1524"><a href="#cb378-1524" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-1525"><a href="#cb378-1525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1526"><a href="#cb378-1526" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(</span>
<span id="cb378-1527"><a href="#cb378-1527" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb378-1528"><a href="#cb378-1528" aria-hidden="true" tabindex="-1"></a>      <span class="at">dat =</span> dML_propNeg,</span>
<span id="cb378-1529"><a href="#cb378-1529" aria-hidden="true" tabindex="-1"></a>      <span class="at">xgb =</span> xgb.fit.final_propNeg,</span>
<span id="cb378-1530"><a href="#cb378-1530" aria-hidden="true" tabindex="-1"></a>      <span class="at">new_vars =</span> new_vars_propNeg,</span>
<span id="cb378-1531"><a href="#cb378-1531" aria-hidden="true" tabindex="-1"></a>      <span class="at">features_train =</span> features_train_propNeg,</span>
<span id="cb378-1532"><a href="#cb378-1532" aria-hidden="true" tabindex="-1"></a>      <span class="at">response_train =</span> response_train_propNeg</span>
<span id="cb378-1533"><a href="#cb378-1533" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb378-1534"><a href="#cb378-1534" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb378-1535"><a href="#cb378-1535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1536"><a href="#cb378-1536" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-1537"><a href="#cb378-1537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1538"><a href="#cb378-1538" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1539"><a href="#cb378-1539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1540"><a href="#cb378-1540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1541"><a href="#cb378-1541" aria-hidden="true" tabindex="-1"></a><span class="fu">### Brook trout</span></span>
<span id="cb378-1544"><a href="#cb378-1544" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1545"><a href="#cb378-1545" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: runXGB_BKT</span></span>
<span id="cb378-1546"><a href="#cb378-1546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1547"><a href="#cb378-1547" aria-hidden="true" tabindex="-1"></a><span class="co"># hpPropNegBKT &lt;- runHyperparamSearch(</span></span>
<span id="cb378-1548"><a href="#cb378-1548" aria-hidden="true" tabindex="-1"></a><span class="co">#   d = propNegSRsN |&gt;  filter(speciesGG == "Brook trout", year &gt; 2001),</span></span>
<span id="cb378-1549"><a href="#cb378-1549" aria-hidden="true" tabindex="-1"></a><span class="co">#   vars = c("riverGG", "year", "mT", "mF_log10", "nInd", "propNeg"),</span></span>
<span id="cb378-1550"><a href="#cb378-1550" aria-hidden="true" tabindex="-1"></a><span class="co">#   early_stopping_roundsIn = 250</span></span>
<span id="cb378-1551"><a href="#cb378-1551" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb378-1552"><a href="#cb378-1552" aria-hidden="true" tabindex="-1"></a><span class="co"># save(hpPropNegBKT, file = "./data/out/hyperParam/hpPropNegBKT_250.RData")</span></span>
<span id="cb378-1553"><a href="#cb378-1553" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"./data/out/hyperParam/hpPropNegBKT_250.RData"</span>)</span>
<span id="cb378-1554"><a href="#cb378-1554" aria-hidden="true" tabindex="-1"></a>hpPropNegBKT[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,]</span>
<span id="cb378-1555"><a href="#cb378-1555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1556"><a href="#cb378-1556" aria-hidden="true" tabindex="-1"></a><span class="co"># propNegBKT &lt;- runXGB(</span></span>
<span id="cb378-1557"><a href="#cb378-1557" aria-hidden="true" tabindex="-1"></a><span class="co">#   d = propNegSRsN |&gt;  filter(speciesGG == "Brook trout", year &gt; 2001),</span></span>
<span id="cb378-1558"><a href="#cb378-1558" aria-hidden="true" tabindex="-1"></a><span class="co">#   vars = c("riverGG", "year", "mT", "mF_log10", "nInd", "propNeg"),</span></span>
<span id="cb378-1559"><a href="#cb378-1559" aria-hidden="true" tabindex="-1"></a><span class="co">#   params = hpPropNegBKT[1,]</span></span>
<span id="cb378-1560"><a href="#cb378-1560" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb378-1561"><a href="#cb378-1561" aria-hidden="true" tabindex="-1"></a><span class="co"># save(propNegBKT, file = "./data/out/hyperParam/XGBpropNegBKT_250.RData")</span></span>
<span id="cb378-1562"><a href="#cb378-1562" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"./data/out/hyperParam/XGBpropNegBKT_250.RData"</span>)</span>
<span id="cb378-1563"><a href="#cb378-1563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1564"><a href="#cb378-1564" aria-hidden="true" tabindex="-1"></a>propNegBKT<span class="sc">$</span>xgb<span class="sc">$</span>best_iteration</span>
<span id="cb378-1565"><a href="#cb378-1565" aria-hidden="true" tabindex="-1"></a>propNegBKT<span class="sc">$</span>xgb<span class="sc">$</span>best_score</span>
<span id="cb378-1566"><a href="#cb378-1566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1567"><a href="#cb378-1567" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plot</span></span>
<span id="cb378-1568"><a href="#cb378-1568" aria-hidden="true" tabindex="-1"></a>viBKT <span class="ot">&lt;-</span> <span class="fu">xgb.importance</span>(<span class="at">model =</span> propNegBKT<span class="sc">$</span>xgb)</span>
<span id="cb378-1569"><a href="#cb378-1569" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(viBKT, <span class="at">top_n =</span> <span class="dv">10</span>, <span class="at">measure =</span> <span class="st">"Gain"</span>)</span>
<span id="cb378-1570"><a href="#cb378-1570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1571"><a href="#cb378-1571" aria-hidden="true" tabindex="-1"></a><span class="do">####################################################################</span></span>
<span id="cb378-1572"><a href="#cb378-1572" aria-hidden="true" tabindex="-1"></a><span class="co">#s_propNegBKT &lt;- hstats(propNegBKT$xgb, v = propNegBKT$new_vars, X = propNegBKT$features_train)</span></span>
<span id="cb378-1573"><a href="#cb378-1573" aria-hidden="true" tabindex="-1"></a><span class="co"># s_propNegBKT</span></span>
<span id="cb378-1574"><a href="#cb378-1574" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegBKT)</span></span>
<span id="cb378-1575"><a href="#cb378-1575" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb378-1576"><a href="#cb378-1576" aria-hidden="true" tabindex="-1"></a><span class="co"># # top 5 2-way interactions</span></span>
<span id="cb378-1577"><a href="#cb378-1577" aria-hidden="true" tabindex="-1"></a><span class="co"># h2_pairwise(s_propNegBKT, normalize = FALSE, squared = FALSE, top_m = 8)</span></span>
<span id="cb378-1578"><a href="#cb378-1578" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb378-1579"><a href="#cb378-1579" aria-hidden="true" tabindex="-1"></a><span class="co"># # 3-way interactions</span></span>
<span id="cb378-1580"><a href="#cb378-1580" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegBKT, which = 1:3, normalize = F, squared = F, facet_scales = "free_y", ncol = 1)</span></span>
<span id="cb378-1581"><a href="#cb378-1581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1582"><a href="#cb378-1582" aria-hidden="true" tabindex="-1"></a><span class="do">## Partial dep plots ################################################################</span></span>
<span id="cb378-1583"><a href="#cb378-1583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1584"><a href="#cb378-1584" aria-hidden="true" tabindex="-1"></a>pFlow_propNeg <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1585"><a href="#cb378-1585" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1586"><a href="#cb378-1586" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1587"><a href="#cb378-1587" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1588"><a href="#cb378-1588" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_y_discrete() +</span></span>
<span id="cb378-1589"><a href="#cb378-1589" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle("PDP")</span></span>
<span id="cb378-1590"><a href="#cb378-1590" aria-hidden="true" tabindex="-1"></a>pTemp_propNeg <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1591"><a href="#cb378-1591" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1592"><a href="#cb378-1592" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1593"><a href="#cb378-1593" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1594"><a href="#cb378-1594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1595"><a href="#cb378-1595" aria-hidden="true" tabindex="-1"></a>pNInd_propNeg <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1596"><a href="#cb378-1596" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1597"><a href="#cb378-1597" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1598"><a href="#cb378-1598" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1599"><a href="#cb378-1599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1600"><a href="#cb378-1600" aria-hidden="true" tabindex="-1"></a>pYear_propNeg <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1601"><a href="#cb378-1601" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1602"><a href="#cb378-1602" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1603"><a href="#cb378-1603" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1604"><a href="#cb378-1604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1605"><a href="#cb378-1605" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pFlow_propNeg, pTemp_propNeg, pNInd_propNeg, pYear_propNeg, <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb378-1606"><a href="#cb378-1606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1607"><a href="#cb378-1607" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb378-1608"><a href="#cb378-1608" aria-hidden="true" tabindex="-1"></a><span class="co"># all on one graph</span></span>
<span id="cb378-1609"><a href="#cb378-1609" aria-hidden="true" tabindex="-1"></a>pFlow_propNegDataBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1610"><a href="#cb378-1610" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1611"><a href="#cb378-1611" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mF_log10<span class="sc">-</span><span class="fu">mean</span>(mF_log10))<span class="sc">/</span><span class="fu">sd</span>(mF_log10),</span>
<span id="cb378-1612"><a href="#cb378-1612" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Flow"</span>,</span>
<span id="cb378-1613"><a href="#cb378-1613" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brook Trout"</span>)</span>
<span id="cb378-1614"><a href="#cb378-1614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1615"><a href="#cb378-1615" aria-hidden="true" tabindex="-1"></a>pMT_propNegDataBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1616"><a href="#cb378-1616" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1617"><a href="#cb378-1617" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mT<span class="sc">-</span><span class="fu">mean</span>(mT))<span class="sc">/</span><span class="fu">sd</span>(mT),</span>
<span id="cb378-1618"><a href="#cb378-1618" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Temperature"</span>,</span>
<span id="cb378-1619"><a href="#cb378-1619" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brook Trout"</span>)</span>
<span id="cb378-1620"><a href="#cb378-1620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1621"><a href="#cb378-1621" aria-hidden="true" tabindex="-1"></a>pNInd_propNegDataBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1622"><a href="#cb378-1622" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1623"><a href="#cb378-1623" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (nInd<span class="sc">-</span><span class="fu">mean</span>(nInd))<span class="sc">/</span><span class="fu">sd</span>(nInd),</span>
<span id="cb378-1624"><a href="#cb378-1624" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Num inds"</span>,</span>
<span id="cb378-1625"><a href="#cb378-1625" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brook Trout"</span>)</span>
<span id="cb378-1626"><a href="#cb378-1626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1627"><a href="#cb378-1627" aria-hidden="true" tabindex="-1"></a>pYear_propNegDataBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1628"><a href="#cb378-1628" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1629"><a href="#cb378-1629" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (year<span class="sc">-</span><span class="fu">mean</span>(year))<span class="sc">/</span><span class="fu">sd</span>(year),</span>
<span id="cb378-1630"><a href="#cb378-1630" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Year"</span>,</span>
<span id="cb378-1631"><a href="#cb378-1631" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brook Trout"</span>)</span>
<span id="cb378-1632"><a href="#cb378-1632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1633"><a href="#cb378-1633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1634"><a href="#cb378-1634" aria-hidden="true" tabindex="-1"></a>all_propNegDataBKT <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(pFlow_propNegDataBKT, pMT_propNegDataBKT, pNInd_propNegDataBKT, pYear_propNegDataBKT)</span>
<span id="cb378-1635"><a href="#cb378-1635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1636"><a href="#cb378-1636" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb378-1637"><a href="#cb378-1637" aria-hidden="true" tabindex="-1"></a>all_propNegDataBKT_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_propNegDataBKT, <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> var)) <span class="sc">+</span></span>
<span id="cb378-1638"><a href="#cb378-1638" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb378-1639"><a href="#cb378-1639" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1640"><a href="#cb378-1640" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-1641"><a href="#cb378-1641" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Scaled value"</span>)</span>
<span id="cb378-1642"><a href="#cb378-1642" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb378-1643"><a href="#cb378-1643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1644"><a href="#cb378-1644" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb378-1645"><a href="#cb378-1645" aria-hidden="true" tabindex="-1"></a><span class="co"># All river on one graph</span></span>
<span id="cb378-1646"><a href="#cb378-1646" aria-hidden="true" tabindex="-1"></a>partialWBBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1647"><a href="#cb378-1647" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_West_Brook"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1648"><a href="#cb378-1648" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"West Brook"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1649"><a href="#cb378-1649" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_West_Brook"</span>)</span>
<span id="cb378-1650"><a href="#cb378-1650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1651"><a href="#cb378-1651" aria-hidden="true" tabindex="-1"></a>partialOLBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1652"><a href="#cb378-1652" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_Open_Large"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train)<span class="sc">|&gt;</span> </span>
<span id="cb378-1653"><a href="#cb378-1653" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"Open Large"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1654"><a href="#cb378-1654" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_Open_Large"</span>)</span>
<span id="cb378-1655"><a href="#cb378-1655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1656"><a href="#cb378-1656" aria-hidden="true" tabindex="-1"></a>partialOSBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1657"><a href="#cb378-1657" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_Open_Small"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1658"><a href="#cb378-1658" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"Open Small"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1659"><a href="#cb378-1659" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_Open_Small"</span>)</span>
<span id="cb378-1660"><a href="#cb378-1660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1661"><a href="#cb378-1661" aria-hidden="true" tabindex="-1"></a>partialISBKT <span class="ot">&lt;-</span> propNegBKT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1662"><a href="#cb378-1662" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_Isolated_Small"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBKT<span class="sc">$</span>features_train)<span class="sc">|&gt;</span> </span>
<span id="cb378-1663"><a href="#cb378-1663" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"Isolated Small"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1664"><a href="#cb378-1664" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_Isolated_Small"</span>)</span>
<span id="cb378-1665"><a href="#cb378-1665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1666"><a href="#cb378-1666" aria-hidden="true" tabindex="-1"></a>partialRiversBKT <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(partialWBBKT, partialOLBKT, partialOSBKT, partialISBKT) <span class="sc">|&gt;</span> </span>
<span id="cb378-1667"><a href="#cb378-1667" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb378-1668"><a href="#cb378-1668" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RiverEffect =</span> <span class="fu">ifelse</span>(x <span class="sc">==</span><span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>),</span>
<span id="cb378-1669"><a href="#cb378-1669" aria-hidden="true" tabindex="-1"></a>         <span class="at">riverOrdered =</span> <span class="fu">factor</span>(riverGG, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>, <span class="st">"Open Small"</span>, <span class="st">"Isolated Small"</span>), </span>
<span id="cb378-1670"><a href="#cb378-1670" aria-hidden="true" tabindex="-1"></a>                             <span class="at">ordered =</span> T))</span>
<span id="cb378-1671"><a href="#cb378-1671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1672"><a href="#cb378-1672" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(partialRiversBKT, <span class="fu">aes</span>(riverOrdered, yhat, <span class="at">fill =</span> <span class="fu">factor</span>(RiverEffect))) <span class="sc">+</span></span>
<span id="cb378-1673"><a href="#cb378-1673" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb378-1674"><a href="#cb378-1674" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>)</span>
<span id="cb378-1675"><a href="#cb378-1675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1676"><a href="#cb378-1676" aria-hidden="true" tabindex="-1"></a><span class="do">### Interaction plots ##################################################################</span></span>
<span id="cb378-1677"><a href="#cb378-1677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1678"><a href="#cb378-1678" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBKT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mT"</span>, <span class="at">X =</span> propNegBKT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mF_log10"</span>)) <span class="sc">+</span></span>
<span id="cb378-1679"><a href="#cb378-1679" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mF_log10), <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1680"><a href="#cb378-1680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1681"><a href="#cb378-1681" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBKT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegBKT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mT"</span>)) <span class="sc">+</span></span>
<span id="cb378-1682"><a href="#cb378-1682" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mT), <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1683"><a href="#cb378-1683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1684"><a href="#cb378-1684" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBKT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegBKT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="fu">c</span>(<span class="st">"nInd"</span>))) <span class="sc">+</span></span>
<span id="cb378-1685"><a href="#cb378-1685" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> nInd), <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1686"><a href="#cb378-1686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1687"><a href="#cb378-1687" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb378-1688"><a href="#cb378-1688" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1689"><a href="#cb378-1689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1690"><a href="#cb378-1690" aria-hidden="true" tabindex="-1"></a><span class="fu">### Brown trout</span></span>
<span id="cb378-1693"><a href="#cb378-1693" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1694"><a href="#cb378-1694" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: runXGB_BNT</span></span>
<span id="cb378-1695"><a href="#cb378-1695" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-1696"><a href="#cb378-1696" aria-hidden="true" tabindex="-1"></a><span class="co"># hpPropNegBNT &lt;- runHyperparamSearch(</span></span>
<span id="cb378-1697"><a href="#cb378-1697" aria-hidden="true" tabindex="-1"></a><span class="co">#   d = propNegSRsN |&gt;  filter(speciesGG == "Brown trout", year &gt; 2001),</span></span>
<span id="cb378-1698"><a href="#cb378-1698" aria-hidden="true" tabindex="-1"></a><span class="co">#   vars = c("riverGG", "year", "mT", "mF_log10", "nInd", "propNeg"),</span></span>
<span id="cb378-1699"><a href="#cb378-1699" aria-hidden="true" tabindex="-1"></a><span class="co">#   early_stopping_roundsIn = 250</span></span>
<span id="cb378-1700"><a href="#cb378-1700" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb378-1701"><a href="#cb378-1701" aria-hidden="true" tabindex="-1"></a><span class="co"># save(hpPropNegBNT, file = "./data/out/hyperParam/hpPropNegBNT_250.RData")</span></span>
<span id="cb378-1702"><a href="#cb378-1702" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"./data/out/hyperParam/hpPropNegBNT_250.RData"</span>)</span>
<span id="cb378-1703"><a href="#cb378-1703" aria-hidden="true" tabindex="-1"></a>hpPropNegBNT[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,]</span>
<span id="cb378-1704"><a href="#cb378-1704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1705"><a href="#cb378-1705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1706"><a href="#cb378-1706" aria-hidden="true" tabindex="-1"></a><span class="co"># propNegBNT &lt;- runXGB(</span></span>
<span id="cb378-1707"><a href="#cb378-1707" aria-hidden="true" tabindex="-1"></a><span class="co">#   d = propNegSRsN |&gt;  filter(speciesGG == "Brown trout", year &gt; 2001),</span></span>
<span id="cb378-1708"><a href="#cb378-1708" aria-hidden="true" tabindex="-1"></a><span class="co">#   vars = c("riverGG", "year", "mT", "mF_log10", "nInd", "propNeg"),</span></span>
<span id="cb378-1709"><a href="#cb378-1709" aria-hidden="true" tabindex="-1"></a><span class="co">#   nRoundsIn = 150000,</span></span>
<span id="cb378-1710"><a href="#cb378-1710" aria-hidden="true" tabindex="-1"></a><span class="co">#   params = hpPropNegBNT[1,]</span></span>
<span id="cb378-1711"><a href="#cb378-1711" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb378-1712"><a href="#cb378-1712" aria-hidden="true" tabindex="-1"></a><span class="co"># save(propNegBNT, file = "./data/out/hyperParam/XGBpropNegBNT_250.RData")</span></span>
<span id="cb378-1713"><a href="#cb378-1713" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"./data/out/hyperParam/XGBpropNegBNT_250.RData"</span>)</span>
<span id="cb378-1714"><a href="#cb378-1714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1715"><a href="#cb378-1715" aria-hidden="true" tabindex="-1"></a>propNegBNT<span class="sc">$</span>xgb<span class="sc">$</span>best_iteration</span>
<span id="cb378-1716"><a href="#cb378-1716" aria-hidden="true" tabindex="-1"></a>propNegBNT<span class="sc">$</span>xgb<span class="sc">$</span>best_score</span>
<span id="cb378-1717"><a href="#cb378-1717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1718"><a href="#cb378-1718" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plot</span></span>
<span id="cb378-1719"><a href="#cb378-1719" aria-hidden="true" tabindex="-1"></a>viBNT <span class="ot">&lt;-</span> <span class="fu">xgb.importance</span>(<span class="at">model =</span> propNegBNT<span class="sc">$</span>xgb)</span>
<span id="cb378-1720"><a href="#cb378-1720" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(viBNT, <span class="at">top_n =</span> <span class="dv">10</span>, <span class="at">measure =</span> <span class="st">"Gain"</span>)</span>
<span id="cb378-1721"><a href="#cb378-1721" aria-hidden="true" tabindex="-1"></a><span class="do">####################################################################</span></span>
<span id="cb378-1722"><a href="#cb378-1722" aria-hidden="true" tabindex="-1"></a><span class="co">#s_propNegBNT &lt;- hstats(propNegBNT$xgb, v = propNegBNT$new_vars, X = propNegBNT$features_train)</span></span>
<span id="cb378-1723"><a href="#cb378-1723" aria-hidden="true" tabindex="-1"></a><span class="co"># s_propNegBNT</span></span>
<span id="cb378-1724"><a href="#cb378-1724" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegBNT)</span></span>
<span id="cb378-1725"><a href="#cb378-1725" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb378-1726"><a href="#cb378-1726" aria-hidden="true" tabindex="-1"></a><span class="co"># # top 5 2-way interactions</span></span>
<span id="cb378-1727"><a href="#cb378-1727" aria-hidden="true" tabindex="-1"></a><span class="co"># h2_pairwise(s_propNegBNT, normalize = FALSE, squared = FALSE, top_m = 8)</span></span>
<span id="cb378-1728"><a href="#cb378-1728" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb378-1729"><a href="#cb378-1729" aria-hidden="true" tabindex="-1"></a><span class="co"># # 3-way interactions</span></span>
<span id="cb378-1730"><a href="#cb378-1730" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegBNT, which = 1:3, normalize = F, squared = F, facet_scales = "free_y", ncol = 1)</span></span>
<span id="cb378-1731"><a href="#cb378-1731" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1732"><a href="#cb378-1732" aria-hidden="true" tabindex="-1"></a><span class="do">## Partial dep plots ################################################################</span></span>
<span id="cb378-1733"><a href="#cb378-1733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1734"><a href="#cb378-1734" aria-hidden="true" tabindex="-1"></a>pFlow_propNeg <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1735"><a href="#cb378-1735" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1736"><a href="#cb378-1736" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1737"><a href="#cb378-1737" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1738"><a href="#cb378-1738" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_y_discrete() +</span></span>
<span id="cb378-1739"><a href="#cb378-1739" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle("PDP")</span></span>
<span id="cb378-1740"><a href="#cb378-1740" aria-hidden="true" tabindex="-1"></a>pTemp_propNeg <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1741"><a href="#cb378-1741" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1742"><a href="#cb378-1742" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1743"><a href="#cb378-1743" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1744"><a href="#cb378-1744" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1745"><a href="#cb378-1745" aria-hidden="true" tabindex="-1"></a>pNInd_propNeg <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1746"><a href="#cb378-1746" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1747"><a href="#cb378-1747" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1748"><a href="#cb378-1748" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1749"><a href="#cb378-1749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1750"><a href="#cb378-1750" aria-hidden="true" tabindex="-1"></a>pYear_propNeg <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1751"><a href="#cb378-1751" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1752"><a href="#cb378-1752" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1753"><a href="#cb378-1753" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1754"><a href="#cb378-1754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1755"><a href="#cb378-1755" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pFlow_propNeg, pTemp_propNeg, pNInd_propNeg, pYear_propNeg, <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb378-1756"><a href="#cb378-1756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1757"><a href="#cb378-1757" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb378-1758"><a href="#cb378-1758" aria-hidden="true" tabindex="-1"></a><span class="co"># all partials on one graph</span></span>
<span id="cb378-1759"><a href="#cb378-1759" aria-hidden="true" tabindex="-1"></a>pFlow_propNegDataBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1760"><a href="#cb378-1760" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1761"><a href="#cb378-1761" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mF_log10<span class="sc">-</span><span class="fu">mean</span>(mF_log10))<span class="sc">/</span><span class="fu">sd</span>(mF_log10),</span>
<span id="cb378-1762"><a href="#cb378-1762" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Flow"</span>,</span>
<span id="cb378-1763"><a href="#cb378-1763" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brown Trout"</span>)</span>
<span id="cb378-1764"><a href="#cb378-1764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1765"><a href="#cb378-1765" aria-hidden="true" tabindex="-1"></a>pMT_propNegDataBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1766"><a href="#cb378-1766" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1767"><a href="#cb378-1767" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mT<span class="sc">-</span><span class="fu">mean</span>(mT))<span class="sc">/</span><span class="fu">sd</span>(mT),</span>
<span id="cb378-1768"><a href="#cb378-1768" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Temperature"</span>,</span>
<span id="cb378-1769"><a href="#cb378-1769" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brown Trout"</span>)</span>
<span id="cb378-1770"><a href="#cb378-1770" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1771"><a href="#cb378-1771" aria-hidden="true" tabindex="-1"></a>pNInd_propNegDataBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1772"><a href="#cb378-1772" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1773"><a href="#cb378-1773" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (nInd<span class="sc">-</span><span class="fu">mean</span>(nInd))<span class="sc">/</span><span class="fu">sd</span>(nInd),</span>
<span id="cb378-1774"><a href="#cb378-1774" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Num inds"</span>,</span>
<span id="cb378-1775"><a href="#cb378-1775" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brown Trout"</span>)</span>
<span id="cb378-1776"><a href="#cb378-1776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1777"><a href="#cb378-1777" aria-hidden="true" tabindex="-1"></a>pYear_propNegDataBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1778"><a href="#cb378-1778" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1779"><a href="#cb378-1779" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (year<span class="sc">-</span><span class="fu">mean</span>(year))<span class="sc">/</span><span class="fu">sd</span>(year),</span>
<span id="cb378-1780"><a href="#cb378-1780" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Year"</span>,</span>
<span id="cb378-1781"><a href="#cb378-1781" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Brown Trout"</span>)</span>
<span id="cb378-1782"><a href="#cb378-1782" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1783"><a href="#cb378-1783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1784"><a href="#cb378-1784" aria-hidden="true" tabindex="-1"></a>all_propNegDataBNT <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(pFlow_propNegDataBNT, pMT_propNegDataBNT, pNInd_propNegDataBNT, pYear_propNegDataBNT)</span>
<span id="cb378-1785"><a href="#cb378-1785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1786"><a href="#cb378-1786" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb378-1787"><a href="#cb378-1787" aria-hidden="true" tabindex="-1"></a>all_propNegDataBNT_gg <span class="ot">&lt;-</span> </span>
<span id="cb378-1788"><a href="#cb378-1788" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(all_propNegDataBNT, <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> var)) <span class="sc">+</span></span>
<span id="cb378-1789"><a href="#cb378-1789" aria-hidden="true" tabindex="-1"></a>    <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb378-1790"><a href="#cb378-1790" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1791"><a href="#cb378-1791" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-1792"><a href="#cb378-1792" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Scaled value"</span>)</span>
<span id="cb378-1793"><a href="#cb378-1793" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb378-1794"><a href="#cb378-1794" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb378-1795"><a href="#cb378-1795" aria-hidden="true" tabindex="-1"></a><span class="co"># All river on one graph</span></span>
<span id="cb378-1796"><a href="#cb378-1796" aria-hidden="true" tabindex="-1"></a>partialWBBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1797"><a href="#cb378-1797" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_West_Brook"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1798"><a href="#cb378-1798" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"West Brook"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1799"><a href="#cb378-1799" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_West_Brook"</span>)</span>
<span id="cb378-1800"><a href="#cb378-1800" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1801"><a href="#cb378-1801" aria-hidden="true" tabindex="-1"></a>partialOLBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1802"><a href="#cb378-1802" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_Open_Large"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train)<span class="sc">|&gt;</span> </span>
<span id="cb378-1803"><a href="#cb378-1803" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"Open Large"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1804"><a href="#cb378-1804" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_Open_Large"</span>)</span>
<span id="cb378-1805"><a href="#cb378-1805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1806"><a href="#cb378-1806" aria-hidden="true" tabindex="-1"></a>partialOSBNT <span class="ot">&lt;-</span> propNegBNT<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1807"><a href="#cb378-1807" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"riverGG_lev_x_Open_Small"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegBNT<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1808"><a href="#cb378-1808" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">riverGG =</span> <span class="st">"Open Small"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1809"><a href="#cb378-1809" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">"riverGG_lev_x_Open_Small"</span>)</span>
<span id="cb378-1810"><a href="#cb378-1810" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1811"><a href="#cb378-1811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1812"><a href="#cb378-1812" aria-hidden="true" tabindex="-1"></a>partialRiversBNT <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(partialWBBNT, partialOLBNT, partialOSBNT) <span class="sc">|&gt;</span> </span>
<span id="cb378-1813"><a href="#cb378-1813" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb378-1814"><a href="#cb378-1814" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RiverEffect =</span> <span class="fu">ifelse</span>(x <span class="sc">==</span><span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>),</span>
<span id="cb378-1815"><a href="#cb378-1815" aria-hidden="true" tabindex="-1"></a>         <span class="at">riverOrdered =</span> <span class="fu">factor</span>(riverGG, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>, <span class="st">"Open Small"</span>), </span>
<span id="cb378-1816"><a href="#cb378-1816" aria-hidden="true" tabindex="-1"></a>                             <span class="at">ordered =</span> T))</span>
<span id="cb378-1817"><a href="#cb378-1817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1818"><a href="#cb378-1818" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(partialRiversBNT, <span class="fu">aes</span>(riverOrdered, yhat, <span class="at">fill =</span> <span class="fu">factor</span>(RiverEffect))) <span class="sc">+</span></span>
<span id="cb378-1819"><a href="#cb378-1819" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb378-1820"><a href="#cb378-1820" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>)</span>
<span id="cb378-1821"><a href="#cb378-1821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1822"><a href="#cb378-1822" aria-hidden="true" tabindex="-1"></a><span class="do">### Interaction plots ##################################################################</span></span>
<span id="cb378-1823"><a href="#cb378-1823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1824"><a href="#cb378-1824" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBNT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mT"</span>, <span class="at">X =</span> propNegBNT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mF_log10"</span>)) <span class="sc">+</span></span>
<span id="cb378-1825"><a href="#cb378-1825" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mF_log10), <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1826"><a href="#cb378-1826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1827"><a href="#cb378-1827" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBNT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegBNT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mT"</span>)) <span class="sc">+</span></span>
<span id="cb378-1828"><a href="#cb378-1828" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mT), <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1829"><a href="#cb378-1829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1830"><a href="#cb378-1830" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegBNT<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegBNT<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="fu">c</span>(<span class="st">"nInd"</span>))) <span class="sc">+</span></span>
<span id="cb378-1831"><a href="#cb378-1831" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> nInd), <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1832"><a href="#cb378-1832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1833"><a href="#cb378-1833" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb378-1834"><a href="#cb378-1834" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1835"><a href="#cb378-1835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1836"><a href="#cb378-1836" aria-hidden="true" tabindex="-1"></a><span class="fu">### Atlantic salmon</span></span>
<span id="cb378-1839"><a href="#cb378-1839" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1840"><a href="#cb378-1840" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: runXGB_ATS</span></span>
<span id="cb378-1841"><a href="#cb378-1841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1842"><a href="#cb378-1842" aria-hidden="true" tabindex="-1"></a><span class="co"># hpPropNegATS &lt;- runHyperparamSearch(</span></span>
<span id="cb378-1843"><a href="#cb378-1843" aria-hidden="true" tabindex="-1"></a><span class="co">#   d = propNegSRsN |&gt;  filter(speciesGG == "Atlantic salmon", riverGG == "West Brook", year &lt; 2007),</span></span>
<span id="cb378-1844"><a href="#cb378-1844" aria-hidden="true" tabindex="-1"></a><span class="co">#   vars = c("year", "mT", "mF_log10", "nInd", "propNeg"),</span></span>
<span id="cb378-1845"><a href="#cb378-1845" aria-hidden="true" tabindex="-1"></a><span class="co">#   early_stopping_roundsIn = 250</span></span>
<span id="cb378-1846"><a href="#cb378-1846" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb378-1847"><a href="#cb378-1847" aria-hidden="true" tabindex="-1"></a><span class="co"># save(hpPropNegATS, file = "./data/out/hyperParam/hpPropNegATS_250.RData")</span></span>
<span id="cb378-1848"><a href="#cb378-1848" aria-hidden="true" tabindex="-1"></a><span class="co">#load("./data/out/hyperParam/hpPropNegATS_250.RData")</span></span>
<span id="cb378-1849"><a href="#cb378-1849" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1850"><a href="#cb378-1850" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"./data/out/hyperParam/hpPropNegATS.RData"</span>)</span>
<span id="cb378-1851"><a href="#cb378-1851" aria-hidden="true" tabindex="-1"></a>hpPropNegATS[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,]</span>
<span id="cb378-1852"><a href="#cb378-1852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1853"><a href="#cb378-1853" aria-hidden="true" tabindex="-1"></a>propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Atlantic salmon"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1854"><a href="#cb378-1854" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, n, <span class="at">color =</span> seasonGG)) <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>riverGG)</span>
<span id="cb378-1855"><a href="#cb378-1855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1856"><a href="#cb378-1856" aria-hidden="true" tabindex="-1"></a>propNegATS <span class="ot">&lt;-</span> <span class="fu">runXGB</span>(</span>
<span id="cb378-1857"><a href="#cb378-1857" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Atlantic salmon"</span>, riverGG <span class="sc">==</span> <span class="st">"West Brook"</span>, year <span class="sc">&lt;</span> <span class="dv">2007</span>),</span>
<span id="cb378-1858"><a href="#cb378-1858" aria-hidden="true" tabindex="-1"></a>  <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"mT"</span>, <span class="st">"mF_log10"</span>, <span class="st">"nInd"</span>, <span class="st">"propNeg"</span>),</span>
<span id="cb378-1859"><a href="#cb378-1859" aria-hidden="true" tabindex="-1"></a>  <span class="at">params =</span> hpPropNegATS[<span class="dv">1</span>,]</span>
<span id="cb378-1860"><a href="#cb378-1860" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb378-1861"><a href="#cb378-1861" aria-hidden="true" tabindex="-1"></a><span class="co"># save(propNegATS, file = "./data/out/hyperParam/XGBpropNegATS_250.RData")</span></span>
<span id="cb378-1862"><a href="#cb378-1862" aria-hidden="true" tabindex="-1"></a><span class="co">#load("./data/out/hyperParam/XGBpropNegATS_250.RData")</span></span>
<span id="cb378-1863"><a href="#cb378-1863" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1864"><a href="#cb378-1864" aria-hidden="true" tabindex="-1"></a>propNegATS<span class="sc">$</span>xgb<span class="sc">$</span>best_iteration</span>
<span id="cb378-1865"><a href="#cb378-1865" aria-hidden="true" tabindex="-1"></a>propNegATS<span class="sc">$</span>xgb<span class="sc">$</span>best_score</span>
<span id="cb378-1866"><a href="#cb378-1866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1867"><a href="#cb378-1867" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plot</span></span>
<span id="cb378-1868"><a href="#cb378-1868" aria-hidden="true" tabindex="-1"></a>viATS <span class="ot">&lt;-</span> <span class="fu">xgb.importance</span>(<span class="at">model =</span> propNegATS<span class="sc">$</span>xgb)</span>
<span id="cb378-1869"><a href="#cb378-1869" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(viATS, <span class="at">top_n =</span> <span class="dv">10</span>, <span class="at">measure =</span> <span class="st">"Gain"</span>)</span>
<span id="cb378-1870"><a href="#cb378-1870" aria-hidden="true" tabindex="-1"></a><span class="do">####################################################################</span></span>
<span id="cb378-1871"><a href="#cb378-1871" aria-hidden="true" tabindex="-1"></a><span class="co">#s_propNegATS &lt;- hstats(propNegATS$xgb, v = propNegATS$new_vars, X = propNegATS$features_train)</span></span>
<span id="cb378-1872"><a href="#cb378-1872" aria-hidden="true" tabindex="-1"></a><span class="co"># s_propNegATS</span></span>
<span id="cb378-1873"><a href="#cb378-1873" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegATS)</span></span>
<span id="cb378-1874"><a href="#cb378-1874" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb378-1875"><a href="#cb378-1875" aria-hidden="true" tabindex="-1"></a><span class="co"># # top 5 2-way interactions</span></span>
<span id="cb378-1876"><a href="#cb378-1876" aria-hidden="true" tabindex="-1"></a><span class="co"># h2_pairwise(s_propNegATS, normalize = FALSE, squared = FALSE, top_m = 8)</span></span>
<span id="cb378-1877"><a href="#cb378-1877" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb378-1878"><a href="#cb378-1878" aria-hidden="true" tabindex="-1"></a><span class="co"># # 3-way interactions</span></span>
<span id="cb378-1879"><a href="#cb378-1879" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(s_propNegATS, which = 1:3, normalize = F, squared = F, facet_scales = "free_y", ncol = 1)</span></span>
<span id="cb378-1880"><a href="#cb378-1880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1881"><a href="#cb378-1881" aria-hidden="true" tabindex="-1"></a><span class="do">## Partial dep plots ################################################################</span></span>
<span id="cb378-1882"><a href="#cb378-1882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1883"><a href="#cb378-1883" aria-hidden="true" tabindex="-1"></a>pFlow_propNegATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1884"><a href="#cb378-1884" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1885"><a href="#cb378-1885" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1886"><a href="#cb378-1886" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1887"><a href="#cb378-1887" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_y_discrete() +</span></span>
<span id="cb378-1888"><a href="#cb378-1888" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle("PDP")</span></span>
<span id="cb378-1889"><a href="#cb378-1889" aria-hidden="true" tabindex="-1"></a>pTemp_propNegATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1890"><a href="#cb378-1890" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1891"><a href="#cb378-1891" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1892"><a href="#cb378-1892" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1893"><a href="#cb378-1893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1894"><a href="#cb378-1894" aria-hidden="true" tabindex="-1"></a>pNInd_propNegATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1895"><a href="#cb378-1895" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1896"><a href="#cb378-1896" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1897"><a href="#cb378-1897" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1898"><a href="#cb378-1898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1899"><a href="#cb378-1899" aria-hidden="true" tabindex="-1"></a>pYear_propNegATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1900"><a href="#cb378-1900" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-1901"><a href="#cb378-1901" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">+</span></span>
<span id="cb378-1902"><a href="#cb378-1902" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1903"><a href="#cb378-1903" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1904"><a href="#cb378-1904" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pFlow_propNegATS, pTemp_propNegATS, pNInd_propNegATS, pYear_propNegATS, <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb378-1905"><a href="#cb378-1905" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1906"><a href="#cb378-1906" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb378-1907"><a href="#cb378-1907" aria-hidden="true" tabindex="-1"></a><span class="co"># all on one graph</span></span>
<span id="cb378-1908"><a href="#cb378-1908" aria-hidden="true" tabindex="-1"></a>pFlow_propNegDataATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1909"><a href="#cb378-1909" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mF_log10"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1910"><a href="#cb378-1910" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mF_log10<span class="sc">-</span><span class="fu">mean</span>(mF_log10))<span class="sc">/</span><span class="fu">sd</span>(mF_log10),</span>
<span id="cb378-1911"><a href="#cb378-1911" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Flow"</span>,</span>
<span id="cb378-1912"><a href="#cb378-1912" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Atlantic Salmon"</span>)</span>
<span id="cb378-1913"><a href="#cb378-1913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1914"><a href="#cb378-1914" aria-hidden="true" tabindex="-1"></a>pMT_propNegDataATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1915"><a href="#cb378-1915" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"mT"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1916"><a href="#cb378-1916" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (mT<span class="sc">-</span><span class="fu">mean</span>(mT))<span class="sc">/</span><span class="fu">sd</span>(mT),</span>
<span id="cb378-1917"><a href="#cb378-1917" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Temperature"</span>,</span>
<span id="cb378-1918"><a href="#cb378-1918" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Atlantic Salmon"</span>)</span>
<span id="cb378-1919"><a href="#cb378-1919" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1920"><a href="#cb378-1920" aria-hidden="true" tabindex="-1"></a>pNInd_propNegDataATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1921"><a href="#cb378-1921" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"nInd"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1922"><a href="#cb378-1922" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (nInd<span class="sc">-</span><span class="fu">mean</span>(nInd))<span class="sc">/</span><span class="fu">sd</span>(nInd),</span>
<span id="cb378-1923"><a href="#cb378-1923" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Num inds"</span>,</span>
<span id="cb378-1924"><a href="#cb378-1924" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Atlantic Salmon"</span>)</span>
<span id="cb378-1925"><a href="#cb378-1925" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1926"><a href="#cb378-1926" aria-hidden="true" tabindex="-1"></a>pYear_propNegDataATS <span class="ot">&lt;-</span> propNegATS<span class="sc">$</span>xgb <span class="sc">%&gt;%</span></span>
<span id="cb378-1927"><a href="#cb378-1927" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"year"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> propNegATS<span class="sc">$</span>features_train) <span class="sc">|&gt;</span> </span>
<span id="cb378-1928"><a href="#cb378-1928" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xScaled =</span> (year<span class="sc">-</span><span class="fu">mean</span>(year))<span class="sc">/</span><span class="fu">sd</span>(year),</span>
<span id="cb378-1929"><a href="#cb378-1929" aria-hidden="true" tabindex="-1"></a>         <span class="at">var =</span> <span class="st">"Year"</span>,</span>
<span id="cb378-1930"><a href="#cb378-1930" aria-hidden="true" tabindex="-1"></a>         <span class="at">speciesGG =</span> <span class="st">"Atlantic Salmon"</span>)</span>
<span id="cb378-1931"><a href="#cb378-1931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1932"><a href="#cb378-1932" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1933"><a href="#cb378-1933" aria-hidden="true" tabindex="-1"></a>all_propNegDataATS <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(pFlow_propNegDataATS, pMT_propNegDataATS, pNInd_propNegDataATS, pYear_propNegDataATS)</span>
<span id="cb378-1934"><a href="#cb378-1934" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1935"><a href="#cb378-1935" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb378-1936"><a href="#cb378-1936" aria-hidden="true" tabindex="-1"></a>all_propNegDataATS_gg <span class="ot">&lt;-</span> </span>
<span id="cb378-1937"><a href="#cb378-1937" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(all_propNegDataATS, <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> var)) <span class="sc">+</span></span>
<span id="cb378-1938"><a href="#cb378-1938" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb378-1939"><a href="#cb378-1939" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1940"><a href="#cb378-1940" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-1941"><a href="#cb378-1941" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Scaled value"</span>)</span>
<span id="cb378-1942"><a href="#cb378-1942" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb378-1943"><a href="#cb378-1943" aria-hidden="true" tabindex="-1"></a><span class="do">### Interaction plots ##################################################################</span></span>
<span id="cb378-1944"><a href="#cb378-1944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1945"><a href="#cb378-1945" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegATS<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mT"</span>, <span class="at">X =</span> propNegATS<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mF_log10"</span>)) <span class="sc">+</span></span>
<span id="cb378-1946"><a href="#cb378-1946" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mF_log10), <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1947"><a href="#cb378-1947" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1948"><a href="#cb378-1948" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegATS<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegATS<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="st">"mT"</span>)) <span class="sc">+</span></span>
<span id="cb378-1949"><a href="#cb378-1949" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> mT), <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1950"><a href="#cb378-1950" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1951"><a href="#cb378-1951" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(propNegATS<span class="sc">$</span>xgb, <span class="at">v =</span> <span class="st">"mF_log10"</span>, <span class="at">X =</span> propNegATS<span class="sc">$</span>features_train, <span class="at">BY =</span> <span class="fu">c</span>(<span class="st">"nInd"</span>))) <span class="sc">+</span></span>
<span id="cb378-1952"><a href="#cb378-1952" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> nInd), <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-1953"><a href="#cb378-1953" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1954"><a href="#cb378-1954" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################</span></span>
<span id="cb378-1955"><a href="#cb378-1955" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-1956"><a href="#cb378-1956" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1957"><a href="#cb378-1957" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3 species together</span></span>
<span id="cb378-1960"><a href="#cb378-1960" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-1961"><a href="#cb378-1961" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: threeSppVIP</span></span>
<span id="cb378-1962"><a href="#cb378-1962" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1963"><a href="#cb378-1963" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plots</span></span>
<span id="cb378-1964"><a href="#cb378-1964" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1965"><a href="#cb378-1965" aria-hidden="true" tabindex="-1"></a>viAll <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb378-1966"><a href="#cb378-1966" aria-hidden="true" tabindex="-1"></a>  viBKT <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(Feature, Gain) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">speciesGG =</span> <span class="st">"Brook Trout"</span>),</span>
<span id="cb378-1967"><a href="#cb378-1967" aria-hidden="true" tabindex="-1"></a>  viBNT <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(Feature, Gain) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">speciesGG =</span> <span class="st">"Brown Trout"</span>),</span>
<span id="cb378-1968"><a href="#cb378-1968" aria-hidden="true" tabindex="-1"></a>  viATS <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(Feature, Gain) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">speciesGG =</span> <span class="st">"Atlantic Salmon"</span>)</span>
<span id="cb378-1969"><a href="#cb378-1969" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb378-1970"><a href="#cb378-1970" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sppOrdered =</span> <span class="fu">factor</span>(speciesGG, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Brook Trout"</span>, <span class="st">"Brown Trout"</span>, <span class="st">"Atlantic Salmon"</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb378-1971"><a href="#cb378-1971" aria-hidden="true" tabindex="-1"></a>         <span class="at">feature2 =</span> <span class="fu">case_when</span>(</span>
<span id="cb378-1972"><a href="#cb378-1972" aria-hidden="true" tabindex="-1"></a>           Feature <span class="sc">==</span> <span class="st">"mF_log10"</span> <span class="sc">~</span> <span class="st">"Flow"</span>,</span>
<span id="cb378-1973"><a href="#cb378-1973" aria-hidden="true" tabindex="-1"></a>           Feature <span class="sc">==</span> <span class="st">"mT"</span> <span class="sc">~</span> <span class="st">"Temperature"</span>,</span>
<span id="cb378-1974"><a href="#cb378-1974" aria-hidden="true" tabindex="-1"></a>           Feature <span class="sc">==</span> <span class="st">"nInd"</span> <span class="sc">~</span> <span class="st">"Num Individuals"</span>,</span>
<span id="cb378-1975"><a href="#cb378-1975" aria-hidden="true" tabindex="-1"></a>           Feature <span class="sc">==</span> <span class="st">"year"</span> <span class="sc">~</span> <span class="st">"Year"</span>)</span>
<span id="cb378-1976"><a href="#cb378-1976" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb378-1977"><a href="#cb378-1977" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1978"><a href="#cb378-1978" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(viAll <span class="sc">|&gt;</span> <span class="fu">filter</span>(Feature <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"mF_log10"</span>, <span class="st">"mT"</span>, <span class="st">"nInd"</span>, <span class="st">"year"</span>)), <span class="fu">aes</span>(feature2, Gain, <span class="at">fill =</span> sppOrdered)) <span class="sc">+</span></span>
<span id="cb378-1979"><a href="#cb378-1979" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb378-1980"><a href="#cb378-1980" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-1981"><a href="#cb378-1981" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_grey</span>() <span class="sc">+</span></span>
<span id="cb378-1982"><a href="#cb378-1982" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Variable importance for the proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Variable"</span>)</span>
<span id="cb378-1983"><a href="#cb378-1983" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1984"><a href="#cb378-1984" aria-hidden="true" tabindex="-1"></a><span class="do">########################################################</span></span>
<span id="cb378-1985"><a href="#cb378-1985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1986"><a href="#cb378-1986" aria-hidden="true" tabindex="-1"></a>all_propNegData3spp <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(all_propNegDataBKT, all_propNegDataBNT, all_propNegDataATS) <span class="sc">|&gt;</span> </span>
<span id="cb378-1987"><a href="#cb378-1987" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sppOrdered =</span> <span class="fu">factor</span>(speciesGG, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Brook Trout"</span>, <span class="st">"Brown Trout"</span>, <span class="st">"Atlantic Salmon"</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb378-1988"><a href="#cb378-1988" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1989"><a href="#cb378-1989" aria-hidden="true" tabindex="-1"></a>all_propNegData3sppFlow_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_propNegData3spp <span class="sc">|&gt;</span> <span class="fu">filter</span>(var <span class="sc">==</span> <span class="st">"Flow"</span>), <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> sppOrdered, <span class="at">linetype =</span> sppOrdered)) <span class="sc">+</span></span>
<span id="cb378-1990"><a href="#cb378-1990" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb378-1991"><a href="#cb378-1991" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-1992"><a href="#cb378-1992" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-1993"><a href="#cb378-1993" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb378-1994"><a href="#cb378-1994" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Scaled flow"</span>) <span class="sc">+</span></span>
<span id="cb378-1995"><a href="#cb378-1995" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)  </span>
<span id="cb378-1996"><a href="#cb378-1996" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1997"><a href="#cb378-1997" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-1998"><a href="#cb378-1998" aria-hidden="true" tabindex="-1"></a>all_propNegData3sppTemp_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_propNegData3spp <span class="sc">|&gt;</span> <span class="fu">filter</span>(var <span class="sc">==</span> <span class="st">"Temperature"</span>), <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> sppOrdered, <span class="at">linetype =</span> sppOrdered)) <span class="sc">+</span></span>
<span id="cb378-1999"><a href="#cb378-1999" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb378-2000"><a href="#cb378-2000" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-2001"><a href="#cb378-2001" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-2002"><a href="#cb378-2002" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb378-2003"><a href="#cb378-2003" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">x =</span> <span class="st">"Scaled temperature"</span>) <span class="sc">+</span></span>
<span id="cb378-2004"><a href="#cb378-2004" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)  </span>
<span id="cb378-2005"><a href="#cb378-2005" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2006"><a href="#cb378-2006" aria-hidden="true" tabindex="-1"></a>all_propNegData3sppNInd_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_propNegData3spp <span class="sc">|&gt;</span> <span class="fu">filter</span>(var <span class="sc">==</span> <span class="st">"Num inds"</span>), <span class="fu">aes</span>(xScaled, yhat, <span class="at">color =</span> sppOrdered, <span class="at">linetype =</span> sppOrdered)) <span class="sc">+</span></span>
<span id="cb378-2007"><a href="#cb378-2007" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb378-2008"><a href="#cb378-2008" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-2009"><a href="#cb378-2009" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-2010"><a href="#cb378-2010" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb378-2011"><a href="#cb378-2011" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Effect on proportion of negative observations"</span>, <span class="at">x =</span> <span class="st">"Scaled Number of individuals"</span>) <span class="sc">+</span></span>
<span id="cb378-2012"><a href="#cb378-2012" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)  </span>
<span id="cb378-2013"><a href="#cb378-2013" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2014"><a href="#cb378-2014" aria-hidden="true" tabindex="-1"></a>all_propNegData3sppYear_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_propNegData3spp <span class="sc">|&gt;</span> <span class="fu">filter</span>(var <span class="sc">==</span> <span class="st">"Year"</span>), <span class="fu">aes</span>(year, yhat, <span class="at">color =</span> sppOrdered, <span class="at">linetype =</span> sppOrdered)) <span class="sc">+</span></span>
<span id="cb378-2015"><a href="#cb378-2015" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(alpha = 0.2) +</span></span>
<span id="cb378-2016"><a href="#cb378-2016" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-2017"><a href="#cb378-2017" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span></span>
<span id="cb378-2018"><a href="#cb378-2018" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb378-2019"><a href="#cb378-2019" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">x =</span> <span class="st">"Year"</span>) <span class="sc">+</span></span>
<span id="cb378-2020"><a href="#cb378-2020" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)  </span>
<span id="cb378-2021"><a href="#cb378-2021" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2022"><a href="#cb378-2022" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(all_propNegData3sppFlow_gg, </span>
<span id="cb378-2023"><a href="#cb378-2023" aria-hidden="true" tabindex="-1"></a>                        all_propNegData3sppTemp_gg,</span>
<span id="cb378-2024"><a href="#cb378-2024" aria-hidden="true" tabindex="-1"></a>                        all_propNegData3sppNInd_gg,</span>
<span id="cb378-2025"><a href="#cb378-2025" aria-hidden="true" tabindex="-1"></a>                        all_propNegData3sppYear_gg)<span class="co"># + labs(y = "Effect on proportion of negative observations")</span></span>
<span id="cb378-2026"><a href="#cb378-2026" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################</span></span>
<span id="cb378-2027"><a href="#cb378-2027" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2028"><a href="#cb378-2028" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2029"><a href="#cb378-2029" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2030"><a href="#cb378-2030" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2031"><a href="#cb378-2031" aria-hidden="true" tabindex="-1"></a><span class="fu">## F/T cycle graphs</span></span>
<span id="cb378-2032"><a href="#cb378-2032" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2033"><a href="#cb378-2033" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mean flow and temperature</span></span>
<span id="cb378-2034"><a href="#cb378-2034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2037"><a href="#cb378-2037" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2038"><a href="#cb378-2038" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_temp_cycle_bySpecies</span></span>
<span id="cb378-2039"><a href="#cb378-2039" aria-hidden="true" tabindex="-1"></a>plot_mT_mF <span class="ot">&lt;-</span> <span class="cf">function</span>(d, s, plotText){</span>
<span id="cb378-2040"><a href="#cb378-2040" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">25</span>, speciesGG <span class="sc">==</span> s), <span class="fu">aes</span>(mT, mF_log10, <span class="at">color =</span> <span class="fu">factor</span>(seasonGG))) <span class="sc">+</span></span>
<span id="cb378-2041"><a href="#cb378-2041" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> propNeg)) <span class="sc">+</span></span>
<span id="cb378-2042"><a href="#cb378-2042" aria-hidden="true" tabindex="-1"></a>    {<span class="cf">if</span>(plotText) <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> year), <span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">nudge_y =</span> <span class="sc">-</span><span class="fl">0.075</span>, <span class="at">check_overlap =</span> <span class="cn">FALSE</span>, <span class="at">size =</span> <span class="dv">3</span>)} <span class="sc">+</span></span>
<span id="cb378-2043"><a href="#cb378-2043" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Mean temperature (C)"</span>, <span class="at">y =</span> <span class="st">"log10 of mean Flow"</span>) <span class="sc">+</span></span>
<span id="cb378-2044"><a href="#cb378-2044" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-2045"><a href="#cb378-2045" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-2046"><a href="#cb378-2046" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-2047"><a href="#cb378-2047" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2048"><a href="#cb378-2048" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2049"><a href="#cb378-2049" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2050"><a href="#cb378-2050" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2051"><a href="#cb378-2051" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-2052"><a href="#cb378-2052" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brook trout</span></span>
<span id="cb378-2053"><a href="#cb378-2053" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2056"><a href="#cb378-2056" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2057"><a href="#cb378-2057" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_temp_cycle_bySpecies_bkt</span></span>
<span id="cb378-2058"><a href="#cb378-2058" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2059"><a href="#cb378-2059" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Brook trout"</span>, <span class="cn">FALSE</span>)</span>
<span id="cb378-2060"><a href="#cb378-2060" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2061"><a href="#cb378-2061" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2062"><a href="#cb378-2062" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brown trout</span></span>
<span id="cb378-2063"><a href="#cb378-2063" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2066"><a href="#cb378-2066" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2067"><a href="#cb378-2067" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_temp_cycle_bySpecies_bnt</span></span>
<span id="cb378-2068"><a href="#cb378-2068" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2069"><a href="#cb378-2069" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Brown trout"</span>, <span class="cn">FALSE</span>)</span>
<span id="cb378-2070"><a href="#cb378-2070" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2071"><a href="#cb378-2071" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2072"><a href="#cb378-2072" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Atlantic salmon</span></span>
<span id="cb378-2073"><a href="#cb378-2073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2076"><a href="#cb378-2076" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2077"><a href="#cb378-2077" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_temp_cycle_bySpecies_ats</span></span>
<span id="cb378-2078"><a href="#cb378-2078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2079"><a href="#cb378-2079" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Atlantic salmon"</span>, <span class="cn">FALSE</span>)</span>
<span id="cb378-2080"><a href="#cb378-2080" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2081"><a href="#cb378-2081" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-2082"><a href="#cb378-2082" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2083"><a href="#cb378-2083" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mean flow and temperature with year labels</span></span>
<span id="cb378-2084"><a href="#cb378-2084" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2085"><a href="#cb378-2085" aria-hidden="true" tabindex="-1"></a><span class="fu">#### panel-tabset</span></span>
<span id="cb378-2086"><a href="#cb378-2086" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2087"><a href="#cb378-2087" aria-hidden="true" tabindex="-1"></a><span class="fu">### Brook trout</span></span>
<span id="cb378-2088"><a href="#cb378-2088" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2091"><a href="#cb378-2091" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2092"><a href="#cb378-2092" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_temp_cycle_bySpeciesYear_bkt</span></span>
<span id="cb378-2093"><a href="#cb378-2093" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2094"><a href="#cb378-2094" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Brook trout"</span>, <span class="cn">TRUE</span>)</span>
<span id="cb378-2095"><a href="#cb378-2095" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2096"><a href="#cb378-2096" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2097"><a href="#cb378-2097" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brown trout</span></span>
<span id="cb378-2098"><a href="#cb378-2098" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2101"><a href="#cb378-2101" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2102"><a href="#cb378-2102" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_temp_cycle_bySpeciesYear_bnt</span></span>
<span id="cb378-2103"><a href="#cb378-2103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2104"><a href="#cb378-2104" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Brown trout"</span>, <span class="cn">TRUE</span>)</span>
<span id="cb378-2105"><a href="#cb378-2105" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2106"><a href="#cb378-2106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2107"><a href="#cb378-2107" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Atlantic salmon</span></span>
<span id="cb378-2108"><a href="#cb378-2108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2111"><a href="#cb378-2111" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2112"><a href="#cb378-2112" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_temp_cycle_bySpeciesYear_ats</span></span>
<span id="cb378-2113"><a href="#cb378-2113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2114"><a href="#cb378-2114" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_mT_mF</span>(propNegSRsN, <span class="st">"Atlantic salmon"</span>, <span class="cn">TRUE</span>)</span>
<span id="cb378-2115"><a href="#cb378-2115" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2116"><a href="#cb378-2116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2117"><a href="#cb378-2117" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-2118"><a href="#cb378-2118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2119"><a href="#cb378-2119" aria-hidden="true" tabindex="-1"></a>Mean flow and temperature values for each season and year for the West</span>
<span id="cb378-2120"><a href="#cb378-2120" aria-hidden="true" tabindex="-1"></a>Brook\</span>
<span id="cb378-2121"><a href="#cb378-2121" aria-hidden="true" tabindex="-1"></a>Not very informative</span>
<span id="cb378-2122"><a href="#cb378-2122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2125"><a href="#cb378-2125" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2126"><a href="#cb378-2126" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flow_temp_cycle_bySpeciesYear2</span></span>
<span id="cb378-2127"><a href="#cb378-2127" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-2128"><a href="#cb378-2128" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(propNegSRsN <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>, riverGG <span class="sc">==</span> <span class="st">'West Brook'</span>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(riverGG, speciesGG, year, seasonGG), <span class="fu">aes</span>(mT, mF_log10)) <span class="sc">+</span></span>
<span id="cb378-2129"><a href="#cb378-2129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb378-2130"><a href="#cb378-2130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(seasonGG))) <span class="sc">+</span></span>
<span id="cb378-2131"><a href="#cb378-2131" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)</span>
<span id="cb378-2132"><a href="#cb378-2132" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2133"><a href="#cb378-2133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2134"><a href="#cb378-2134" aria-hidden="true" tabindex="-1"></a><span class="fu">### Yearly temperature/flow cycles of daily data</span></span>
<span id="cb378-2135"><a href="#cb378-2135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2138"><a href="#cb378-2138" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2139"><a href="#cb378-2139" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: mergePropNegPlot</span></span>
<span id="cb378-2140"><a href="#cb378-2140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2141"><a href="#cb378-2141" aria-hidden="true" tabindex="-1"></a>plotMerged <span class="ot">&lt;-</span> <span class="cf">function</span>(d, r, <span class="at">minYear =</span> <span class="dv">2000</span>, <span class="at">maxYear =</span> <span class="dv">2017</span>){</span>
<span id="cb378-2142"><a href="#cb378-2142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(riverGG <span class="sc">==</span> r, year <span class="sc">%in%</span> <span class="fu">c</span>(minYear<span class="sc">:</span>maxYear)), </span>
<span id="cb378-2143"><a href="#cb378-2143" aria-hidden="true" tabindex="-1"></a>         <span class="fu">aes</span>(temperature, <span class="fu">log10</span>(flowByRiver), <span class="at">color =</span> seasonGG, <span class="at">group =</span> seasonGG)) <span class="sc">+</span></span>
<span id="cb378-2144"><a href="#cb378-2144" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb378-2145"><a href="#cb378-2145" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-2146"><a href="#cb378-2146" aria-hidden="true" tabindex="-1"></a>    <span class="co">#geom_line() +</span></span>
<span id="cb378-2147"><a href="#cb378-2147" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Temperature (C)"</span>, <span class="at">y =</span> <span class="st">"log10 of Flow"</span>) <span class="sc">+</span></span>
<span id="cb378-2148"><a href="#cb378-2148" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-2149"><a href="#cb378-2149" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(r) <span class="sc">+</span></span>
<span id="cb378-2150"><a href="#cb378-2150" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-2151"><a href="#cb378-2151" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>year, <span class="at">scales =</span> <span class="st">'free'</span>)</span>
<span id="cb378-2152"><a href="#cb378-2152" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2153"><a href="#cb378-2153" aria-hidden="true" tabindex="-1"></a><span class="co"># this plots f/t for all three species - good for filling in gaps</span></span>
<span id="cb378-2154"><a href="#cb378-2154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2155"><a href="#cb378-2155" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2156"><a href="#cb378-2156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2157"><a href="#cb378-2157" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-2158"><a href="#cb378-2158" aria-hidden="true" tabindex="-1"></a><span class="fu">#### West Brook</span></span>
<span id="cb378-2159"><a href="#cb378-2159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2162"><a href="#cb378-2162" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2163"><a href="#cb378-2163" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: mergePropNegPlot_wb</span></span>
<span id="cb378-2164"><a href="#cb378-2164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2165"><a href="#cb378-2165" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMerged</span>(envIn_propNeg, <span class="st">"West Brook"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2166"><a href="#cb378-2166" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2167"><a href="#cb378-2167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2168"><a href="#cb378-2168" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Open Large</span></span>
<span id="cb378-2169"><a href="#cb378-2169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2172"><a href="#cb378-2172" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2173"><a href="#cb378-2173" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: mergePropNegPlot_ol</span></span>
<span id="cb378-2174"><a href="#cb378-2174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2175"><a href="#cb378-2175" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMerged</span>(envIn_propNeg, <span class="st">"Open Large"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2176"><a href="#cb378-2176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2177"><a href="#cb378-2177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2178"><a href="#cb378-2178" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Open Small</span></span>
<span id="cb378-2179"><a href="#cb378-2179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2182"><a href="#cb378-2182" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2183"><a href="#cb378-2183" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: mergePropNegPlot_os</span></span>
<span id="cb378-2184"><a href="#cb378-2184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2185"><a href="#cb378-2185" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMerged</span>(envIn_propNeg, <span class="st">"Open Small"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2186"><a href="#cb378-2186" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2187"><a href="#cb378-2187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2188"><a href="#cb378-2188" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Isolated small</span></span>
<span id="cb378-2189"><a href="#cb378-2189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2192"><a href="#cb378-2192" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2193"><a href="#cb378-2193" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fmergePropNegPlot_is</span></span>
<span id="cb378-2194"><a href="#cb378-2194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2195"><a href="#cb378-2195" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMerged</span>(envIn_propNeg, <span class="st">"Isolated Small"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2196"><a href="#cb378-2196" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2197"><a href="#cb378-2197" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-2198"><a href="#cb378-2198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2199"><a href="#cb378-2199" aria-hidden="true" tabindex="-1"></a><span class="fu">### Smooths of temperature/flow cycles of daily data by season</span></span>
<span id="cb378-2200"><a href="#cb378-2200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2203"><a href="#cb378-2203" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2204"><a href="#cb378-2204" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: plotMergedBySeason</span></span>
<span id="cb378-2205"><a href="#cb378-2205" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb378-2206"><a href="#cb378-2206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2207"><a href="#cb378-2207" aria-hidden="true" tabindex="-1"></a>plotMergedBySeason <span class="ot">&lt;-</span> <span class="cf">function</span>(d, r, <span class="at">minYear =</span> <span class="dv">2000</span>, <span class="at">maxYear =</span> <span class="dv">2017</span>) {</span>
<span id="cb378-2208"><a href="#cb378-2208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(riverGG <span class="sc">==</span> r, year <span class="sc">%in%</span> <span class="fu">c</span>(minYear<span class="sc">:</span>maxYear), <span class="sc">!</span><span class="fu">is.na</span>(seasonGG)), </span>
<span id="cb378-2209"><a href="#cb378-2209" aria-hidden="true" tabindex="-1"></a>         <span class="fu">aes</span>(temperature, <span class="fu">log10</span>(flowByRiver), </span>
<span id="cb378-2210"><a href="#cb378-2210" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="fu">factor</span>(year), <span class="at">group =</span> year</span>
<span id="cb378-2211"><a href="#cb378-2211" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb378-2212"><a href="#cb378-2212" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">+</span></span>
<span id="cb378-2213"><a href="#cb378-2213" aria-hidden="true" tabindex="-1"></a>    <span class="co">#geom_point() +</span></span>
<span id="cb378-2214"><a href="#cb378-2214" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-2215"><a href="#cb378-2215" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Temperature (C)"</span>, <span class="at">y =</span> <span class="st">"log10 of Flow"</span>) <span class="sc">+</span></span>
<span id="cb378-2216"><a href="#cb378-2216" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-2217"><a href="#cb378-2217" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(r) <span class="sc">+</span></span>
<span id="cb378-2218"><a href="#cb378-2218" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>(<span class="at">legendPosition =</span> <span class="st">"right"</span>, <span class="at">legendDirection =</span> <span class="st">"vertical"</span>) <span class="sc">+</span>  </span>
<span id="cb378-2219"><a href="#cb378-2219" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">'free'</span>)</span>
<span id="cb378-2220"><a href="#cb378-2220" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2221"><a href="#cb378-2221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2222"><a href="#cb378-2222" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2223"><a href="#cb378-2223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2224"><a href="#cb378-2224" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-2225"><a href="#cb378-2225" aria-hidden="true" tabindex="-1"></a><span class="fu">#### West Brook</span></span>
<span id="cb378-2226"><a href="#cb378-2226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2229"><a href="#cb378-2229" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2230"><a href="#cb378-2230" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: plotMergedBySeason_wb</span></span>
<span id="cb378-2231"><a href="#cb378-2231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2232"><a href="#cb378-2232" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeason</span>(envIn_propNeg, <span class="st">"West Brook"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2233"><a href="#cb378-2233" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2234"><a href="#cb378-2234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2235"><a href="#cb378-2235" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Open Large</span></span>
<span id="cb378-2236"><a href="#cb378-2236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2239"><a href="#cb378-2239" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2240"><a href="#cb378-2240" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: plotMergedBySeason_ol</span></span>
<span id="cb378-2241"><a href="#cb378-2241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2242"><a href="#cb378-2242" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeason</span>(envIn_propNeg, <span class="st">"Open Large"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2243"><a href="#cb378-2243" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2244"><a href="#cb378-2244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2245"><a href="#cb378-2245" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Open Small</span></span>
<span id="cb378-2246"><a href="#cb378-2246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2249"><a href="#cb378-2249" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2250"><a href="#cb378-2250" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: plotMergedBySeason_os</span></span>
<span id="cb378-2251"><a href="#cb378-2251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2252"><a href="#cb378-2252" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeason</span>(envIn_propNeg, <span class="st">"Open Small"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2253"><a href="#cb378-2253" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2254"><a href="#cb378-2254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2255"><a href="#cb378-2255" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Isolated small</span></span>
<span id="cb378-2256"><a href="#cb378-2256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2259"><a href="#cb378-2259" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2260"><a href="#cb378-2260" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: plotMergedBySeason_is</span></span>
<span id="cb378-2261"><a href="#cb378-2261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2262"><a href="#cb378-2262" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeason</span>(envIn_propNeg, <span class="st">"Isolated Small"</span>, <span class="dv">2002</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2263"><a href="#cb378-2263" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2264"><a href="#cb378-2264" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-2265"><a href="#cb378-2265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2266"><a href="#cb378-2266" aria-hidden="true" tabindex="-1"></a>TO ADD: low flow high density important? Look at interaction btw</span>
<span id="cb378-2267"><a href="#cb378-2267" aria-hidden="true" tabindex="-1"></a>flow:density</span>
<span id="cb378-2268"><a href="#cb378-2268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2269"><a href="#cb378-2269" aria-hidden="true" tabindex="-1"></a><span class="fu">### F/T cycles with labels</span></span>
<span id="cb378-2270"><a href="#cb378-2270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2271"><a href="#cb378-2271" aria-hidden="true" tabindex="-1"></a>Plot F/T cycles by river, season, species with label for propNeg and</span>
<span id="cb378-2272"><a href="#cb378-2272" aria-hidden="true" tabindex="-1"></a>conspecific and all-species abundances</span>
<span id="cb378-2273"><a href="#cb378-2273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2276"><a href="#cb378-2276" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2277"><a href="#cb378-2277" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: plotMergedBySeasonByEverything</span></span>
<span id="cb378-2278"><a href="#cb378-2278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2279"><a href="#cb378-2279" aria-hidden="true" tabindex="-1"></a>plotMergedBySeasonByEverything <span class="ot">&lt;-</span> <span class="cf">function</span>(d, d2, r, s, spp, <span class="at">minYear =</span> <span class="dv">2000</span>, <span class="at">maxYear =</span> <span class="dv">2017</span>){</span>
<span id="cb378-2280"><a href="#cb378-2280" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> </span>
<span id="cb378-2281"><a href="#cb378-2281" aria-hidden="true" tabindex="-1"></a>           <span class="fu">filter</span>(riverGG <span class="sc">==</span> r,</span>
<span id="cb378-2282"><a href="#cb378-2282" aria-hidden="true" tabindex="-1"></a>                  year <span class="sc">%in%</span> <span class="fu">c</span>(minYear<span class="sc">:</span>maxYear), </span>
<span id="cb378-2283"><a href="#cb378-2283" aria-hidden="true" tabindex="-1"></a>                  <span class="sc">!</span><span class="fu">is.na</span>(seasonGG), </span>
<span id="cb378-2284"><a href="#cb378-2284" aria-hidden="true" tabindex="-1"></a>                  seasonGG <span class="sc">==</span> s, </span>
<span id="cb378-2285"><a href="#cb378-2285" aria-hidden="true" tabindex="-1"></a>                  speciesGG <span class="sc">==</span> spp), </span>
<span id="cb378-2286"><a href="#cb378-2286" aria-hidden="true" tabindex="-1"></a>         <span class="fu">aes</span>(temperature, <span class="fu">log10</span>(flowByRiver))</span>
<span id="cb378-2287"><a href="#cb378-2287" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">+</span></span>
<span id="cb378-2288"><a href="#cb378-2288" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">"darkgrey"</span>) <span class="sc">+</span></span>
<span id="cb378-2289"><a href="#cb378-2289" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> yday)) <span class="sc">+</span></span>
<span id="cb378-2290"><a href="#cb378-2290" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="fu">aes</span>(</span>
<span id="cb378-2291"><a href="#cb378-2291" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> minTemp <span class="sc">+</span> <span class="fl">3.0</span>, </span>
<span id="cb378-2292"><a href="#cb378-2292" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="fu">log10</span>(minFlow) <span class="sc">-</span> <span class="dv">1</span>, </span>
<span id="cb378-2293"><a href="#cb378-2293" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">"propNeg="</span>,<span class="fu">round</span>(propNeg, <span class="dv">2</span>)) </span>
<span id="cb378-2294"><a href="#cb378-2294" aria-hidden="true" tabindex="-1"></a>      <span class="co">#size = propNeg</span></span>
<span id="cb378-2295"><a href="#cb378-2295" aria-hidden="true" tabindex="-1"></a>      ), </span>
<span id="cb378-2296"><a href="#cb378-2296" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> d2<span class="sc">|&gt;</span> </span>
<span id="cb378-2297"><a href="#cb378-2297" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(riverGG <span class="sc">==</span> r, </span>
<span id="cb378-2298"><a href="#cb378-2298" aria-hidden="true" tabindex="-1"></a>                 year <span class="sc">%in%</span> <span class="fu">c</span>(minYear<span class="sc">:</span>maxYear),</span>
<span id="cb378-2299"><a href="#cb378-2299" aria-hidden="true" tabindex="-1"></a>                 seasonGG <span class="sc">==</span> s, </span>
<span id="cb378-2300"><a href="#cb378-2300" aria-hidden="true" tabindex="-1"></a>                 speciesGG <span class="sc">==</span> spp)</span>
<span id="cb378-2301"><a href="#cb378-2301" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb378-2302"><a href="#cb378-2302" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="fu">aes</span>(</span>
<span id="cb378-2303"><a href="#cb378-2303" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> minTemp <span class="sc">+</span> <span class="fl">3.0</span>,</span>
<span id="cb378-2304"><a href="#cb378-2304" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="fu">log10</span>(minFlow) <span class="sc">-</span> <span class="fl">0.3</span>,</span>
<span id="cb378-2305"><a href="#cb378-2305" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">paste</span>(<span class="st">"nIndAllSpp="</span>, nInd), <span class="fu">paste</span>(<span class="st">"nIndBySpp="</span>, nIndBySpp), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb378-2306"><a href="#cb378-2306" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb378-2307"><a href="#cb378-2307" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> d2<span class="sc">|&gt;</span></span>
<span id="cb378-2308"><a href="#cb378-2308" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(riverGG <span class="sc">==</span> r,</span>
<span id="cb378-2309"><a href="#cb378-2309" aria-hidden="true" tabindex="-1"></a>                 year <span class="sc">%in%</span> <span class="fu">c</span>(minYear<span class="sc">:</span>maxYear),</span>
<span id="cb378-2310"><a href="#cb378-2310" aria-hidden="true" tabindex="-1"></a>                 seasonGG <span class="sc">==</span> s,</span>
<span id="cb378-2311"><a href="#cb378-2311" aria-hidden="true" tabindex="-1"></a>                 speciesGG <span class="sc">==</span> spp)</span>
<span id="cb378-2312"><a href="#cb378-2312" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb378-2313"><a href="#cb378-2313" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Temperature (c)"</span>, <span class="at">y =</span> <span class="st">"log10 Flow"</span>) <span class="sc">+</span></span>
<span id="cb378-2314"><a href="#cb378-2314" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(r, s, spp, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb378-2315"><a href="#cb378-2315" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-2316"><a href="#cb378-2316" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)</span>
<span id="cb378-2317"><a href="#cb378-2317" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2318"><a href="#cb378-2318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2319"><a href="#cb378-2319" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2320"><a href="#cb378-2320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2321"><a href="#cb378-2321" aria-hidden="true" tabindex="-1"></a><span class="fu">#### West Brook</span></span>
<span id="cb378-2322"><a href="#cb378-2322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2323"><a href="#cb378-2323" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-2324"><a href="#cb378-2324" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Spring</span></span>
<span id="cb378-2325"><a href="#cb378-2325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2328"><a href="#cb378-2328" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2329"><a href="#cb378-2329" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: WBPanelSpring</span></span>
<span id="cb378-2330"><a href="#cb378-2330" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2331"><a href="#cb378-2331" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2332"><a href="#cb378-2332" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-2333"><a href="#cb378-2333" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Spring"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2334"><a href="#cb378-2334" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Spring"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2335"><a href="#cb378-2335" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Spring"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2336"><a href="#cb378-2336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2337"><a href="#cb378-2337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2338"><a href="#cb378-2338" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2339"><a href="#cb378-2339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2340"><a href="#cb378-2340" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Summer</span></span>
<span id="cb378-2341"><a href="#cb378-2341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2344"><a href="#cb378-2344" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2345"><a href="#cb378-2345" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: WBPanelSummer</span></span>
<span id="cb378-2346"><a href="#cb378-2346" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2347"><a href="#cb378-2347" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2348"><a href="#cb378-2348" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Summer"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2349"><a href="#cb378-2349" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Summer"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2350"><a href="#cb378-2350" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Summer"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2351"><a href="#cb378-2351" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2352"><a href="#cb378-2352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2353"><a href="#cb378-2353" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Autumn</span></span>
<span id="cb378-2354"><a href="#cb378-2354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2357"><a href="#cb378-2357" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2358"><a href="#cb378-2358" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: WBPanelAutumn</span></span>
<span id="cb378-2359"><a href="#cb378-2359" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2360"><a href="#cb378-2360" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2361"><a href="#cb378-2361" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-2362"><a href="#cb378-2362" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2363"><a href="#cb378-2363" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2364"><a href="#cb378-2364" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Autumn"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2365"><a href="#cb378-2365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2366"><a href="#cb378-2366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2367"><a href="#cb378-2367" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2368"><a href="#cb378-2368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2369"><a href="#cb378-2369" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Winter</span></span>
<span id="cb378-2370"><a href="#cb378-2370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2373"><a href="#cb378-2373" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2374"><a href="#cb378-2374" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: WBPanelWinter</span></span>
<span id="cb378-2375"><a href="#cb378-2375" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2376"><a href="#cb378-2376" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2377"><a href="#cb378-2377" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Winter"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2378"><a href="#cb378-2378" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Winter"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2379"><a href="#cb378-2379" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"West Brook"</span>, <span class="st">"Winter"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2380"><a href="#cb378-2380" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2381"><a href="#cb378-2381" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-2382"><a href="#cb378-2382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2383"><a href="#cb378-2383" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Open Large</span></span>
<span id="cb378-2384"><a href="#cb378-2384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2385"><a href="#cb378-2385" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-2386"><a href="#cb378-2386" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Spring</span></span>
<span id="cb378-2387"><a href="#cb378-2387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2390"><a href="#cb378-2390" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2391"><a href="#cb378-2391" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: OLpanelSpring</span></span>
<span id="cb378-2392"><a href="#cb378-2392" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2393"><a href="#cb378-2393" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2394"><a href="#cb378-2394" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-2395"><a href="#cb378-2395" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Spring"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2396"><a href="#cb378-2396" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Spring"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2397"><a href="#cb378-2397" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Spring"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2398"><a href="#cb378-2398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2399"><a href="#cb378-2399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2400"><a href="#cb378-2400" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2401"><a href="#cb378-2401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2402"><a href="#cb378-2402" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Summer</span></span>
<span id="cb378-2403"><a href="#cb378-2403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2406"><a href="#cb378-2406" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2407"><a href="#cb378-2407" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: OLPanelSummer</span></span>
<span id="cb378-2408"><a href="#cb378-2408" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2409"><a href="#cb378-2409" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2410"><a href="#cb378-2410" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Summer"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2411"><a href="#cb378-2411" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Summer"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2412"><a href="#cb378-2412" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Summer"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2413"><a href="#cb378-2413" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2414"><a href="#cb378-2414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2415"><a href="#cb378-2415" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Autumn</span></span>
<span id="cb378-2416"><a href="#cb378-2416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2419"><a href="#cb378-2419" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2420"><a href="#cb378-2420" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: OLPanelAutumn</span></span>
<span id="cb378-2421"><a href="#cb378-2421" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2422"><a href="#cb378-2422" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2423"><a href="#cb378-2423" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-2424"><a href="#cb378-2424" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2425"><a href="#cb378-2425" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2426"><a href="#cb378-2426" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Autumn"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2427"><a href="#cb378-2427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2428"><a href="#cb378-2428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2429"><a href="#cb378-2429" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2430"><a href="#cb378-2430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2431"><a href="#cb378-2431" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Winter</span></span>
<span id="cb378-2432"><a href="#cb378-2432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2435"><a href="#cb378-2435" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2436"><a href="#cb378-2436" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: OLPanelWinter</span></span>
<span id="cb378-2437"><a href="#cb378-2437" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2438"><a href="#cb378-2438" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2439"><a href="#cb378-2439" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Winter"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2440"><a href="#cb378-2440" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Winter"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2441"><a href="#cb378-2441" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Large"</span>, <span class="st">"Winter"</span>, <span class="st">"Atlantic salmon"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2442"><a href="#cb378-2442" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2443"><a href="#cb378-2443" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-2444"><a href="#cb378-2444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2445"><a href="#cb378-2445" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Open Small</span></span>
<span id="cb378-2446"><a href="#cb378-2446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2447"><a href="#cb378-2447" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-2448"><a href="#cb378-2448" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Spring</span></span>
<span id="cb378-2449"><a href="#cb378-2449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2452"><a href="#cb378-2452" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2453"><a href="#cb378-2453" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: OSPanelSpring</span></span>
<span id="cb378-2454"><a href="#cb378-2454" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2455"><a href="#cb378-2455" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2456"><a href="#cb378-2456" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-2457"><a href="#cb378-2457" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Spring"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2458"><a href="#cb378-2458" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Spring"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2459"><a href="#cb378-2459" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2460"><a href="#cb378-2460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2461"><a href="#cb378-2461" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Summer</span></span>
<span id="cb378-2462"><a href="#cb378-2462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2465"><a href="#cb378-2465" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2466"><a href="#cb378-2466" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: OSPanelSummer</span></span>
<span id="cb378-2467"><a href="#cb378-2467" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2468"><a href="#cb378-2468" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2469"><a href="#cb378-2469" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Summer"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2470"><a href="#cb378-2470" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Summer"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2471"><a href="#cb378-2471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2472"><a href="#cb378-2472" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2473"><a href="#cb378-2473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2474"><a href="#cb378-2474" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Autumn</span></span>
<span id="cb378-2475"><a href="#cb378-2475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2478"><a href="#cb378-2478" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2479"><a href="#cb378-2479" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: OSPanelAutumn</span></span>
<span id="cb378-2480"><a href="#cb378-2480" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2481"><a href="#cb378-2481" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2482"><a href="#cb378-2482" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-2483"><a href="#cb378-2483" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2484"><a href="#cb378-2484" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2485"><a href="#cb378-2485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2486"><a href="#cb378-2486" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2487"><a href="#cb378-2487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2488"><a href="#cb378-2488" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Winter</span></span>
<span id="cb378-2489"><a href="#cb378-2489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2492"><a href="#cb378-2492" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2493"><a href="#cb378-2493" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: OSPanelWinter</span></span>
<span id="cb378-2494"><a href="#cb378-2494" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2495"><a href="#cb378-2495" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2496"><a href="#cb378-2496" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Winter"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2497"><a href="#cb378-2497" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Open Small"</span>, <span class="st">"Winter"</span>, <span class="st">"Brown trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2498"><a href="#cb378-2498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2499"><a href="#cb378-2499" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2500"><a href="#cb378-2500" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-2501"><a href="#cb378-2501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2502"><a href="#cb378-2502" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Isolated Small</span></span>
<span id="cb378-2503"><a href="#cb378-2503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2504"><a href="#cb378-2504" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb378-2505"><a href="#cb378-2505" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Spring</span></span>
<span id="cb378-2506"><a href="#cb378-2506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2509"><a href="#cb378-2509" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2510"><a href="#cb378-2510" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: ISPanelSpring</span></span>
<span id="cb378-2511"><a href="#cb378-2511" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2512"><a href="#cb378-2512" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2513"><a href="#cb378-2513" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-2514"><a href="#cb378-2514" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Isolated Small"</span>, <span class="st">"Spring"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2515"><a href="#cb378-2515" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2516"><a href="#cb378-2516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2517"><a href="#cb378-2517" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Summer</span></span>
<span id="cb378-2518"><a href="#cb378-2518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2521"><a href="#cb378-2521" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2522"><a href="#cb378-2522" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: ISPanelSummer</span></span>
<span id="cb378-2523"><a href="#cb378-2523" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2524"><a href="#cb378-2524" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2525"><a href="#cb378-2525" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Isolated Small"</span>, <span class="st">"Summer"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2526"><a href="#cb378-2526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2527"><a href="#cb378-2527" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2528"><a href="#cb378-2528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2529"><a href="#cb378-2529" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Autumn</span></span>
<span id="cb378-2530"><a href="#cb378-2530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2533"><a href="#cb378-2533" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2534"><a href="#cb378-2534" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: ISPanelAutumn</span></span>
<span id="cb378-2535"><a href="#cb378-2535" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2536"><a href="#cb378-2536" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2537"><a href="#cb378-2537" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-2538"><a href="#cb378-2538" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Isolated Small"</span>, <span class="st">"Autumn"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2539"><a href="#cb378-2539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2540"><a href="#cb378-2540" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2541"><a href="#cb378-2541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2542"><a href="#cb378-2542" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Winter</span></span>
<span id="cb378-2543"><a href="#cb378-2543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2546"><a href="#cb378-2546" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2547"><a href="#cb378-2547" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: ISPanelWinter</span></span>
<span id="cb378-2548"><a href="#cb378-2548" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 13</span></span>
<span id="cb378-2549"><a href="#cb378-2549" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 10</span></span>
<span id="cb378-2550"><a href="#cb378-2550" aria-hidden="true" tabindex="-1"></a><span class="fu">plotMergedBySeasonByEverything</span>(envIn_propNeg, propNegLabels, <span class="st">"Isolated Small"</span>, <span class="st">"Winter"</span>, <span class="st">"Brook trout"</span>, <span class="dv">2000</span>, <span class="dv">2017</span>)</span>
<span id="cb378-2551"><a href="#cb378-2551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2552"><a href="#cb378-2552" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2553"><a href="#cb378-2553" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb378-2554"><a href="#cb378-2554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2555"><a href="#cb378-2555" aria-hidden="true" tabindex="-1"></a><span class="fu">## Consequences of negative growth</span></span>
<span id="cb378-2556"><a href="#cb378-2556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2557"><a href="#cb378-2557" aria-hidden="true" tabindex="-1"></a><span class="fu">### Growth and last observation</span></span>
<span id="cb378-2558"><a href="#cb378-2558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2559"><a href="#cb378-2559" aria-hidden="true" tabindex="-1"></a>Relationship between individual growth and length of subsequent</span>
<span id="cb378-2560"><a href="#cb378-2560" aria-hidden="true" tabindex="-1"></a>observations (how many more observations before the last observation)</span>
<span id="cb378-2561"><a href="#cb378-2561" aria-hidden="true" tabindex="-1"></a>for individual fish.  </span>
<span id="cb378-2562"><a href="#cb378-2562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2563"><a href="#cb378-2563" aria-hidden="true" tabindex="-1"></a>Broken up by years  </span>
<span id="cb378-2566"><a href="#cb378-2566" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2567"><a href="#cb378-2567" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negGrowth_samplesLeft</span></span>
<span id="cb378-2568"><a href="#cb378-2568" aria-hidden="true" tabindex="-1"></a>plotGrowthSamplesLeft <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r){</span>
<span id="cb378-2569"><a href="#cb378-2569" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> spp, riverGG <span class="sc">==</span> r, year <span class="sc">&lt;</span> <span class="dv">2011</span>, samplesBeforeLast <span class="sc">&gt;=</span> <span class="dv">0</span>), <span class="fu">aes</span>(grWeight, samplesBeforeLast)) <span class="sc">+</span></span>
<span id="cb378-2570"><a href="#cb378-2570" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb378-2571"><a href="#cb378-2571" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-2572"><a href="#cb378-2572" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-2573"><a href="#cb378-2573" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb378-2574"><a href="#cb378-2574" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-2575"><a href="#cb378-2575" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>year)</span>
<span id="cb378-2576"><a href="#cb378-2576" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2577"><a href="#cb378-2577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2578"><a href="#cb378-2578" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeft</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"West Brook"</span>)</span>
<span id="cb378-2579"><a href="#cb378-2579" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeft</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Large"</span>)</span>
<span id="cb378-2580"><a href="#cb378-2580" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeft</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Small"</span>)</span>
<span id="cb378-2581"><a href="#cb378-2581" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeft</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Isolated Small"</span>)</span>
<span id="cb378-2582"><a href="#cb378-2582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2583"><a href="#cb378-2583" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeft</span>(cd1, <span class="st">"Brown trout"</span>, <span class="st">"West Brook"</span>)</span>
<span id="cb378-2584"><a href="#cb378-2584" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2585"><a href="#cb378-2585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2586"><a href="#cb378-2586" aria-hidden="true" tabindex="-1"></a>All years  </span>
<span id="cb378-2589"><a href="#cb378-2589" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2590"><a href="#cb378-2590" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negGrowth_samplesLeftNoYear</span></span>
<span id="cb378-2591"><a href="#cb378-2591" aria-hidden="true" tabindex="-1"></a>plotGrowthSamplesLeftNoYear <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r){</span>
<span id="cb378-2592"><a href="#cb378-2592" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> spp, riverGG <span class="sc">==</span> r, year <span class="sc">&lt;</span> <span class="dv">2011</span>, samplesBeforeLast <span class="sc">&gt;=</span> <span class="dv">0</span>), <span class="fu">aes</span>(grWeight, samplesBeforeLast)) <span class="sc">+</span></span>
<span id="cb378-2593"><a href="#cb378-2593" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb378-2594"><a href="#cb378-2594" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-2595"><a href="#cb378-2595" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-2596"><a href="#cb378-2596" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb378-2597"><a href="#cb378-2597" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Number of samples before last observation"</span>) <span class="sc">+</span></span>
<span id="cb378-2598"><a href="#cb378-2598" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-2599"><a href="#cb378-2599" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG)</span>
<span id="cb378-2600"><a href="#cb378-2600" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2601"><a href="#cb378-2601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2602"><a href="#cb378-2602" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"West Brook"</span>)</span>
<span id="cb378-2603"><a href="#cb378-2603" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Large"</span>)</span>
<span id="cb378-2604"><a href="#cb378-2604" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Small"</span>)</span>
<span id="cb378-2605"><a href="#cb378-2605" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Isolated Small"</span>)</span>
<span id="cb378-2606"><a href="#cb378-2606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2607"><a href="#cb378-2607" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Brown trout"</span>, <span class="st">"West Brook"</span>)</span>
<span id="cb378-2608"><a href="#cb378-2608" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthSamplesLeftNoYear</span>(cd1, <span class="st">"Atlantic salmon"</span>, <span class="st">"West Brook"</span>)</span>
<span id="cb378-2609"><a href="#cb378-2609" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2610"><a href="#cb378-2610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2611"><a href="#cb378-2611" aria-hidden="true" tabindex="-1"></a>Break up by pos/neg growth  </span>
<span id="cb378-2614"><a href="#cb378-2614" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2615"><a href="#cb378-2615" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negGrowth_means</span></span>
<span id="cb378-2616"><a href="#cb378-2616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2617"><a href="#cb378-2617" aria-hidden="true" tabindex="-1"></a>plotGR_sampsBL <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r) {</span>
<span id="cb378-2618"><a href="#cb378-2618" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">5</span>, speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r), <span class="fu">aes</span>(meanGR, samplesBeforeLast, <span class="at">color =</span> negGrowth)) <span class="sc">+</span> </span>
<span id="cb378-2619"><a href="#cb378-2619" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb378-2620"><a href="#cb378-2620" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-2621"><a href="#cb378-2621" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb378-2622"><a href="#cb378-2622" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Number of samples before last observation"</span>) <span class="sc">+</span></span>
<span id="cb378-2623"><a href="#cb378-2623" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-2624"><a href="#cb378-2624" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>seasonGG<span class="sc">+</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-2625"><a href="#cb378-2625" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2626"><a href="#cb378-2626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2627"><a href="#cb378-2627" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_sampsBL</span>(negGr_beforeLast, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>))</span>
<span id="cb378-2628"><a href="#cb378-2628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2629"><a href="#cb378-2629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2630"><a href="#cb378-2630" aria-hidden="true" tabindex="-1"></a>plotGR_sampsBL2 <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r) {</span>
<span id="cb378-2631"><a href="#cb378-2631" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">5</span>, speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r), <span class="fu">aes</span>(meanGR, samplesBeforeLast, <span class="at">color =</span> speciesGG)) <span class="sc">+</span> </span>
<span id="cb378-2632"><a href="#cb378-2632" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb378-2633"><a href="#cb378-2633" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-2634"><a href="#cb378-2634" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-2635"><a href="#cb378-2635" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb378-2636"><a href="#cb378-2636" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Number of samples before last observation"</span>) <span class="sc">+</span></span>
<span id="cb378-2637"><a href="#cb378-2637" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-2638"><a href="#cb378-2638" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(riverGG<span class="sc">~</span>negGrowth<span class="sc">+</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-2639"><a href="#cb378-2639" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2640"><a href="#cb378-2640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2641"><a href="#cb378-2641" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_sampsBL2</span>(negGr_beforeLast, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>))</span>
<span id="cb378-2642"><a href="#cb378-2642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2643"><a href="#cb378-2643" aria-hidden="true" tabindex="-1"></a>plotGR_sampsBL3 <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r, ng) {</span>
<span id="cb378-2644"><a href="#cb378-2644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">5</span>, speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r, negGrowth <span class="sc">%in%</span> ng), <span class="fu">aes</span>(meanGR, samplesBeforeLast, <span class="at">color =</span> speciesGG)) <span class="sc">+</span> </span>
<span id="cb378-2645"><a href="#cb378-2645" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb378-2646"><a href="#cb378-2646" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-2647"><a href="#cb378-2647" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-2648"><a href="#cb378-2648" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, ng, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb378-2649"><a href="#cb378-2649" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Number of samples before last observation"</span>) <span class="sc">+</span></span>
<span id="cb378-2650"><a href="#cb378-2650" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-2651"><a href="#cb378-2651" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(negGrowth<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-2652"><a href="#cb378-2652" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2653"><a href="#cb378-2653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2654"><a href="#cb378-2654" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_sampsBL3</span>(negGr_beforeLast, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>), <span class="cn">FALSE</span>)</span>
<span id="cb378-2655"><a href="#cb378-2655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2656"><a href="#cb378-2656" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_sampsBL3</span>(negGr_beforeLast, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>), <span class="cn">TRUE</span>)</span>
<span id="cb378-2657"><a href="#cb378-2657" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2658"><a href="#cb378-2658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2659"><a href="#cb378-2659" aria-hidden="true" tabindex="-1"></a>TO ADD: mean samplesBeforeLast by negGR </span>
<span id="cb378-2662"><a href="#cb378-2662" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2663"><a href="#cb378-2663" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: growthKnkownZPosNeg</span></span>
<span id="cb378-2664"><a href="#cb378-2664" aria-hidden="true" tabindex="-1"></a>plotGrowthKnownZPosNeg <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r){</span>
<span id="cb378-2665"><a href="#cb378-2665" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">==</span> r, year <span class="sc">&lt;</span> <span class="dv">2011</span>, <span class="sc">!</span><span class="fu">is.na</span>(samplesBeforeLast)), <span class="fu">aes</span>(grWeight, <span class="at">color =</span> samplesBeforeLast <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb378-2666"><a href="#cb378-2666" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb378-2667"><a href="#cb378-2667" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-2668"><a href="#cb378-2668" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(r)) <span class="sc">+</span></span>
<span id="cb378-2669"><a href="#cb378-2669" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>   </span>
<span id="cb378-2670"><a href="#cb378-2670" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb378-2671"><a href="#cb378-2671" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-2672"><a href="#cb378-2672" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2673"><a href="#cb378-2673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2674"><a href="#cb378-2674" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZPosNeg</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>, <span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="st">"West Brook"</span>)</span>
<span id="cb378-2675"><a href="#cb378-2675" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZPosNeg</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>, <span class="st">"Brown trout"</span>, <span class="st">"Atlantic salmon"</span>), <span class="st">"Open Large"</span>)</span>
<span id="cb378-2676"><a href="#cb378-2676" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZPosNeg</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>, <span class="st">"Brown trout"</span>), <span class="st">"Open Small"</span>)</span>
<span id="cb378-2677"><a href="#cb378-2677" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZPosNeg</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>), <span class="st">"Isolated Small"</span>)</span>
<span id="cb378-2678"><a href="#cb378-2678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2679"><a href="#cb378-2679" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2680"><a href="#cb378-2680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2681"><a href="#cb378-2681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2682"><a href="#cb378-2682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2683"><a href="#cb378-2683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2684"><a href="#cb378-2684" aria-hidden="true" tabindex="-1"></a>TO ADD: knownZ=0 vs knownZ==1, growth in previous interval</span>
<span id="cb378-2687"><a href="#cb378-2687" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2688"><a href="#cb378-2688" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: growthKnkownZ</span></span>
<span id="cb378-2689"><a href="#cb378-2689" aria-hidden="true" tabindex="-1"></a>plotGrowthKnownZ <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r){</span>
<span id="cb378-2690"><a href="#cb378-2690" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> spp, riverGG <span class="sc">==</span> r, year <span class="sc">&lt;</span> <span class="dv">2011</span>), <span class="fu">aes</span>(grWeight, <span class="at">color =</span> samplesBeforeLast <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb378-2691"><a href="#cb378-2691" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb378-2692"><a href="#cb378-2692" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-2693"><a href="#cb378-2693" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb378-2694"><a href="#cb378-2694" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-2695"><a href="#cb378-2695" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-2696"><a href="#cb378-2696" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2697"><a href="#cb378-2697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2698"><a href="#cb378-2698" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"West Brook"</span>)</span>
<span id="cb378-2699"><a href="#cb378-2699" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Large"</span>)</span>
<span id="cb378-2700"><a href="#cb378-2700" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Small"</span>)</span>
<span id="cb378-2701"><a href="#cb378-2701" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Isolated Small"</span>)</span>
<span id="cb378-2702"><a href="#cb378-2702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2703"><a href="#cb378-2703" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brown trout"</span>, <span class="st">"West Brook"</span>)</span>
<span id="cb378-2704"><a href="#cb378-2704" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brown trout"</span>, <span class="st">"Open Large"</span>)</span>
<span id="cb378-2705"><a href="#cb378-2705" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZ</span>(cd1, <span class="st">"Brown trout"</span>, <span class="st">"Open Small"</span>)</span>
<span id="cb378-2706"><a href="#cb378-2706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2707"><a href="#cb378-2707" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2708"><a href="#cb378-2708" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2709"><a href="#cb378-2709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2710"><a href="#cb378-2710" aria-hidden="true" tabindex="-1"></a>By year</span>
<span id="cb378-2713"><a href="#cb378-2713" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2714"><a href="#cb378-2714" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: growthKnkownZByYear</span></span>
<span id="cb378-2715"><a href="#cb378-2715" aria-hidden="true" tabindex="-1"></a>plotGrowthKnownZByYear <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r){</span>
<span id="cb378-2716"><a href="#cb378-2716" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> spp, riverGG <span class="sc">==</span> r, year <span class="sc">&lt;</span> <span class="dv">2011</span>), <span class="fu">aes</span>(grWeight, <span class="at">color =</span> samplesBeforeLast <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb378-2717"><a href="#cb378-2717" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb378-2718"><a href="#cb378-2718" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-2719"><a href="#cb378-2719" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb378-2720"><a href="#cb378-2720" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-2721"><a href="#cb378-2721" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(year<span class="sc">~</span>seasonGG)</span>
<span id="cb378-2722"><a href="#cb378-2722" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2723"><a href="#cb378-2723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2724"><a href="#cb378-2724" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZByYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"West Brook"</span>)</span>
<span id="cb378-2725"><a href="#cb378-2725" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZByYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Large"</span>)</span>
<span id="cb378-2726"><a href="#cb378-2726" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZByYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Open Small"</span>)</span>
<span id="cb378-2727"><a href="#cb378-2727" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGrowthKnownZByYear</span>(cd1, <span class="st">"Brook trout"</span>, <span class="st">"Isolated Small"</span>)</span>
<span id="cb378-2728"><a href="#cb378-2728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2729"><a href="#cb378-2729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2730"><a href="#cb378-2730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2731"><a href="#cb378-2731" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2732"><a href="#cb378-2732" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2733"><a href="#cb378-2733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2734"><a href="#cb378-2734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2735"><a href="#cb378-2735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2738"><a href="#cb378-2738" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2739"><a href="#cb378-2739" aria-hidden="true" tabindex="-1"></a><span class="co"># cd1_target |&gt; </span></span>
<span id="cb378-2740"><a href="#cb378-2740" aria-hidden="true" tabindex="-1"></a><span class="co">#       group_by(speciesGG, riverGG, seasonGG, samplesBeforeLast, negGrowth) |&gt; </span></span>
<span id="cb378-2741"><a href="#cb378-2741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2742"><a href="#cb378-2742" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2743"><a href="#cb378-2743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2744"><a href="#cb378-2744" aria-hidden="true" tabindex="-1"></a><span class="fu">### Growth and movement distance</span></span>
<span id="cb378-2745"><a href="#cb378-2745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2746"><a href="#cb378-2746" aria-hidden="true" tabindex="-1"></a>TO add: break avg move into negGR/not negGR</span>
<span id="cb378-2749"><a href="#cb378-2749" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2750"><a href="#cb378-2750" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: growthMovementNegPos</span></span>
<span id="cb378-2751"><a href="#cb378-2751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2752"><a href="#cb378-2752" aria-hidden="true" tabindex="-1"></a>plotGR_moveDistNegPos <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r) {</span>
<span id="cb378-2753"><a href="#cb378-2753" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r, <span class="sc">!</span><span class="fu">is.na</span>(negGrowth)), <span class="fu">aes</span>(distMoved, <span class="at">color =</span> negGrowth)) <span class="sc">+</span> </span>
<span id="cb378-2754"><a href="#cb378-2754" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb378-2755"><a href="#cb378-2755" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-2756"><a href="#cb378-2756" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb378-2757"><a href="#cb378-2757" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Movement distance"</span>) <span class="sc">+</span></span>
<span id="cb378-2758"><a href="#cb378-2758" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>  </span>
<span id="cb378-2759"><a href="#cb378-2759" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb378-2760"><a href="#cb378-2760" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-2761"><a href="#cb378-2761" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2762"><a href="#cb378-2762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2763"><a href="#cb378-2763" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_moveDistNegPos</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>,<span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>))</span>
<span id="cb378-2764"><a href="#cb378-2764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2765"><a href="#cb378-2765" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2766"><a href="#cb378-2766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2767"><a href="#cb378-2767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2770"><a href="#cb378-2770" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2771"><a href="#cb378-2771" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: growthMovement</span></span>
<span id="cb378-2772"><a href="#cb378-2772" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2773"><a href="#cb378-2773" aria-hidden="true" tabindex="-1"></a>plotGR_moveDist <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r) {</span>
<span id="cb378-2774"><a href="#cb378-2774" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r), <span class="fu">aes</span>(grWeight, distMoved, <span class="at">color =</span> speciesGG)) <span class="sc">+</span> </span>
<span id="cb378-2775"><a href="#cb378-2775" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb378-2776"><a href="#cb378-2776" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-2777"><a href="#cb378-2777" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-2778"><a href="#cb378-2778" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb378-2779"><a href="#cb378-2779" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Movement distance"</span>) <span class="sc">+</span></span>
<span id="cb378-2780"><a href="#cb378-2780" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-2781"><a href="#cb378-2781" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(speciesGG<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-2782"><a href="#cb378-2782" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2783"><a href="#cb378-2783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2784"><a href="#cb378-2784" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_moveDist</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>,<span class="st">"Brown trout"</span>,<span class="st">"Atlantic salmon"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>))</span>
<span id="cb378-2785"><a href="#cb378-2785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2786"><a href="#cb378-2786" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2787"><a href="#cb378-2787" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2790"><a href="#cb378-2790" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2791"><a href="#cb378-2791" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: growthMovement2</span></span>
<span id="cb378-2792"><a href="#cb378-2792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2793"><a href="#cb378-2793" aria-hidden="true" tabindex="-1"></a>plotGR_moveDist2 <span class="ot">&lt;-</span> <span class="cf">function</span>(d, spp, r) {</span>
<span id="cb378-2794"><a href="#cb378-2794" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">%in%</span> spp, riverGG <span class="sc">%in%</span> r), <span class="fu">aes</span>(grWeight, distMoved, <span class="at">color =</span> speciesGG)) <span class="sc">+</span> </span>
<span id="cb378-2795"><a href="#cb378-2795" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb378-2796"><a href="#cb378-2796" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb378-2797"><a href="#cb378-2797" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-2798"><a href="#cb378-2798" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(spp, r, <span class="at">sep =</span> <span class="st">", "</span>)) <span class="sc">+</span></span>
<span id="cb378-2799"><a href="#cb378-2799" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Individual growth in mass"</span>, <span class="at">y =</span> <span class="st">"Movement distance"</span>) <span class="sc">+</span></span>
<span id="cb378-2800"><a href="#cb378-2800" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-2801"><a href="#cb378-2801" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(riverGG<span class="sc">~</span>seasonGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-2802"><a href="#cb378-2802" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-2803"><a href="#cb378-2803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2804"><a href="#cb378-2804" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_moveDist2</span>(cd1, <span class="fu">c</span>(<span class="st">"Brook trout"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>, <span class="st">"Open Small"</span>, <span class="st">"Isolated Small"</span>))</span>
<span id="cb378-2805"><a href="#cb378-2805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2806"><a href="#cb378-2806" aria-hidden="true" tabindex="-1"></a><span class="fu">plotGR_moveDist2</span>(cd1, <span class="fu">c</span>(<span class="st">"Brown trout"</span>), <span class="fu">c</span>(<span class="st">"West Brook"</span>, <span class="st">"Open Large"</span>, <span class="st">"Open Small"</span>))</span>
<span id="cb378-2807"><a href="#cb378-2807" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2808"><a href="#cb378-2808" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2809"><a href="#cb378-2809" aria-hidden="true" tabindex="-1"></a><span class="fu">## Machine Learning models</span></span>
<span id="cb378-2810"><a href="#cb378-2810" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2811"><a href="#cb378-2811" aria-hidden="true" tabindex="-1"></a>Using xgBoost to explore patterns in:\</span>
<span id="cb378-2812"><a href="#cb378-2812" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Binary, lose mass:gain mass\</span>
<span id="cb378-2813"><a href="#cb378-2813" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Regression, growth in mass</span>
<span id="cb378-2814"><a href="#cb378-2814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2815"><a href="#cb378-2815" aria-hidden="true" tabindex="-1"></a><span class="fu">### Binary model with negative growth, yes:no</span></span>
<span id="cb378-2816"><a href="#cb378-2816" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2817"><a href="#cb378-2817" aria-hidden="true" tabindex="-1"></a>Not yet in targets....</span>
<span id="cb378-2818"><a href="#cb378-2818" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2821"><a href="#cb378-2821" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2822"><a href="#cb378-2822" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: rf</span></span>
<span id="cb378-2823"><a href="#cb378-2823" aria-hidden="true" tabindex="-1"></a><span class="co"># http://uc-r.github.io/gbm_regression</span></span>
<span id="cb378-2824"><a href="#cb378-2824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2825"><a href="#cb378-2825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2826"><a href="#cb378-2826" aria-hidden="true" tabindex="-1"></a>dML <span class="ot">&lt;-</span> cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-2827"><a href="#cb378-2827" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(speciesGG <span class="sc">==</span> <span class="st">"Brook trout"</span>, <span class="sc">!</span><span class="fu">is.na</span>(grWeight)) <span class="sc">|&gt;</span> </span>
<span id="cb378-2828"><a href="#cb378-2828" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age =</span> year <span class="sc">-</span> cohort) <span class="sc">|&gt;</span> </span>
<span id="cb378-2829"><a href="#cb378-2829" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(riverGG, seasonGG, observedWeight, cohort, age, meanTemperature, meanFlowByRiver, negGrowth) </span>
<span id="cb378-2830"><a href="#cb378-2830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2831"><a href="#cb378-2831" aria-hidden="true" tabindex="-1"></a><span class="co"># variable names</span></span>
<span id="cb378-2832"><a href="#cb378-2832" aria-hidden="true" tabindex="-1"></a>features <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">names</span>(dML), <span class="st">"negGrowth"</span>)</span>
<span id="cb378-2833"><a href="#cb378-2833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2834"><a href="#cb378-2834" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the treatment plan from the training data</span></span>
<span id="cb378-2835"><a href="#cb378-2835" aria-hidden="true" tabindex="-1"></a>treatplan <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">designTreatmentsZ</span>(dML, features, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-2836"><a href="#cb378-2836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2837"><a href="#cb378-2837" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the "clean" variable names from the scoreFrame</span></span>
<span id="cb378-2838"><a href="#cb378-2838" aria-hidden="true" tabindex="-1"></a>new_vars <span class="ot">&lt;-</span> treatplan <span class="sc">%&gt;%</span></span>
<span id="cb378-2839"><a href="#cb378-2839" aria-hidden="true" tabindex="-1"></a>  magrittr<span class="sc">::</span><span class="fu">use_series</span>(scoreFrame) <span class="sc">%&gt;%</span>        </span>
<span id="cb378-2840"><a href="#cb378-2840" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(code <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"clean"</span>, <span class="st">"lev"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb378-2841"><a href="#cb378-2841" aria-hidden="true" tabindex="-1"></a>  magrittr<span class="sc">::</span><span class="fu">use_series</span>(varName)     </span>
<span id="cb378-2842"><a href="#cb378-2842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2843"><a href="#cb378-2843" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the training data</span></span>
<span id="cb378-2844"><a href="#cb378-2844" aria-hidden="true" tabindex="-1"></a>features_train <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan, dML, <span class="at">varRestriction =</span> new_vars) <span class="sc">%&gt;%</span> <span class="fu">as.matrix</span>()</span>
<span id="cb378-2845"><a href="#cb378-2845" aria-hidden="true" tabindex="-1"></a>response_train <span class="ot">&lt;-</span> dML<span class="sc">$</span>negGrowth</span>
<span id="cb378-2846"><a href="#cb378-2846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2847"><a href="#cb378-2847" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the test data</span></span>
<span id="cb378-2848"><a href="#cb378-2848" aria-hidden="true" tabindex="-1"></a>features_test <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan, dML, <span class="at">varRestriction =</span> new_vars) <span class="sc">%&gt;%</span> <span class="fu">as.matrix</span>()</span>
<span id="cb378-2849"><a href="#cb378-2849" aria-hidden="true" tabindex="-1"></a>response_test <span class="ot">&lt;-</span> dML<span class="sc">$</span>negGrowth</span>
<span id="cb378-2850"><a href="#cb378-2850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2851"><a href="#cb378-2851" aria-hidden="true" tabindex="-1"></a><span class="co"># dimensions of one-hot encoded data</span></span>
<span id="cb378-2852"><a href="#cb378-2852" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(features_train)</span>
<span id="cb378-2853"><a href="#cb378-2853" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(features_test)</span>
<span id="cb378-2854"><a href="#cb378-2854" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2855"><a href="#cb378-2855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2856"><a href="#cb378-2856" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Run first model</span></span>
<span id="cb378-2857"><a href="#cb378-2857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2860"><a href="#cb378-2860" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2861"><a href="#cb378-2861" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: runML1</span></span>
<span id="cb378-2862"><a href="#cb378-2862" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-2863"><a href="#cb378-2863" aria-hidden="true" tabindex="-1"></a><span class="co"># reproducibility</span></span>
<span id="cb378-2864"><a href="#cb378-2864" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb378-2865"><a href="#cb378-2865" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2866"><a href="#cb378-2866" aria-hidden="true" tabindex="-1"></a>xgb.fit1 <span class="ot">&lt;-</span> <span class="fu">xgb.cv</span>(</span>
<span id="cb378-2867"><a href="#cb378-2867" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> features_train,</span>
<span id="cb378-2868"><a href="#cb378-2868" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> response_train,</span>
<span id="cb378-2869"><a href="#cb378-2869" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrounds =</span> <span class="dv">10000</span>,</span>
<span id="cb378-2870"><a href="#cb378-2870" aria-hidden="true" tabindex="-1"></a>  <span class="at">nfold =</span> <span class="dv">5</span>,</span>
<span id="cb378-2871"><a href="#cb378-2871" aria-hidden="true" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">"binary:logistic"</span>, <span class="co">#"reg:linear",  # for regression models</span></span>
<span id="cb378-2872"><a href="#cb378-2872" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="dv">0</span>,               <span class="co"># silent,</span></span>
<span id="cb378-2873"><a href="#cb378-2873" aria-hidden="true" tabindex="-1"></a>  <span class="at">early_stopping_rounds =</span> <span class="dv">15</span> <span class="co"># stop if no improvement for 10 consecutive trees</span></span>
<span id="cb378-2874"><a href="#cb378-2874" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb378-2875"><a href="#cb378-2875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2876"><a href="#cb378-2876" aria-hidden="true" tabindex="-1"></a><span class="co"># get number of trees that minimize error</span></span>
<span id="cb378-2877"><a href="#cb378-2877" aria-hidden="true" tabindex="-1"></a>xgb.fit1<span class="sc">$</span>evaluation_log <span class="sc">%&gt;%</span></span>
<span id="cb378-2878"><a href="#cb378-2878" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb378-2879"><a href="#cb378-2879" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.train =</span> <span class="fu">which</span>(train_logloss_mean <span class="sc">==</span> <span class="fu">min</span>(train_logloss_mean))[<span class="dv">1</span>],</span>
<span id="cb378-2880"><a href="#cb378-2880" aria-hidden="true" tabindex="-1"></a>    <span class="at">logloss.train   =</span> <span class="fu">min</span>(train_logloss_mean),</span>
<span id="cb378-2881"><a href="#cb378-2881" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.test  =</span> <span class="fu">which</span>(test_logloss_mean <span class="sc">==</span> <span class="fu">min</span>(test_logloss_mean))[<span class="dv">1</span>],</span>
<span id="cb378-2882"><a href="#cb378-2882" aria-hidden="true" tabindex="-1"></a>    <span class="at">logloss.test   =</span> <span class="fu">min</span>(test_logloss_mean),</span>
<span id="cb378-2883"><a href="#cb378-2883" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb378-2884"><a href="#cb378-2884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2885"><a href="#cb378-2885" aria-hidden="true" tabindex="-1"></a><span class="co"># plot error vs number trees</span></span>
<span id="cb378-2886"><a href="#cb378-2886" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(xgb.fit1<span class="sc">$</span>evaluation_log) <span class="sc">+</span></span>
<span id="cb378-2887"><a href="#cb378-2887" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, train_logloss_mean), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb378-2888"><a href="#cb378-2888" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, test_logloss_mean), <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb378-2889"><a href="#cb378-2889" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2890"><a href="#cb378-2890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2891"><a href="#cb378-2891" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Add early stopping</span></span>
<span id="cb378-2892"><a href="#cb378-2892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2895"><a href="#cb378-2895" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2896"><a href="#cb378-2896" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: runML2</span></span>
<span id="cb378-2897"><a href="#cb378-2897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2898"><a href="#cb378-2898" aria-hidden="true" tabindex="-1"></a><span class="do">## tune the model</span></span>
<span id="cb378-2899"><a href="#cb378-2899" aria-hidden="true" tabindex="-1"></a><span class="co"># create parameter list</span></span>
<span id="cb378-2900"><a href="#cb378-2900" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb378-2901"><a href="#cb378-2901" aria-hidden="true" tabindex="-1"></a>  <span class="at">eta =</span> .<span class="dv">1</span>,</span>
<span id="cb378-2902"><a href="#cb378-2902" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="dv">5</span>,</span>
<span id="cb378-2903"><a href="#cb378-2903" aria-hidden="true" tabindex="-1"></a>  <span class="at">min_child_weight =</span> <span class="dv">2</span>,</span>
<span id="cb378-2904"><a href="#cb378-2904" aria-hidden="true" tabindex="-1"></a>  <span class="at">subsample =</span> .<span class="dv">8</span>,</span>
<span id="cb378-2905"><a href="#cb378-2905" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsample_bytree =</span> .<span class="dv">9</span></span>
<span id="cb378-2906"><a href="#cb378-2906" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb378-2907"><a href="#cb378-2907" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2908"><a href="#cb378-2908" aria-hidden="true" tabindex="-1"></a>xgb.fit2 <span class="ot">&lt;-</span> <span class="fu">xgb.cv</span>(</span>
<span id="cb378-2909"><a href="#cb378-2909" aria-hidden="true" tabindex="-1"></a>  <span class="at">params =</span> params,</span>
<span id="cb378-2910"><a href="#cb378-2910" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> features_train,</span>
<span id="cb378-2911"><a href="#cb378-2911" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> response_train,</span>
<span id="cb378-2912"><a href="#cb378-2912" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrounds =</span> <span class="dv">20000</span>,</span>
<span id="cb378-2913"><a href="#cb378-2913" aria-hidden="true" tabindex="-1"></a>  <span class="at">nfold =</span> <span class="dv">5</span>,</span>
<span id="cb378-2914"><a href="#cb378-2914" aria-hidden="true" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">"binary:logistic"</span>, <span class="co">#"reg:linear",  # for regression models</span></span>
<span id="cb378-2915"><a href="#cb378-2915" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="dv">0</span>,               <span class="co"># silent,</span></span>
<span id="cb378-2916"><a href="#cb378-2916" aria-hidden="true" tabindex="-1"></a>  <span class="at">early_stopping_rounds =</span> <span class="dv">10</span> <span class="co"># stop if no improvement for 10 consecutive trees</span></span>
<span id="cb378-2917"><a href="#cb378-2917" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb378-2918"><a href="#cb378-2918" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2919"><a href="#cb378-2919" aria-hidden="true" tabindex="-1"></a>xgb.fit2<span class="sc">$</span>evaluation_log <span class="sc">%&gt;%</span></span>
<span id="cb378-2920"><a href="#cb378-2920" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb378-2921"><a href="#cb378-2921" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.train =</span> <span class="fu">which</span>(train_logloss_mean <span class="sc">==</span> <span class="fu">min</span>(train_logloss_mean))[<span class="dv">1</span>],</span>
<span id="cb378-2922"><a href="#cb378-2922" aria-hidden="true" tabindex="-1"></a>    <span class="at">logloss.train   =</span> <span class="fu">min</span>(train_logloss_mean),</span>
<span id="cb378-2923"><a href="#cb378-2923" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.test  =</span> <span class="fu">which</span>(test_logloss_mean <span class="sc">==</span> <span class="fu">min</span>(test_logloss_mean))[<span class="dv">1</span>],</span>
<span id="cb378-2924"><a href="#cb378-2924" aria-hidden="true" tabindex="-1"></a>    <span class="at">logloss.test   =</span> <span class="fu">min</span>(test_logloss_mean),</span>
<span id="cb378-2925"><a href="#cb378-2925" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb378-2926"><a href="#cb378-2926" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2927"><a href="#cb378-2927" aria-hidden="true" tabindex="-1"></a><span class="co"># plot error vs number trees</span></span>
<span id="cb378-2928"><a href="#cb378-2928" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(xgb.fit2<span class="sc">$</span>evaluation_log) <span class="sc">+</span></span>
<span id="cb378-2929"><a href="#cb378-2929" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, train_logloss_mean), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb378-2930"><a href="#cb378-2930" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, test_logloss_mean), <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb378-2931"><a href="#cb378-2931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2932"><a href="#cb378-2932" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-2933"><a href="#cb378-2933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2934"><a href="#cb378-2934" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Hyperparameter search grid</span></span>
<span id="cb378-2935"><a href="#cb378-2935" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2938"><a href="#cb378-2938" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-2939"><a href="#cb378-2939" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: runML_HP</span></span>
<span id="cb378-2940"><a href="#cb378-2940" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2941"><a href="#cb378-2941" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2942"><a href="#cb378-2942" aria-hidden="true" tabindex="-1"></a><span class="co"># create hyperparameter grid</span></span>
<span id="cb378-2943"><a href="#cb378-2943" aria-hidden="true" tabindex="-1"></a>hyper_grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb378-2944"><a href="#cb378-2944" aria-hidden="true" tabindex="-1"></a>  <span class="at">eta =</span> <span class="fu">c</span>(.<span class="dv">01</span>, .<span class="dv">05</span>, .<span class="dv">1</span>, .<span class="dv">3</span>),</span>
<span id="cb378-2945"><a href="#cb378-2945" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>),</span>
<span id="cb378-2946"><a href="#cb378-2946" aria-hidden="true" tabindex="-1"></a>  <span class="at">min_child_weight =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>),</span>
<span id="cb378-2947"><a href="#cb378-2947" aria-hidden="true" tabindex="-1"></a>  <span class="at">subsample =</span> <span class="fu">c</span>(.<span class="dv">65</span>, .<span class="dv">8</span>, <span class="dv">1</span>), </span>
<span id="cb378-2948"><a href="#cb378-2948" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsample_bytree =</span> <span class="fu">c</span>(.<span class="dv">8</span>, .<span class="dv">9</span>, <span class="dv">1</span>),</span>
<span id="cb378-2949"><a href="#cb378-2949" aria-hidden="true" tabindex="-1"></a>  <span class="at">optimal_trees =</span> <span class="dv">0</span>,               <span class="co"># a place to dump results</span></span>
<span id="cb378-2950"><a href="#cb378-2950" aria-hidden="true" tabindex="-1"></a>  <span class="at">min_RMSE =</span> <span class="dv">0</span>                     <span class="co"># a place to dump results</span></span>
<span id="cb378-2951"><a href="#cb378-2951" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb378-2952"><a href="#cb378-2952" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(hyper_grid)</span>
<span id="cb378-2953"><a href="#cb378-2953" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-2954"><a href="#cb378-2954" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-2955"><a href="#cb378-2955" aria-hidden="true" tabindex="-1"></a><span class="co"># reproducibility</span></span>
<span id="cb378-2956"><a href="#cb378-2956" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb378-2957"><a href="#cb378-2957" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb378-2958"><a href="#cb378-2958" aria-hidden="true" tabindex="-1"></a><span class="co"># # grid search </span></span>
<span id="cb378-2959"><a href="#cb378-2959" aria-hidden="true" tabindex="-1"></a><span class="co"># for(i in 1:nrow(hyper_grid)) {</span></span>
<span id="cb378-2960"><a href="#cb378-2960" aria-hidden="true" tabindex="-1"></a><span class="co">#   print(i)</span></span>
<span id="cb378-2961"><a href="#cb378-2961" aria-hidden="true" tabindex="-1"></a><span class="co">#   # create parameter list</span></span>
<span id="cb378-2962"><a href="#cb378-2962" aria-hidden="true" tabindex="-1"></a><span class="co">#   params &lt;- list(</span></span>
<span id="cb378-2963"><a href="#cb378-2963" aria-hidden="true" tabindex="-1"></a><span class="co">#     eta = hyper_grid$eta[i],</span></span>
<span id="cb378-2964"><a href="#cb378-2964" aria-hidden="true" tabindex="-1"></a><span class="co">#     max_depth = hyper_grid$max_depth[i],</span></span>
<span id="cb378-2965"><a href="#cb378-2965" aria-hidden="true" tabindex="-1"></a><span class="co">#     min_child_weight = hyper_grid$min_child_weight[i],</span></span>
<span id="cb378-2966"><a href="#cb378-2966" aria-hidden="true" tabindex="-1"></a><span class="co">#     subsample = hyper_grid$subsample[i],</span></span>
<span id="cb378-2967"><a href="#cb378-2967" aria-hidden="true" tabindex="-1"></a><span class="co">#     colsample_bytree = hyper_grid$colsample_bytree[i]</span></span>
<span id="cb378-2968"><a href="#cb378-2968" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb378-2969"><a href="#cb378-2969" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb378-2970"><a href="#cb378-2970" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb378-2971"><a href="#cb378-2971" aria-hidden="true" tabindex="-1"></a><span class="co">#   # train model</span></span>
<span id="cb378-2972"><a href="#cb378-2972" aria-hidden="true" tabindex="-1"></a><span class="co">#   xgb.tune &lt;- xgb.cv(</span></span>
<span id="cb378-2973"><a href="#cb378-2973" aria-hidden="true" tabindex="-1"></a><span class="co">#     params = params,</span></span>
<span id="cb378-2974"><a href="#cb378-2974" aria-hidden="true" tabindex="-1"></a><span class="co">#     data = features_train,</span></span>
<span id="cb378-2975"><a href="#cb378-2975" aria-hidden="true" tabindex="-1"></a><span class="co">#     label = response_train,</span></span>
<span id="cb378-2976"><a href="#cb378-2976" aria-hidden="true" tabindex="-1"></a><span class="co">#     nrounds = 5000,</span></span>
<span id="cb378-2977"><a href="#cb378-2977" aria-hidden="true" tabindex="-1"></a><span class="co">#     nfold = 5,</span></span>
<span id="cb378-2978"><a href="#cb378-2978" aria-hidden="true" tabindex="-1"></a><span class="co">#     objective = "binary:logistic", #"reg:linear",  # for regression models</span></span>
<span id="cb378-2979"><a href="#cb378-2979" aria-hidden="true" tabindex="-1"></a><span class="co">#     verbose = 0,               # silent,</span></span>
<span id="cb378-2980"><a href="#cb378-2980" aria-hidden="true" tabindex="-1"></a><span class="co">#     early_stopping_rounds = 20 # stop if no improvement for 10 consecutive trees</span></span>
<span id="cb378-2981"><a href="#cb378-2981" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb378-2982"><a href="#cb378-2982" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb378-2983"><a href="#cb378-2983" aria-hidden="true" tabindex="-1"></a><span class="co">#   # add min training error and trees to grid</span></span>
<span id="cb378-2984"><a href="#cb378-2984" aria-hidden="true" tabindex="-1"></a><span class="co">#   hyper_grid$optimal_trees[i] &lt;- which.min(xgb.tune$evaluation_log$test_logloss_mean)</span></span>
<span id="cb378-2985"><a href="#cb378-2985" aria-hidden="true" tabindex="-1"></a><span class="co">#   hyper_grid$min_RMSE[i] &lt;- min(xgb.tune$evaluation_log$test_logloss_mean)</span></span>
<span id="cb378-2986"><a href="#cb378-2986" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb378-2987"><a href="#cb378-2987" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb378-2988"><a href="#cb378-2988" aria-hidden="true" tabindex="-1"></a><span class="co"># hyper_grid %&gt;%</span></span>
<span id="cb378-2989"><a href="#cb378-2989" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::arrange(min_RMSE) %&gt;%</span></span>
<span id="cb378-2990"><a href="#cb378-2990" aria-hidden="true" tabindex="-1"></a><span class="co">#   head(15)</span></span>
<span id="cb378-2991"><a href="#cb378-2991" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-2992"><a href="#cb378-2992" aria-hidden="true" tabindex="-1"></a><span class="co">#       eta max_depth min_child_weight subsample colsample_bytree optimal_trees  min_RMSE</span></span>
<span id="cb378-2993"><a href="#cb378-2993" aria-hidden="true" tabindex="-1"></a><span class="co"># 1  0.01         5                1      0.80              0.8          1082 0.2464962</span></span>
<span id="cb378-2994"><a href="#cb378-2994" aria-hidden="true" tabindex="-1"></a><span class="co"># 2  0.01         5                1      0.65              0.8          1042 0.2466260</span></span>
<span id="cb378-2995"><a href="#cb378-2995" aria-hidden="true" tabindex="-1"></a><span class="co"># 3  0.01         5                1      0.80              0.9          1115 0.2467519</span></span>
<span id="cb378-2996"><a href="#cb378-2996" aria-hidden="true" tabindex="-1"></a><span class="co"># 4  0.01         7                1      0.80              0.8           676 0.2467640</span></span>
<span id="cb378-2997"><a href="#cb378-2997" aria-hidden="true" tabindex="-1"></a><span class="co"># 5  0.01         7                1      0.65              0.8           671 0.2468416</span></span>
<span id="cb378-2998"><a href="#cb378-2998" aria-hidden="true" tabindex="-1"></a><span class="co"># 6  0.05         5                1      0.65              0.9           217 0.2470321</span></span>
<span id="cb378-2999"><a href="#cb378-2999" aria-hidden="true" tabindex="-1"></a><span class="co"># 7  0.01         7                3      0.80              0.8           676 0.2470520</span></span>
<span id="cb378-3000"><a href="#cb378-3000" aria-hidden="true" tabindex="-1"></a><span class="co"># 8  0.01         5                3      0.80              0.8          1115 0.2470706</span></span>
<span id="cb378-3001"><a href="#cb378-3001" aria-hidden="true" tabindex="-1"></a><span class="co"># 9  0.01         5                3      0.80              0.9          1089 0.2470969</span></span>
<span id="cb378-3002"><a href="#cb378-3002" aria-hidden="true" tabindex="-1"></a><span class="co"># 10 0.10         5                3      1.00              0.9           158 0.2471294</span></span>
<span id="cb378-3003"><a href="#cb378-3003" aria-hidden="true" tabindex="-1"></a><span class="co"># 11 0.05         7                3      0.80              1.0           139 0.2471420</span></span>
<span id="cb378-3004"><a href="#cb378-3004" aria-hidden="true" tabindex="-1"></a><span class="co"># 12 0.01         5                1      0.65              0.9           960 0.2471568</span></span>
<span id="cb378-3005"><a href="#cb378-3005" aria-hidden="true" tabindex="-1"></a><span class="co"># 13 0.01         5                1      0.80              1.0          1023 0.2471608</span></span>
<span id="cb378-3006"><a href="#cb378-3006" aria-hidden="true" tabindex="-1"></a><span class="co"># 14 0.01         7                3      0.65              0.8           671 0.2472037</span></span>
<span id="cb378-3007"><a href="#cb378-3007" aria-hidden="true" tabindex="-1"></a><span class="co"># 15 0.10         5                1      0.80              0.8            95 0.2472090</span></span>
<span id="cb378-3008"><a href="#cb378-3008" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3009"><a href="#cb378-3009" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3010"><a href="#cb378-3010" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Fit the top model</span></span>
<span id="cb378-3011"><a href="#cb378-3011" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3014"><a href="#cb378-3014" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3015"><a href="#cb378-3015" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fitBinary</span></span>
<span id="cb378-3016"><a href="#cb378-3016" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3017"><a href="#cb378-3017" aria-hidden="true" tabindex="-1"></a><span class="co"># parameter list - from the top model of the grid search above</span></span>
<span id="cb378-3018"><a href="#cb378-3018" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb378-3019"><a href="#cb378-3019" aria-hidden="true" tabindex="-1"></a>  <span class="at">eta =</span> <span class="fl">0.01</span>,</span>
<span id="cb378-3020"><a href="#cb378-3020" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="dv">5</span>,</span>
<span id="cb378-3021"><a href="#cb378-3021" aria-hidden="true" tabindex="-1"></a>  <span class="at">min_child_weight =</span> <span class="dv">1</span>,</span>
<span id="cb378-3022"><a href="#cb378-3022" aria-hidden="true" tabindex="-1"></a>  <span class="at">subsample =</span> <span class="fl">0.8</span>,</span>
<span id="cb378-3023"><a href="#cb378-3023" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsample_bytree =</span> <span class="fl">0.8</span></span>
<span id="cb378-3024"><a href="#cb378-3024" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb378-3025"><a href="#cb378-3025" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3026"><a href="#cb378-3026" aria-hidden="true" tabindex="-1"></a><span class="co"># train final model</span></span>
<span id="cb378-3027"><a href="#cb378-3027" aria-hidden="true" tabindex="-1"></a>xgb.fit.final <span class="ot">&lt;-</span> <span class="fu">xgboost</span>(</span>
<span id="cb378-3028"><a href="#cb378-3028" aria-hidden="true" tabindex="-1"></a>  <span class="at">params =</span> params,</span>
<span id="cb378-3029"><a href="#cb378-3029" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> features_train,</span>
<span id="cb378-3030"><a href="#cb378-3030" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> response_train,</span>
<span id="cb378-3031"><a href="#cb378-3031" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrounds =</span> <span class="dv">20000</span>,</span>
<span id="cb378-3032"><a href="#cb378-3032" aria-hidden="true" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">"binary:logistic"</span>,</span>
<span id="cb378-3033"><a href="#cb378-3033" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="dv">0</span>,</span>
<span id="cb378-3034"><a href="#cb378-3034" aria-hidden="true" tabindex="-1"></a>  <span class="at">early_stopping_rounds =</span> <span class="dv">20</span> <span class="co"># stop if no improvement for 10 consecutive trees</span></span>
<span id="cb378-3035"><a href="#cb378-3035" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb378-3036"><a href="#cb378-3036" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3037"><a href="#cb378-3037" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3038"><a href="#cb378-3038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3039"><a href="#cb378-3039" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Variable importance plot</span></span>
<span id="cb378-3040"><a href="#cb378-3040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3043"><a href="#cb378-3043" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3044"><a href="#cb378-3044" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: vipBinary</span></span>
<span id="cb378-3045"><a href="#cb378-3045" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3046"><a href="#cb378-3046" aria-hidden="true" tabindex="-1"></a><span class="co"># create importance matrix</span></span>
<span id="cb378-3047"><a href="#cb378-3047" aria-hidden="true" tabindex="-1"></a>importance_matrix <span class="ot">&lt;-</span> <span class="fu">xgb.importance</span>(<span class="at">model =</span> xgb.fit.final)</span>
<span id="cb378-3048"><a href="#cb378-3048" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3049"><a href="#cb378-3049" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plot</span></span>
<span id="cb378-3050"><a href="#cb378-3050" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(importance_matrix, <span class="at">top_n =</span> <span class="dv">10</span>, <span class="at">measure =</span> <span class="st">"Gain"</span>)</span>
<span id="cb378-3051"><a href="#cb378-3051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3052"><a href="#cb378-3052" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3053"><a href="#cb378-3053" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3054"><a href="#cb378-3054" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Partial dependence plots</span></span>
<span id="cb378-3055"><a href="#cb378-3055" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3058"><a href="#cb378-3058" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3059"><a href="#cb378-3059" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pdpBinary</span></span>
<span id="cb378-3060"><a href="#cb378-3060" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3061"><a href="#cb378-3061" aria-hidden="true" tabindex="-1"></a>pW <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb378-3062"><a href="#cb378-3062" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"observedWeight"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-3063"><a href="#cb378-3063" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train) </span>
<span id="cb378-3064"><a href="#cb378-3064" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_y_discrete() +</span></span>
<span id="cb378-3065"><a href="#cb378-3065" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle("PDP")</span></span>
<span id="cb378-3066"><a href="#cb378-3066" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3067"><a href="#cb378-3067" aria-hidden="true" tabindex="-1"></a>pFlow <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb378-3068"><a href="#cb378-3068" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"meanFlowByRiver"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-3069"><a href="#cb378-3069" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb378-3070"><a href="#cb378-3070" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3071"><a href="#cb378-3071" aria-hidden="true" tabindex="-1"></a>pTemp <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb378-3072"><a href="#cb378-3072" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"meanTemperature"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-3073"><a href="#cb378-3073" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb378-3074"><a href="#cb378-3074" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3075"><a href="#cb378-3075" aria-hidden="true" tabindex="-1"></a>pAge <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb378-3076"><a href="#cb378-3076" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"age"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-3077"><a href="#cb378-3077" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb378-3078"><a href="#cb378-3078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3079"><a href="#cb378-3079" aria-hidden="true" tabindex="-1"></a>pCohort <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb378-3080"><a href="#cb378-3080" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"cohort"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-3081"><a href="#cb378-3081" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb378-3082"><a href="#cb378-3082" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3083"><a href="#cb378-3083" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pW, pFlow, pTemp, pAge, pCohort, <span class="at">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb378-3084"><a href="#cb378-3084" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3085"><a href="#cb378-3085" aria-hidden="true" tabindex="-1"></a><span class="co">#Seasons</span></span>
<span id="cb378-3086"><a href="#cb378-3086" aria-hidden="true" tabindex="-1"></a>pSpring <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb378-3087"><a href="#cb378-3087" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"seasonGG_lev_x_Spring"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-3088"><a href="#cb378-3088" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb378-3089"><a href="#cb378-3089" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3090"><a href="#cb378-3090" aria-hidden="true" tabindex="-1"></a>pSummer <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb378-3091"><a href="#cb378-3091" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"seasonGG_lev_x_Summer"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-3092"><a href="#cb378-3092" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb378-3093"><a href="#cb378-3093" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3094"><a href="#cb378-3094" aria-hidden="true" tabindex="-1"></a>pAutumn <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb378-3095"><a href="#cb378-3095" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"seasonGG_lev_x_Autumn"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-3096"><a href="#cb378-3096" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb378-3097"><a href="#cb378-3097" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3098"><a href="#cb378-3098" aria-hidden="true" tabindex="-1"></a>pWinter <span class="ot">&lt;-</span> xgb.fit.final <span class="sc">%&gt;%</span></span>
<span id="cb378-3099"><a href="#cb378-3099" aria-hidden="true" tabindex="-1"></a>  pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"seasonGG_lev_x_Winter"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> features_train) <span class="sc">%&gt;%</span></span>
<span id="cb378-3100"><a href="#cb378-3100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> features_train)</span>
<span id="cb378-3101"><a href="#cb378-3101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3102"><a href="#cb378-3102" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pSpring, pSummer, pAutumn, pWinter, <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb378-3103"><a href="#cb378-3103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3104"><a href="#cb378-3104" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3105"><a href="#cb378-3105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3106"><a href="#cb378-3106" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Lime</span></span>
<span id="cb378-3107"><a href="#cb378-3107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3110"><a href="#cb378-3110" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3111"><a href="#cb378-3111" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: limeBinary</span></span>
<span id="cb378-3112"><a href="#cb378-3112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3113"><a href="#cb378-3113" aria-hidden="true" tabindex="-1"></a><span class="co"># get a few observations to perform local interpretation on</span></span>
<span id="cb378-3114"><a href="#cb378-3114" aria-hidden="true" tabindex="-1"></a>local_obs <span class="ot">&lt;-</span> dML[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, ]</span>
<span id="cb378-3115"><a href="#cb378-3115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3116"><a href="#cb378-3116" aria-hidden="true" tabindex="-1"></a><span class="co"># one-hot encode the local observations to be assessed.</span></span>
<span id="cb378-3117"><a href="#cb378-3117" aria-hidden="true" tabindex="-1"></a>local_obs_onehot <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan, local_obs, <span class="at">varRestriction =</span> new_vars)</span>
<span id="cb378-3118"><a href="#cb378-3118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3119"><a href="#cb378-3119" aria-hidden="true" tabindex="-1"></a><span class="co"># apply LIME</span></span>
<span id="cb378-3120"><a href="#cb378-3120" aria-hidden="true" tabindex="-1"></a>explainer <span class="ot">&lt;-</span> <span class="fu">lime</span>(<span class="fu">data.frame</span>(features_train), xgb.fit.final, <span class="at">quantile_bins =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-3121"><a href="#cb378-3121" aria-hidden="true" tabindex="-1"></a>explanation <span class="ot">&lt;-</span> lime<span class="sc">::</span><span class="fu">explain</span>(local_obs_onehot, explainer, <span class="at">n_features =</span> <span class="dv">5</span>, <span class="at">n_labels =</span> <span class="dv">2</span>)</span>
<span id="cb378-3122"><a href="#cb378-3122" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_features</span>(explanation)</span>
<span id="cb378-3123"><a href="#cb378-3123" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3124"><a href="#cb378-3124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3125"><a href="#cb378-3125" aria-hidden="true" tabindex="-1"></a><span class="fu">#### hstats</span></span>
<span id="cb378-3126"><a href="#cb378-3126" aria-hidden="true" tabindex="-1"></a>https://github.com/mayer79/hstats#background</span>
<span id="cb378-3129"><a href="#cb378-3129" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3130"><a href="#cb378-3130" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: hstatsPropNeg</span></span>
<span id="cb378-3131"><a href="#cb378-3131" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hstats)</span>
<span id="cb378-3132"><a href="#cb378-3132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3133"><a href="#cb378-3133" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">hstats</span>(xgb.fit.final, <span class="at">v =</span> new_vars, <span class="at">X =</span> features_train)</span>
<span id="cb378-3134"><a href="#cb378-3134" aria-hidden="true" tabindex="-1"></a>s</span>
<span id="cb378-3135"><a href="#cb378-3135" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(s)</span>
<span id="cb378-3136"><a href="#cb378-3136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3137"><a href="#cb378-3137" aria-hidden="true" tabindex="-1"></a><span class="co"># top 5 2-way interations</span></span>
<span id="cb378-3138"><a href="#cb378-3138" aria-hidden="true" tabindex="-1"></a><span class="fu">h2_pairwise</span>(s, <span class="at">normalize =</span> <span class="cn">FALSE</span>, <span class="at">squared =</span> <span class="cn">FALSE</span>, <span class="at">top_m =</span> <span class="dv">5</span>)</span>
<span id="cb378-3139"><a href="#cb378-3139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3140"><a href="#cb378-3140" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-way interactions</span></span>
<span id="cb378-3141"><a href="#cb378-3141" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(s, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">normalize =</span> F, <span class="at">squared =</span> F, <span class="at">facet_scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">1</span>)</span>
<span id="cb378-3142"><a href="#cb378-3142" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3143"><a href="#cb378-3143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3144"><a href="#cb378-3144" aria-hidden="true" tabindex="-1"></a>Interaction plots</span>
<span id="cb378-3147"><a href="#cb378-3147" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3148"><a href="#cb378-3148" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: hstatsInteractionsPlots</span></span>
<span id="cb378-3149"><a href="#cb378-3149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3150"><a href="#cb378-3150" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">partial_dep</span>(xgb.fit.final, <span class="at">v =</span> <span class="st">"observedWeight"</span>, <span class="at">X =</span> features_train, <span class="at">BY =</span> <span class="st">"meanFlowByRiver"</span>))</span>
<span id="cb378-3151"><a href="#cb378-3151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3152"><a href="#cb378-3152" aria-hidden="true" tabindex="-1"></a><span class="co">#plot(partial_dep(xgb.fit.final, v = c("observedWeight", "meanFlowByRiver"), X = features_train, grid_size = 1000))</span></span>
<span id="cb378-3153"><a href="#cb378-3153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3154"><a href="#cb378-3154" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">ice</span>(xgb.fit.final, <span class="at">v =</span> <span class="st">"observedWeight"</span>, <span class="at">X =</span> features_train, <span class="at">BY =</span> <span class="st">"meanFlowByRiver"</span>), <span class="at">center =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-3155"><a href="#cb378-3155" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">ice</span>(xgb.fit.final, <span class="at">v =</span> <span class="st">"meanFlowByRiver"</span>, <span class="at">X =</span> features_train, <span class="at">BY =</span> <span class="fu">c</span>(<span class="st">"riverGG_lev_x_West_Brook"</span>, <span class="st">"seasonGG_lev_x_Summer"</span>)), <span class="at">center =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-3156"><a href="#cb378-3156" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3157"><a href="#cb378-3157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3158"><a href="#cb378-3158" aria-hidden="true" tabindex="-1"></a>Variable importance plots</span>
<span id="cb378-3161"><a href="#cb378-3161" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3162"><a href="#cb378-3162" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: hstatsVIPlots</span></span>
<span id="cb378-3163"><a href="#cb378-3163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3164"><a href="#cb378-3164" aria-hidden="true" tabindex="-1"></a><span class="fu">pd_importance</span>(s)</span>
<span id="cb378-3165"><a href="#cb378-3165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3166"><a href="#cb378-3166" aria-hidden="true" tabindex="-1"></a><span class="co"># Compared with tree split gain importance</span></span>
<span id="cb378-3167"><a href="#cb378-3167" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(<span class="fu">xgb.importance</span>(<span class="at">model =</span> xgb.fit.final), <span class="at">measure =</span> <span class="st">"Gain"</span>)</span>
<span id="cb378-3168"><a href="#cb378-3168" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3169"><a href="#cb378-3169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3170"><a href="#cb378-3170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3171"><a href="#cb378-3171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3172"><a href="#cb378-3172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3173"><a href="#cb378-3173" aria-hidden="true" tabindex="-1"></a><span class="fu">### Growth model, continuous growth</span></span>
<span id="cb378-3174"><a href="#cb378-3174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3175"><a href="#cb378-3175" aria-hidden="true" tabindex="-1"></a>can we add season, river interactions? or do separate analyses?</span>
<span id="cb378-3176"><a href="#cb378-3176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3179"><a href="#cb378-3179" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3180"><a href="#cb378-3180" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: readInTargets_W</span></span>
<span id="cb378-3181"><a href="#cb378-3181" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: false</span></span>
<span id="cb378-3182"><a href="#cb378-3182" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(targets)</span>
<span id="cb378-3183"><a href="#cb378-3183" aria-hidden="true" tabindex="-1"></a>dML_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(dML_W_target)</span>
<span id="cb378-3184"><a href="#cb378-3184" aria-hidden="true" tabindex="-1"></a>treatplan_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(treatplan_W_target)</span>
<span id="cb378-3185"><a href="#cb378-3185" aria-hidden="true" tabindex="-1"></a>features_train_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(features_train_W_target)</span>
<span id="cb378-3186"><a href="#cb378-3186" aria-hidden="true" tabindex="-1"></a>new_vars_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(new_vars_W_target)</span>
<span id="cb378-3187"><a href="#cb378-3187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3188"><a href="#cb378-3188" aria-hidden="true" tabindex="-1"></a><span class="co"># dimensions of one-hot encoded data</span></span>
<span id="cb378-3189"><a href="#cb378-3189" aria-hidden="true" tabindex="-1"></a>features_train_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(features_train_W_target)</span>
<span id="cb378-3190"><a href="#cb378-3190" aria-hidden="true" tabindex="-1"></a>features_test_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(features_test_W_target)</span>
<span id="cb378-3191"><a href="#cb378-3191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3192"><a href="#cb378-3192" aria-hidden="true" tabindex="-1"></a>response_train_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(response_train_W_target)</span>
<span id="cb378-3193"><a href="#cb378-3193" aria-hidden="true" tabindex="-1"></a>response_test_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(response_test_W_target)</span>
<span id="cb378-3194"><a href="#cb378-3194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3195"><a href="#cb378-3195" aria-hidden="true" tabindex="-1"></a><span class="co"># run from targets</span></span>
<span id="cb378-3196"><a href="#cb378-3196" aria-hidden="true" tabindex="-1"></a>hyper_grid_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(hyper_grid_W_target)</span>
<span id="cb378-3197"><a href="#cb378-3197" aria-hidden="true" tabindex="-1"></a>topModel_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(topModel_W_target)</span>
<span id="cb378-3198"><a href="#cb378-3198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3199"><a href="#cb378-3199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3200"><a href="#cb378-3200" aria-hidden="true" tabindex="-1"></a>finalModels_W <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(finalModels_W_target)</span>
<span id="cb378-3201"><a href="#cb378-3201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3202"><a href="#cb378-3202" aria-hidden="true" tabindex="-1"></a>modelToUse <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb378-3203"><a href="#cb378-3203" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3204"><a href="#cb378-3204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3205"><a href="#cb378-3205" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Run first model</span></span>
<span id="cb378-3206"><a href="#cb378-3206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3209"><a href="#cb378-3209" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3210"><a href="#cb378-3210" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: runML1_W</span></span>
<span id="cb378-3211"><a href="#cb378-3211" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-3212"><a href="#cb378-3212" aria-hidden="true" tabindex="-1"></a><span class="co"># reproducibility</span></span>
<span id="cb378-3213"><a href="#cb378-3213" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb378-3214"><a href="#cb378-3214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3215"><a href="#cb378-3215" aria-hidden="true" tabindex="-1"></a>xgb.fit1_W <span class="ot">&lt;-</span> <span class="fu">xgb.cv</span>(</span>
<span id="cb378-3216"><a href="#cb378-3216" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> features_train_W,</span>
<span id="cb378-3217"><a href="#cb378-3217" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> response_train_W,</span>
<span id="cb378-3218"><a href="#cb378-3218" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrounds =</span> <span class="dv">500</span>,</span>
<span id="cb378-3219"><a href="#cb378-3219" aria-hidden="true" tabindex="-1"></a>  <span class="at">nfold =</span> <span class="dv">5</span>,</span>
<span id="cb378-3220"><a href="#cb378-3220" aria-hidden="true" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">"reg:squarederror"</span>,  <span class="co"># for regression models</span></span>
<span id="cb378-3221"><a href="#cb378-3221" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="dv">0</span>,               <span class="co"># silent,</span></span>
<span id="cb378-3222"><a href="#cb378-3222" aria-hidden="true" tabindex="-1"></a>  <span class="at">early_stopping_rounds =</span> <span class="dv">10</span></span>
<span id="cb378-3223"><a href="#cb378-3223" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb378-3224"><a href="#cb378-3224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3225"><a href="#cb378-3225" aria-hidden="true" tabindex="-1"></a><span class="co"># get number of trees that minimize error</span></span>
<span id="cb378-3226"><a href="#cb378-3226" aria-hidden="true" tabindex="-1"></a>xgb.fit1_W<span class="sc">$</span>evaluation_log <span class="sc">%&gt;%</span></span>
<span id="cb378-3227"><a href="#cb378-3227" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb378-3228"><a href="#cb378-3228" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.train =</span> <span class="fu">which</span>(train_rmse_mean <span class="sc">==</span> <span class="fu">min</span>(train_rmse_mean))[<span class="dv">1</span>],</span>
<span id="cb378-3229"><a href="#cb378-3229" aria-hidden="true" tabindex="-1"></a>    <span class="at">rmse.train   =</span> <span class="fu">min</span>(train_rmse_mean),</span>
<span id="cb378-3230"><a href="#cb378-3230" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntrees.test  =</span> <span class="fu">which</span>(test_rmse_mean <span class="sc">==</span> <span class="fu">min</span>(test_rmse_mean))[<span class="dv">1</span>],</span>
<span id="cb378-3231"><a href="#cb378-3231" aria-hidden="true" tabindex="-1"></a>    <span class="at">rmse.test   =</span> <span class="fu">min</span>(test_rmse_mean),</span>
<span id="cb378-3232"><a href="#cb378-3232" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb378-3233"><a href="#cb378-3233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3234"><a href="#cb378-3234" aria-hidden="true" tabindex="-1"></a><span class="co"># plot error vs number trees</span></span>
<span id="cb378-3235"><a href="#cb378-3235" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(xgb.fit1_W<span class="sc">$</span>evaluation_log) <span class="sc">+</span></span>
<span id="cb378-3236"><a href="#cb378-3236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, train_rmse_mean), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb378-3237"><a href="#cb378-3237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(iter, test_rmse_mean), <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb378-3238"><a href="#cb378-3238" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3239"><a href="#cb378-3239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3240"><a href="#cb378-3240" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Hyperparameter search grid</span></span>
<span id="cb378-3241"><a href="#cb378-3241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3244"><a href="#cb378-3244" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3245"><a href="#cb378-3245" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: runML_HP_W</span></span>
<span id="cb378-3246"><a href="#cb378-3246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3247"><a href="#cb378-3247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3248"><a href="#cb378-3248" aria-hidden="true" tabindex="-1"></a><span class="co"># create hyperparameter grid</span></span>
<span id="cb378-3249"><a href="#cb378-3249" aria-hidden="true" tabindex="-1"></a><span class="co"># original grid - using a smaller one in targets</span></span>
<span id="cb378-3250"><a href="#cb378-3250" aria-hidden="true" tabindex="-1"></a><span class="co"># hyper_grid_W0 &lt;- expand.grid(</span></span>
<span id="cb378-3251"><a href="#cb378-3251" aria-hidden="true" tabindex="-1"></a><span class="co">#   eta = c(.01, .05, .1, .3),</span></span>
<span id="cb378-3252"><a href="#cb378-3252" aria-hidden="true" tabindex="-1"></a><span class="co">#   max_depth = c(1, 3, 5, 7),</span></span>
<span id="cb378-3253"><a href="#cb378-3253" aria-hidden="true" tabindex="-1"></a><span class="co">#   min_child_weight = c(1, 3, 5, 7),</span></span>
<span id="cb378-3254"><a href="#cb378-3254" aria-hidden="true" tabindex="-1"></a><span class="co">#   subsample = c(.65, .8, 1), </span></span>
<span id="cb378-3255"><a href="#cb378-3255" aria-hidden="true" tabindex="-1"></a><span class="co">#   colsample_bytree = c(.8, .9, 1),</span></span>
<span id="cb378-3256"><a href="#cb378-3256" aria-hidden="true" tabindex="-1"></a><span class="co">#   optimal_trees = 0,               # a place to dump results</span></span>
<span id="cb378-3257"><a href="#cb378-3257" aria-hidden="true" tabindex="-1"></a><span class="co">#   min_RMSE = 0                     # a place to dump results</span></span>
<span id="cb378-3258"><a href="#cb378-3258" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb378-3259"><a href="#cb378-3259" aria-hidden="true" tabindex="-1"></a><span class="co"># nrow(hyper_grid_W0)</span></span>
<span id="cb378-3260"><a href="#cb378-3260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3261"><a href="#cb378-3261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3262"><a href="#cb378-3262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3263"><a href="#cb378-3263" aria-hidden="true" tabindex="-1"></a><span class="co"># Original run using hyper_grid_W0 </span></span>
<span id="cb378-3264"><a href="#cb378-3264" aria-hidden="true" tabindex="-1"></a><span class="co"># eta max_depth min_child_weight</span></span>
<span id="cb378-3265"><a href="#cb378-3265" aria-hidden="true" tabindex="-1"></a><span class="co"># subsample colsample_bytree optimal_trees min_RMSE 1 0.01 7 5 0.65 0.8</span></span>
<span id="cb378-3266"><a href="#cb378-3266" aria-hidden="true" tabindex="-1"></a><span class="co"># 1376 0.001847600 2 0.05 7 3 0.80 0.9 292 0.001848465 3 0.01 7 7 0.80 0.9</span></span>
<span id="cb378-3267"><a href="#cb378-3267" aria-hidden="true" tabindex="-1"></a><span class="co"># 1382 0.001849086 4 0.01 5 1 0.80 0.8 2399 0.001849250 5 0.05 7 3 0.80</span></span>
<span id="cb378-3268"><a href="#cb378-3268" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.8 281 0.001849258 6 0.01 5 3 0.65 0.8 2147 0.001849905 7 0.05 5 1 0.65</span></span>
<span id="cb378-3269"><a href="#cb378-3269" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.8 459 0.001849931 8 0.01 5 5 0.80 0.9 2296 0.001850049 9 0.01 7 5 0.65</span></span>
<span id="cb378-3270"><a href="#cb378-3270" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.9 1402 0.001850246 10 0.01 7 7 0.65 0.8 1382 0.001850544 11 0.01 7 3</span></span>
<span id="cb378-3271"><a href="#cb378-3271" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.65 0.8 1384 0.001850704 12 0.05 3 3 0.80 0.8 1509 0.001850763 13 0.01</span></span>
<span id="cb378-3272"><a href="#cb378-3272" aria-hidden="true" tabindex="-1"></a><span class="co"># 7 7 0.80 0.8 1453 0.001850975 14 0.01 7 1 0.80 1.0 1281 0.001851069 15</span></span>
<span id="cb378-3273"><a href="#cb378-3273" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.01 7 1 0.80 0.8 1473 0.001851078</span></span>
<span id="cb378-3274"><a href="#cb378-3274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3275"><a href="#cb378-3275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3276"><a href="#cb378-3276" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3277"><a href="#cb378-3277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3278"><a href="#cb378-3278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3279"><a href="#cb378-3279" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Variable importance plot</span></span>
<span id="cb378-3280"><a href="#cb378-3280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3283"><a href="#cb378-3283" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3284"><a href="#cb378-3284" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: vipContinuous_W</span></span>
<span id="cb378-3285"><a href="#cb378-3285" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: false</span></span>
<span id="cb378-3286"><a href="#cb378-3286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3287"><a href="#cb378-3287" aria-hidden="true" tabindex="-1"></a><span class="co">#importance_matrix_W &lt;- tar_read(importance_matrix_W_target)</span></span>
<span id="cb378-3288"><a href="#cb378-3288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3289"><a href="#cb378-3289" aria-hidden="true" tabindex="-1"></a><span class="co"># variable importance plot</span></span>
<span id="cb378-3290"><a href="#cb378-3290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3291"><a href="#cb378-3291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3292"><a href="#cb378-3292" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3293"><a href="#cb378-3293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3294"><a href="#cb378-3294" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Partial dependence plots</span></span>
<span id="cb378-3295"><a href="#cb378-3295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3298"><a href="#cb378-3298" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3299"><a href="#cb378-3299" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pdpContinuous_W</span></span>
<span id="cb378-3300"><a href="#cb378-3300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3301"><a href="#cb378-3301" aria-hidden="true" tabindex="-1"></a>create_xgb_plots <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">d =</span> finalModels_W, <span class="at">f =</span> features_train_W, <span class="at">modelToUse =</span> modelToUse) {</span>
<span id="cb378-3302"><a href="#cb378-3302" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3303"><a href="#cb378-3303" aria-hidden="true" tabindex="-1"></a>  imp <span class="ot">&lt;-</span> <span class="fu">xgb.ggplot.importance</span>(d<span class="sc">$</span>importanceMatrix[[modelToUse]], <span class="at">top_n =</span> <span class="dv">10</span>, <span class="at">measure =</span> <span class="st">"Gain"</span>) <span class="sc">+</span> </span>
<span id="cb378-3304"><a href="#cb378-3304" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">"Model #"</span>, modelToUse))</span>
<span id="cb378-3305"><a href="#cb378-3305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3306"><a href="#cb378-3306" aria-hidden="true" tabindex="-1"></a>  pW_W <span class="ot">&lt;-</span> d<span class="sc">$</span>xgb[[modelToUse]] <span class="sc">%&gt;%</span></span>
<span id="cb378-3307"><a href="#cb378-3307" aria-hidden="true" tabindex="-1"></a>    pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"observedWeight"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb378-3308"><a href="#cb378-3308" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> f) </span>
<span id="cb378-3309"><a href="#cb378-3309" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3310"><a href="#cb378-3310" aria-hidden="true" tabindex="-1"></a>  pFlow_W <span class="ot">&lt;-</span> d<span class="sc">$</span>xgb[[modelToUse]] <span class="sc">%&gt;%</span></span>
<span id="cb378-3311"><a href="#cb378-3311" aria-hidden="true" tabindex="-1"></a>    pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"meanFlowByRiver"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb378-3312"><a href="#cb378-3312" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> f)</span>
<span id="cb378-3313"><a href="#cb378-3313" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3314"><a href="#cb378-3314" aria-hidden="true" tabindex="-1"></a>  pTemp_W <span class="ot">&lt;-</span> d<span class="sc">$</span>xgb[[modelToUse]] <span class="sc">%&gt;%</span></span>
<span id="cb378-3315"><a href="#cb378-3315" aria-hidden="true" tabindex="-1"></a>    pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"meanTemperature"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb378-3316"><a href="#cb378-3316" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> f)</span>
<span id="cb378-3317"><a href="#cb378-3317" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3318"><a href="#cb378-3318" aria-hidden="true" tabindex="-1"></a>  pAge_W <span class="ot">&lt;-</span> d<span class="sc">$</span>xgb[[modelToUse]] <span class="sc">%&gt;%</span></span>
<span id="cb378-3319"><a href="#cb378-3319" aria-hidden="true" tabindex="-1"></a>    pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"age"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb378-3320"><a href="#cb378-3320" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> f)</span>
<span id="cb378-3321"><a href="#cb378-3321" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3322"><a href="#cb378-3322" aria-hidden="true" tabindex="-1"></a>  pCohort_W <span class="ot">&lt;-</span> d<span class="sc">$</span>xgb[[modelToUse]] <span class="sc">%&gt;%</span></span>
<span id="cb378-3323"><a href="#cb378-3323" aria-hidden="true" tabindex="-1"></a>    pdp<span class="sc">::</span><span class="fu">partial</span>(<span class="at">pred.var =</span> <span class="st">"cohort"</span>, <span class="at">n.trees =</span> <span class="dv">1082</span>, <span class="at">grid.resolution =</span> <span class="dv">100</span>, <span class="at">train =</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb378-3324"><a href="#cb378-3324" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>(<span class="at">rug =</span> <span class="cn">TRUE</span>, <span class="at">train =</span> f)</span>
<span id="cb378-3325"><a href="#cb378-3325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3326"><a href="#cb378-3326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3327"><a href="#cb378-3327" aria-hidden="true" tabindex="-1"></a>  partials <span class="ot">&lt;-</span> gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(pW_W, pFlow_W, pTemp_W, pAge_W, pCohort_W, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">top=</span><span class="fu">textGrob</span>(<span class="fu">paste0</span>(<span class="st">"Model #"</span>, modelToUse)))</span>
<span id="cb378-3328"><a href="#cb378-3328" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3329"><a href="#cb378-3329" aria-hidden="true" tabindex="-1"></a> <span class="fu">return</span>(<span class="fu">list</span>(imp, partials)) </span>
<span id="cb378-3330"><a href="#cb378-3330" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-3331"><a href="#cb378-3331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3332"><a href="#cb378-3332" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">1</span>)</span>
<span id="cb378-3333"><a href="#cb378-3333" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">2</span>)</span>
<span id="cb378-3334"><a href="#cb378-3334" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">3</span>)</span>
<span id="cb378-3335"><a href="#cb378-3335" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">4</span>)</span>
<span id="cb378-3336"><a href="#cb378-3336" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">5</span>)</span>
<span id="cb378-3337"><a href="#cb378-3337" aria-hidden="true" tabindex="-1"></a><span class="fu">create_xgb_plots</span>(finalModels_W, features_train_W, <span class="at">modelToUse =</span> <span class="dv">15</span>)</span>
<span id="cb378-3338"><a href="#cb378-3338" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3339"><a href="#cb378-3339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3340"><a href="#cb378-3340" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Lime</span></span>
<span id="cb378-3341"><a href="#cb378-3341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3344"><a href="#cb378-3344" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3345"><a href="#cb378-3345" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: limeContinuous_W</span></span>
<span id="cb378-3346"><a href="#cb378-3346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3347"><a href="#cb378-3347" aria-hidden="true" tabindex="-1"></a><span class="co"># get a few observations to perform local interpretation on</span></span>
<span id="cb378-3348"><a href="#cb378-3348" aria-hidden="true" tabindex="-1"></a>local_obs_W <span class="ot">&lt;-</span> dML_W[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, ]</span>
<span id="cb378-3349"><a href="#cb378-3349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3350"><a href="#cb378-3350" aria-hidden="true" tabindex="-1"></a><span class="co"># one-hot encode the local observations to be assessed.</span></span>
<span id="cb378-3351"><a href="#cb378-3351" aria-hidden="true" tabindex="-1"></a>local_obs_onehot_W <span class="ot">&lt;-</span> vtreat<span class="sc">::</span><span class="fu">prepare</span>(treatplan_W, local_obs_W, <span class="at">varRestriction =</span> new_vars_W)</span>
<span id="cb378-3352"><a href="#cb378-3352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3353"><a href="#cb378-3353" aria-hidden="true" tabindex="-1"></a><span class="co"># apply LIME</span></span>
<span id="cb378-3354"><a href="#cb378-3354" aria-hidden="true" tabindex="-1"></a>explainer_W <span class="ot">&lt;-</span> <span class="fu">lime</span>(<span class="fu">data.frame</span>(features_train_W), finalModels_W<span class="sc">$</span>xgb[[modelToUse]], <span class="at">quantile_bins =</span> <span class="cn">FALSE</span>)</span>
<span id="cb378-3355"><a href="#cb378-3355" aria-hidden="true" tabindex="-1"></a>explanation_W <span class="ot">&lt;-</span> lime<span class="sc">::</span><span class="fu">explain</span>(local_obs_onehot_W, explainer_W, <span class="at">n_features =</span> <span class="dv">5</span>, <span class="at">n_labels =</span> <span class="dv">2</span>)</span>
<span id="cb378-3356"><a href="#cb378-3356" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_features</span>(explanation_W)</span>
<span id="cb378-3357"><a href="#cb378-3357" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3358"><a href="#cb378-3358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3359"><a href="#cb378-3359" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Predict</span></span>
<span id="cb378-3360"><a href="#cb378-3360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3363"><a href="#cb378-3363" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3364"><a href="#cb378-3364" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: predict_W</span></span>
<span id="cb378-3365"><a href="#cb378-3365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3366"><a href="#cb378-3366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3367"><a href="#cb378-3367" aria-hidden="true" tabindex="-1"></a>createPredictions <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">d =</span> finalModels_W, <span class="at">f =</span> features_test_W, <span class="at">r =</span> response_test_W, <span class="at">modelToUse =</span> modelToUse) {</span>
<span id="cb378-3368"><a href="#cb378-3368" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3369"><a href="#cb378-3369" aria-hidden="true" tabindex="-1"></a>  pred_W <span class="ot">&lt;-</span> <span class="fu">predict</span>(d<span class="sc">$</span>xgb[[modelToUse]], f)</span>
<span id="cb378-3370"><a href="#cb378-3370" aria-hidden="true" tabindex="-1"></a>  rmse <span class="ot">&lt;-</span> caret<span class="sc">::</span><span class="fu">RMSE</span>(pred_W, r)</span>
<span id="cb378-3371"><a href="#cb378-3371" aria-hidden="true" tabindex="-1"></a>  r2 <span class="ot">&lt;-</span> caret<span class="sc">::</span><span class="fu">R2</span>(pred_W, r)</span>
<span id="cb378-3372"><a href="#cb378-3372" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3373"><a href="#cb378-3373" aria-hidden="true" tabindex="-1"></a>  obsPred_W <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(<span class="at">obs =</span> r, <span class="at">pred =</span> pred_W, f)</span>
<span id="cb378-3374"><a href="#cb378-3374" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3375"><a href="#cb378-3375" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">r2 =</span> r2, <span class="at">rmse =</span> rmse, <span class="at">obsPred_W =</span> obsPred_W))</span>
<span id="cb378-3376"><a href="#cb378-3376" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-3377"><a href="#cb378-3377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3378"><a href="#cb378-3378" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3379"><a href="#cb378-3379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3382"><a href="#cb378-3382" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3383"><a href="#cb378-3383" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: obsPred_W</span></span>
<span id="cb378-3384"><a href="#cb378-3384" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-3385"><a href="#cb378-3385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3386"><a href="#cb378-3386" aria-hidden="true" tabindex="-1"></a>predsOP_W <span class="ot">&lt;-</span> <span class="fu">createPredictions</span>(finalModels_W, features_test_W, response_test_W, modelToUse) </span>
<span id="cb378-3387"><a href="#cb378-3387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3388"><a href="#cb378-3388" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(predsOP_W<span class="sc">$</span>obsPred_W, <span class="fu">aes</span>(obs, pred)) <span class="sc">+</span></span>
<span id="cb378-3389"><a href="#cb378-3389" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb378-3390"><a href="#cb378-3390" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Observed growth rate"</span>, <span class="at">y =</span> <span class="st">"Predicted growth rate"</span>) <span class="sc">+</span></span>
<span id="cb378-3391"><a href="#cb378-3391" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-3392"><a href="#cb378-3392" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">"r2 = "</span>, <span class="fu">round</span>(predsOP_W<span class="sc">$</span>r2, <span class="dv">2</span>), <span class="st">" RMSE = "</span>, <span class="fu">round</span>(predsOP_W<span class="sc">$</span>rmse, <span class="dv">5</span>)))</span>
<span id="cb378-3393"><a href="#cb378-3393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3394"><a href="#cb378-3394" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(predsOP_W<span class="sc">$</span>obsPred_W, <span class="fu">aes</span>(obs, pred)) <span class="sc">+</span></span>
<span id="cb378-3395"><a href="#cb378-3395" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb378-3396"><a href="#cb378-3396" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Observed growth rate"</span>, <span class="at">y =</span> <span class="st">"Predicted growth rate"</span>) <span class="sc">+</span></span>
<span id="cb378-3397"><a href="#cb378-3397" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-3398"><a href="#cb378-3398" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cohort)</span>
<span id="cb378-3399"><a href="#cb378-3399" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3400"><a href="#cb378-3400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3403"><a href="#cb378-3403" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3404"><a href="#cb378-3404" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: UsingGridInputs</span></span>
<span id="cb378-3405"><a href="#cb378-3405" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-3406"><a href="#cb378-3406" aria-hidden="true" tabindex="-1"></a>renameLev <span class="ot">&lt;-</span> <span class="cf">function</span>(d) {</span>
<span id="cb378-3407"><a href="#cb378-3407" aria-hidden="true" tabindex="-1"></a>  d <span class="sc">|&gt;</span>  </span>
<span id="cb378-3408"><a href="#cb378-3408" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_split</span>(<span class="st">"_lev_x_"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb378-3409"><a href="#cb378-3409" aria-hidden="true" tabindex="-1"></a>    <span class="fu">map</span>(<span class="sc">~</span>.x[<span class="dv">2</span>]) <span class="sc">|&gt;</span> </span>
<span id="cb378-3410"><a href="#cb378-3410" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>()</span>
<span id="cb378-3411"><a href="#cb378-3411" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-3412"><a href="#cb378-3412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3413"><a href="#cb378-3413" aria-hidden="true" tabindex="-1"></a>createPredictionsGrid <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">d =</span> finalModels_W, <span class="at">pg =</span> gridPred, <span class="at">modelToUse =</span> modelToUse){</span>
<span id="cb378-3414"><a href="#cb378-3414" aria-hidden="true" tabindex="-1"></a>  <span class="co">#, f = features_test_W, r = response_test_W, nSeq = 5, modelToUse = modelToUse) {</span></span>
<span id="cb378-3415"><a href="#cb378-3415" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3416"><a href="#cb378-3416" aria-hidden="true" tabindex="-1"></a>  predGrid <span class="ot">&lt;-</span> <span class="fu">predict</span>(d<span class="sc">$</span>xgb[[modelToUse]], pg)</span>
<span id="cb378-3417"><a href="#cb378-3417" aria-hidden="true" tabindex="-1"></a>  gridPredOut <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(pg, <span class="at">pred =</span> predGrid) <span class="sc">|&gt;</span> </span>
<span id="cb378-3418"><a href="#cb378-3418" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename_with</span>(</span>
<span id="cb378-3419"><a href="#cb378-3419" aria-hidden="true" tabindex="-1"></a>      renameLev,  </span>
<span id="cb378-3420"><a href="#cb378-3420" aria-hidden="true" tabindex="-1"></a>      <span class="fu">contains</span>(<span class="st">"_lev_x_"</span>)</span>
<span id="cb378-3421"><a href="#cb378-3421" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span>  </span>
<span id="cb378-3422"><a href="#cb378-3422" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rowwise</span>() <span class="sc">|&gt;</span> </span>
<span id="cb378-3423"><a href="#cb378-3423" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb378-3424"><a href="#cb378-3424" aria-hidden="true" tabindex="-1"></a>      <span class="at">sumRiver =</span> <span class="fu">sum</span>(Isolated_Small <span class="sc">+</span> Open_Large <span class="sc">+</span> Open_Small <span class="sc">+</span> West_Brook),</span>
<span id="cb378-3425"><a href="#cb378-3425" aria-hidden="true" tabindex="-1"></a>      <span class="at">sumSeason =</span> <span class="fu">sum</span>(Autumn <span class="sc">+</span> Spring <span class="sc">+</span> Summer <span class="sc">+</span> Winter)</span>
<span id="cb378-3426"><a href="#cb378-3426" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span>   </span>
<span id="cb378-3427"><a href="#cb378-3427" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb378-3428"><a href="#cb378-3428" aria-hidden="true" tabindex="-1"></a>      sumRiver <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb378-3429"><a href="#cb378-3429" aria-hidden="true" tabindex="-1"></a>      sumSeason <span class="sc">==</span> <span class="dv">1</span></span>
<span id="cb378-3430"><a href="#cb378-3430" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span>   </span>
<span id="cb378-3431"><a href="#cb378-3431" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb378-3432"><a href="#cb378-3432" aria-hidden="true" tabindex="-1"></a>      <span class="fu">across</span>(<span class="fu">c</span>(<span class="st">'Isolated_Small'</span><span class="sc">:</span><span class="st">'Winter'</span>), <span class="sc">~</span>.x <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb378-3433"><a href="#cb378-3433" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb378-3434"><a href="#cb378-3434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3435"><a href="#cb378-3435" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(gridPredOut)</span>
<span id="cb378-3436"><a href="#cb378-3436" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-3437"><a href="#cb378-3437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3438"><a href="#cb378-3438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3439"><a href="#cb378-3439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3440"><a href="#cb378-3440" aria-hidden="true" tabindex="-1"></a>nSeq <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb378-3441"><a href="#cb378-3441" aria-hidden="true" tabindex="-1"></a>xGrid <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb378-3442"><a href="#cb378-3442" aria-hidden="true" tabindex="-1"></a>    <span class="at">observedWeight =</span> <span class="dv">40</span>, <span class="co">#seq(min(f[,"observedWeight"]), max(f[,"observedWeight"]), length.out = nSeq),</span></span>
<span id="cb378-3443"><a href="#cb378-3443" aria-hidden="true" tabindex="-1"></a>    <span class="at">cohort =</span> <span class="dv">2010</span>, <span class="co">#seq(min(f[,"cohort"]), max(f[,"cohort"]), length.out = nSeq),</span></span>
<span id="cb378-3444"><a href="#cb378-3444" aria-hidden="true" tabindex="-1"></a>    <span class="at">age =</span> <span class="dv">1</span>, <span class="co">#seq(min(f[,"age"]), max(f[,"age"]), length.out = nSeq),</span></span>
<span id="cb378-3445"><a href="#cb378-3445" aria-hidden="true" tabindex="-1"></a>    <span class="at">meanTemperature =</span> <span class="fu">seq</span>(<span class="fu">min</span>(features_test_W[,<span class="st">"meanTemperature"</span>]), <span class="fu">max</span>(features_test_W[,<span class="st">"meanTemperature"</span>]), <span class="at">length.out =</span> nSeq <span class="sc">*</span> <span class="dv">3</span>),</span>
<span id="cb378-3446"><a href="#cb378-3446" aria-hidden="true" tabindex="-1"></a>    <span class="at">meanFlowByRiver =</span> <span class="fu">seq</span>(<span class="fu">min</span>(features_test_W[,<span class="st">"meanFlowByRiver"</span>]), <span class="fu">max</span>(features_test_W[,<span class="st">"meanFlowByRiver"</span>]), <span class="at">length.out =</span> nSeq <span class="sc">*</span> <span class="dv">3</span>),</span>
<span id="cb378-3447"><a href="#cb378-3447" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverGG_lev_x_Isolated_Small =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb378-3448"><a href="#cb378-3448" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverGG_lev_x_Open_Large =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb378-3449"><a href="#cb378-3449" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverGG_lev_x_Open_Small =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb378-3450"><a href="#cb378-3450" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverGG_lev_x_West_Brook =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb378-3451"><a href="#cb378-3451" aria-hidden="true" tabindex="-1"></a>    <span class="at">seasonGG_lev_x_Autumn =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb378-3452"><a href="#cb378-3452" aria-hidden="true" tabindex="-1"></a>    <span class="at">seasonGG_lev_x_Spring =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb378-3453"><a href="#cb378-3453" aria-hidden="true" tabindex="-1"></a>    <span class="at">seasonGG_lev_x_Summer =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb378-3454"><a href="#cb378-3454" aria-hidden="true" tabindex="-1"></a>    <span class="at">seasonGG_lev_x_Winter =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb378-3455"><a href="#cb378-3455" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb378-3456"><a href="#cb378-3456" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.matrix</span>()</span>
<span id="cb378-3457"><a href="#cb378-3457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3458"><a href="#cb378-3458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3459"><a href="#cb378-3459" aria-hidden="true" tabindex="-1"></a>preds_W <span class="ot">&lt;-</span> <span class="fu">createPredictionsGrid</span>(</span>
<span id="cb378-3460"><a href="#cb378-3460" aria-hidden="true" tabindex="-1"></a>  finalModels_W, </span>
<span id="cb378-3461"><a href="#cb378-3461" aria-hidden="true" tabindex="-1"></a>  xGrid,</span>
<span id="cb378-3462"><a href="#cb378-3462" aria-hidden="true" tabindex="-1"></a>  modelToUse</span>
<span id="cb378-3463"><a href="#cb378-3463" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb378-3464"><a href="#cb378-3464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3465"><a href="#cb378-3465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3466"><a href="#cb378-3466" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(preds_W <span class="sc">|&gt;</span> </span>
<span id="cb378-3467"><a href="#cb378-3467" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(</span>
<span id="cb378-3468"><a href="#cb378-3468" aria-hidden="true" tabindex="-1"></a>           <span class="co">#Isolated_Small, Open_Large, Open_Small, West_Brook, </span></span>
<span id="cb378-3469"><a href="#cb378-3469" aria-hidden="true" tabindex="-1"></a>           <span class="co">#Autumn, Spring, Summer, Winter</span></span>
<span id="cb378-3470"><a href="#cb378-3470" aria-hidden="true" tabindex="-1"></a>           ), </span>
<span id="cb378-3471"><a href="#cb378-3471" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(meanFlowByRiver, pred, <span class="at">color =</span> meanTemperature, <span class="at">group =</span> meanTemperature)) <span class="sc">+</span></span>
<span id="cb378-3472"><a href="#cb378-3472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb378-3473"><a href="#cb378-3473" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Stream flow"</span>, <span class="at">y =</span> <span class="st">"Predicted growth rate"</span>) <span class="sc">+</span></span>
<span id="cb378-3474"><a href="#cb378-3474" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-3475"><a href="#cb378-3475" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-3476"><a href="#cb378-3476" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Isolated_Small<span class="sc">+</span>Open_Large<span class="sc">+</span>Open_Small<span class="sc">+</span>West_Brook <span class="sc">~</span> Spring<span class="sc">+</span>Summer<span class="sc">+</span>Autumn<span class="sc">+</span>Winter)</span>
<span id="cb378-3477"><a href="#cb378-3477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3478"><a href="#cb378-3478" aria-hidden="true" tabindex="-1"></a><span class="co"># use seasonal zScores for environmetnal data</span></span>
<span id="cb378-3479"><a href="#cb378-3479" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3480"><a href="#cb378-3480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3481"><a href="#cb378-3481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3482"><a href="#cb378-3482" aria-hidden="true" tabindex="-1"></a><span class="fu">#### When and where do fish have predicted negative growth?</span></span>
<span id="cb378-3485"><a href="#cb378-3485" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3486"><a href="#cb378-3486" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: negPredGrowth_W</span></span>
<span id="cb378-3487"><a href="#cb378-3487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3488"><a href="#cb378-3488" aria-hidden="true" tabindex="-1"></a>predNeg <span class="ot">&lt;-</span> preds_W <span class="sc">|&gt;</span> <span class="fu">filter</span>(pred <span class="sc">&lt;</span> <span class="fl">0.000</span>)</span>
<span id="cb378-3489"><a href="#cb378-3489" aria-hidden="true" tabindex="-1"></a>predNeg <span class="sc">|&gt;</span> </span>
<span id="cb378-3490"><a href="#cb378-3490" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Isolated_Small, Open_Large, Open_Small, West_Brook, Autumn, Spring, Summer, Winter) <span class="sc">|&gt;</span> </span>
<span id="cb378-3491"><a href="#cb378-3491" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb378-3492"><a href="#cb378-3492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3493"><a href="#cb378-3493" aria-hidden="true" tabindex="-1"></a>predNeg <span class="sc">|&gt;</span> </span>
<span id="cb378-3494"><a href="#cb378-3494" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Autumn, Spring, Summer, Winter) <span class="sc">|&gt;</span> </span>
<span id="cb378-3495"><a href="#cb378-3495" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb378-3496"><a href="#cb378-3496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3497"><a href="#cb378-3497" aria-hidden="true" tabindex="-1"></a>predNeg <span class="sc">|&gt;</span> </span>
<span id="cb378-3498"><a href="#cb378-3498" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Isolated_Small, Open_Large, Open_Small, West_Brook) <span class="sc">|&gt;</span> </span>
<span id="cb378-3499"><a href="#cb378-3499" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb378-3500"><a href="#cb378-3500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3501"><a href="#cb378-3501" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3502"><a href="#cb378-3502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3503"><a href="#cb378-3503" aria-hidden="true" tabindex="-1"></a><span class="fu">## GAM for growth</span></span>
<span id="cb378-3506"><a href="#cb378-3506" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3507"><a href="#cb378-3507" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: gamGrowthRaw</span></span>
<span id="cb378-3508"><a href="#cb378-3508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3509"><a href="#cb378-3509" aria-hidden="true" tabindex="-1"></a><span class="co">#riverGG, seasonGG, observedWeight, cohort, age, meanTemperature, meanFlowByRiver, negGrowth</span></span>
<span id="cb378-3510"><a href="#cb378-3510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3511"><a href="#cb378-3511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3512"><a href="#cb378-3512" aria-hidden="true" tabindex="-1"></a>kValue <span class="ot">&lt;-</span> <span class="dv">4</span> </span>
<span id="cb378-3513"><a href="#cb378-3513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3514"><a href="#cb378-3514" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">!=</span> <span class="st">"Atlantic salmon"</span>), <span class="fu">aes</span>(flowByRiverS, grWeight, <span class="at">group =</span> speciesGG, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb378-3515"><a href="#cb378-3515" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb378-3516"><a href="#cb378-3516" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"gam"</span>, </span>
<span id="cb378-3517"><a href="#cb378-3517" aria-hidden="true" tabindex="-1"></a>              <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">s</span>(x, <span class="at">bs =</span> <span class="st">"cs"</span>, <span class="at">fx =</span> <span class="cn">TRUE</span>, <span class="at">k =</span> kValue), </span>
<span id="cb378-3518"><a href="#cb378-3518" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-3519"><a href="#cb378-3519" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-3520"><a href="#cb378-3520" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG)</span>
<span id="cb378-3521"><a href="#cb378-3521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3522"><a href="#cb378-3522" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">!=</span> <span class="st">"Atlantic salmon"</span>), <span class="fu">aes</span>(flowByRiverSR, grWeight, <span class="at">group =</span> speciesGG, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb378-3523"><a href="#cb378-3523" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb378-3524"><a href="#cb378-3524" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-3525"><a href="#cb378-3525" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"gam"</span>, </span>
<span id="cb378-3526"><a href="#cb378-3526" aria-hidden="true" tabindex="-1"></a>              <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">s</span>(x, <span class="at">bs =</span> <span class="st">"cs"</span>, <span class="at">fx =</span> <span class="cn">TRUE</span>, <span class="at">k =</span> kValue), </span>
<span id="cb378-3527"><a href="#cb378-3527" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-3528"><a href="#cb378-3528" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-3529"><a href="#cb378-3529" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-3530"><a href="#cb378-3530" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-3531"><a href="#cb378-3531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3532"><a href="#cb378-3532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3533"><a href="#cb378-3533" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">!=</span> <span class="st">"Atlantic salmon"</span>), <span class="fu">aes</span>(tempSR, grWeight, <span class="at">group =</span> speciesGG, <span class="at">color =</span> speciesGG)) <span class="sc">+</span></span>
<span id="cb378-3534"><a href="#cb378-3534" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb378-3535"><a href="#cb378-3535" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-3536"><a href="#cb378-3536" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"gam"</span>, </span>
<span id="cb378-3537"><a href="#cb378-3537" aria-hidden="true" tabindex="-1"></a>              <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">s</span>(x, <span class="at">bs =</span> <span class="st">"cs"</span>, <span class="at">fx =</span> <span class="cn">TRUE</span>, <span class="at">k =</span> kValue), </span>
<span id="cb378-3538"><a href="#cb378-3538" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-3539"><a href="#cb378-3539" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-3540"><a href="#cb378-3540" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-3541"><a href="#cb378-3541" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb378-3542"><a href="#cb378-3542" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3543"><a href="#cb378-3543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3544"><a href="#cb378-3544" aria-hidden="true" tabindex="-1"></a><span class="fu">### Linear models for growth  </span></span>
<span id="cb378-3545"><a href="#cb378-3545" aria-hidden="true" tabindex="-1"></a>Initial test of model structure for GAMs</span>
<span id="cb378-3548"><a href="#cb378-3548" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3549"><a href="#cb378-3549" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: linearModelGrowth</span></span>
<span id="cb378-3550"><a href="#cb378-3550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3551"><a href="#cb378-3551" aria-hidden="true" tabindex="-1"></a>runLinearModels <span class="ot">&lt;-</span> <span class="cf">function</span>(d, speciesIn) {</span>
<span id="cb378-3552"><a href="#cb378-3552" aria-hidden="true" tabindex="-1"></a>  models <span class="ot">=</span></span>
<span id="cb378-3553"><a href="#cb378-3553" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(<span class="at">model =</span> </span>
<span id="cb378-3554"><a href="#cb378-3554" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb378-3555"><a href="#cb378-3555" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG * tempSR * flowByRiverSR * observedWeight + cohortF * ageF)'</span>,</span>
<span id="cb378-3556"><a href="#cb378-3556" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG * tempSR * flowByRiverSR * observedWeight + cohortF)'</span>,</span>
<span id="cb378-3557"><a href="#cb378-3557" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG * tempSR * flowByRiverSR + cohortF * ageF)'</span>,</span>
<span id="cb378-3558"><a href="#cb378-3558" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG * tempSR * flowByRiverSR + cohortF)'</span>,</span>
<span id="cb378-3559"><a href="#cb378-3559" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG + tempSR * flowByRiverSR + cohortF * ageF)'</span>,</span>
<span id="cb378-3560"><a href="#cb378-3560" aria-hidden="true" tabindex="-1"></a>          <span class="st">'grWeight ~ (riverGG * seasonGG + tempSR + flowByRiverSR + cohortF * ageF)'</span></span>
<span id="cb378-3561"><a href="#cb378-3561" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb378-3562"><a href="#cb378-3562" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb378-3563"><a href="#cb378-3563" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb378-3564"><a href="#cb378-3564" aria-hidden="true" tabindex="-1"></a>      <span class="at">fit =</span> <span class="fu">map</span>(model, <span class="sc">~</span><span class="fu">lm</span>(.x, <span class="at">data =</span> d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn))),</span>
<span id="cb378-3565"><a href="#cb378-3565" aria-hidden="true" tabindex="-1"></a>      <span class="at">glanced =</span> <span class="fu">map</span>(fit, broom<span class="sc">::</span>glance),</span>
<span id="cb378-3566"><a href="#cb378-3566" aria-hidden="true" tabindex="-1"></a>      <span class="at">tidied =</span> <span class="fu">map</span>(fit, broom<span class="sc">::</span>tidy)</span>
<span id="cb378-3567"><a href="#cb378-3567" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb378-3568"><a href="#cb378-3568" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(models)</span>
<span id="cb378-3569"><a href="#cb378-3569" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-3570"><a href="#cb378-3570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3571"><a href="#cb378-3571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3572"><a href="#cb378-3572" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3573"><a href="#cb378-3573" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brook trout  </span></span>
<span id="cb378-3574"><a href="#cb378-3574" aria-hidden="true" tabindex="-1"></a>Most complex model has lowest AIC</span>
<span id="cb378-3577"><a href="#cb378-3577" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3578"><a href="#cb378-3578" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: linBKT</span></span>
<span id="cb378-3579"><a href="#cb378-3579" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-3580"><a href="#cb378-3580" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"Brook trout"</span></span>
<span id="cb378-3581"><a href="#cb378-3581" aria-hidden="true" tabindex="-1"></a>modLinearBKT <span class="ot">&lt;-</span> <span class="fu">runLinearModels</span>(dGAM, speciesIn)</span>
<span id="cb378-3582"><a href="#cb378-3582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3583"><a href="#cb378-3583" aria-hidden="true" tabindex="-1"></a>modLinearBKT <span class="sc">|&gt;</span> </span>
<span id="cb378-3584"><a href="#cb378-3584" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unnest</span>(glanced) <span class="sc">|&gt;</span></span>
<span id="cb378-3585"><a href="#cb378-3585" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(AIC) <span class="sc">|&gt;</span></span>
<span id="cb378-3586"><a href="#cb378-3586" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(model, AIC, df.residual, fit, tidied)</span>
<span id="cb378-3587"><a href="#cb378-3587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3588"><a href="#cb378-3588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3589"><a href="#cb378-3589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3590"><a href="#cb378-3590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3591"><a href="#cb378-3591" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3592"><a href="#cb378-3592" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brown trout  </span></span>
<span id="cb378-3593"><a href="#cb378-3593" aria-hidden="true" tabindex="-1"></a>Most complex model has lowest AIC</span>
<span id="cb378-3596"><a href="#cb378-3596" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3597"><a href="#cb378-3597" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: linBNT</span></span>
<span id="cb378-3598"><a href="#cb378-3598" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-3599"><a href="#cb378-3599" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"Brown trout"</span></span>
<span id="cb378-3600"><a href="#cb378-3600" aria-hidden="true" tabindex="-1"></a>modLinearBNT <span class="ot">&lt;-</span> <span class="fu">runLinearModels</span>(dGAM, speciesIn)</span>
<span id="cb378-3601"><a href="#cb378-3601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3602"><a href="#cb378-3602" aria-hidden="true" tabindex="-1"></a>modLinearBNT <span class="sc">|&gt;</span> </span>
<span id="cb378-3603"><a href="#cb378-3603" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unnest</span>(glanced) <span class="sc">|&gt;</span></span>
<span id="cb378-3604"><a href="#cb378-3604" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(AIC) <span class="sc">|&gt;</span></span>
<span id="cb378-3605"><a href="#cb378-3605" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(model, AIC, df.residual, fit, tidied)</span>
<span id="cb378-3606"><a href="#cb378-3606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3607"><a href="#cb378-3607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3608"><a href="#cb378-3608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3609"><a href="#cb378-3609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3610"><a href="#cb378-3610" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3611"><a href="#cb378-3611" aria-hidden="true" tabindex="-1"></a>These linear models suggest that we need significant complexity in GAM models  </span>
<span id="cb378-3612"><a href="#cb378-3612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3613"><a href="#cb378-3613" aria-hidden="true" tabindex="-1"></a><span class="fu">### GAM models for growth  </span></span>
<span id="cb378-3614"><a href="#cb378-3614" aria-hidden="true" tabindex="-1"></a>This modeling approach map() (which I would like to use), throws an error using bam(). Use gamX model approach below.</span>
<span id="cb378-3617"><a href="#cb378-3617" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3618"><a href="#cb378-3618" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: gamModelsGrowth</span></span>
<span id="cb378-3619"><a href="#cb378-3619" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-3620"><a href="#cb378-3620" aria-hidden="true" tabindex="-1"></a>runGAMModels <span class="ot">&lt;-</span> <span class="cf">function</span>(d, speciesIn, kIn) {</span>
<span id="cb378-3621"><a href="#cb378-3621" aria-hidden="true" tabindex="-1"></a>  models <span class="ot">=</span></span>
<span id="cb378-3622"><a href="#cb378-3622" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(<span class="at">model =</span> </span>
<span id="cb378-3623"><a href="#cb378-3623" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb378-3624"><a href="#cb378-3624" aria-hidden="true" tabindex="-1"></a>            <span class="st">'grWeight ~ riverGG * seasonGG * observedWeight + cohortF * ageF +             </span></span>
<span id="cb378-3625"><a href="#cb378-3625" aria-hidden="true" tabindex="-1"></a><span class="st">               s(flowByRiverSR, bs = "cr", k = kIn, by = riverGG) +</span></span>
<span id="cb378-3626"><a href="#cb378-3626" aria-hidden="true" tabindex="-1"></a><span class="st">               s(flowByRiverSR, bs = "cr", k = kIn, by = seasonGG) +</span></span>
<span id="cb378-3627"><a href="#cb378-3627" aria-hidden="true" tabindex="-1"></a><span class="st">               s(tempSR, bs = "cr", k = kIn, by = riverGG) +</span></span>
<span id="cb378-3628"><a href="#cb378-3628" aria-hidden="true" tabindex="-1"></a><span class="st">               s(tempSR, bs = "cr", k = kIn, by = seasonGG)'</span>,</span>
<span id="cb378-3629"><a href="#cb378-3629" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb378-3630"><a href="#cb378-3630" aria-hidden="true" tabindex="-1"></a>            <span class="st">'grWeight ~ riverGG * seasonGG * observedWeight * tempSR * flowByRiverSR + cohortF * ageF +             </span></span>
<span id="cb378-3631"><a href="#cb378-3631" aria-hidden="true" tabindex="-1"></a><span class="st">               s(flowByRiverSR, bs = "cr", k = kIn, by = riverGG) +</span></span>
<span id="cb378-3632"><a href="#cb378-3632" aria-hidden="true" tabindex="-1"></a><span class="st">               s(flowByRiverSR, bs = "cr", k = kIn, by = seasonGG) +</span></span>
<span id="cb378-3633"><a href="#cb378-3633" aria-hidden="true" tabindex="-1"></a><span class="st">               s(tempSR, bs = "cr", k = kIn, by = riverGG) +</span></span>
<span id="cb378-3634"><a href="#cb378-3634" aria-hidden="true" tabindex="-1"></a><span class="st">               s(tempSR, bs = "cr", k = kIn, by = seasonGG)'</span></span>
<span id="cb378-3635"><a href="#cb378-3635" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb378-3636"><a href="#cb378-3636" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb378-3637"><a href="#cb378-3637" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb378-3638"><a href="#cb378-3638" aria-hidden="true" tabindex="-1"></a>      <span class="at">fit =</span> <span class="fu">map</span>(model, <span class="sc">~</span> <span class="fu">bam</span>(.x, <span class="at">method =</span> <span class="st">"REML"</span>, <span class="at">data =</span> d <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>)))</span>
<span id="cb378-3639"><a href="#cb378-3639" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    glanced = map(fit, broom::glance),</span></span>
<span id="cb378-3640"><a href="#cb378-3640" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    tidied = map(fit, broom::tidy)</span></span>
<span id="cb378-3641"><a href="#cb378-3641" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb378-3642"><a href="#cb378-3642" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(models)</span>
<span id="cb378-3643"><a href="#cb378-3643" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-3644"><a href="#cb378-3644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3645"><a href="#cb378-3645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3646"><a href="#cb378-3646" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb378-3647"><a href="#cb378-3647" aria-hidden="true" tabindex="-1"></a><span class="co"># speciesIn &lt;- "Brook trout"</span></span>
<span id="cb378-3648"><a href="#cb378-3648" aria-hidden="true" tabindex="-1"></a><span class="co"># modLinearBKT &lt;- runGAMModels(dGAM, speciesIn, kValue)</span></span>
<span id="cb378-3649"><a href="#cb378-3649" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb378-3650"><a href="#cb378-3650" aria-hidden="true" tabindex="-1"></a><span class="co"># modLinearBKT |&gt; </span></span>
<span id="cb378-3651"><a href="#cb378-3651" aria-hidden="true" tabindex="-1"></a><span class="co">#     unnest(glanced) |&gt;</span></span>
<span id="cb378-3652"><a href="#cb378-3652" aria-hidden="true" tabindex="-1"></a><span class="co">#     arrange(AIC) |&gt;</span></span>
<span id="cb378-3653"><a href="#cb378-3653" aria-hidden="true" tabindex="-1"></a><span class="co">#     dplyr::select(model, AIC, df.residual, fit, tidied)</span></span>
<span id="cb378-3654"><a href="#cb378-3654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3655"><a href="#cb378-3655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3656"><a href="#cb378-3656" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3657"><a href="#cb378-3657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3658"><a href="#cb378-3658" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brook trout - flow by river</span></span>
<span id="cb378-3661"><a href="#cb378-3661" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3662"><a href="#cb378-3662" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: gamModsBKTFBR</span></span>
<span id="cb378-3663"><a href="#cb378-3663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3664"><a href="#cb378-3664" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"Brook trout"</span></span>
<span id="cb378-3665"><a href="#cb378-3665" aria-hidden="true" tabindex="-1"></a>kIn <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb378-3666"><a href="#cb378-3666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3667"><a href="#cb378-3667" aria-hidden="true" tabindex="-1"></a>gam0 <span class="ot">&lt;-</span> <span class="fu">bam</span>(grWeight <span class="sc">~</span> (riverGG <span class="sc">+</span> seasonGG <span class="sc">+</span> observedWeight <span class="sc">+</span> tempSR <span class="sc">+</span> flowSR)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> cohortF <span class="sc">*</span> ageF <span class="sc">+</span>             </span>
<span id="cb378-3668"><a href="#cb378-3668" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb378-3669"><a href="#cb378-3669" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG) <span class="sc">+</span></span>
<span id="cb378-3670"><a href="#cb378-3670" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb378-3671"><a href="#cb378-3671" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG),</span>
<span id="cb378-3672"><a href="#cb378-3672" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>), <span class="at">method =</span> <span class="st">"REML"</span>)</span>
<span id="cb378-3673"><a href="#cb378-3673" aria-hidden="true" tabindex="-1"></a><span class="do">######</span></span>
<span id="cb378-3674"><a href="#cb378-3674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3675"><a href="#cb378-3675" aria-hidden="true" tabindex="-1"></a>gam0ByRiver <span class="ot">&lt;-</span> <span class="fu">bam</span>(grWeight <span class="sc">~</span> (riverGG <span class="sc">+</span> seasonGG <span class="sc">+</span> observedWeight <span class="sc">+</span> tempSR <span class="sc">+</span> flowByRiverSR)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> cohortF <span class="sc">*</span> ageF <span class="sc">+</span>             </span>
<span id="cb378-3676"><a href="#cb378-3676" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb378-3677"><a href="#cb378-3677" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG) <span class="sc">+</span></span>
<span id="cb378-3678"><a href="#cb378-3678" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb378-3679"><a href="#cb378-3679" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG),</span>
<span id="cb378-3680"><a href="#cb378-3680" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>), <span class="at">method =</span> <span class="st">"REML"</span>)</span>
<span id="cb378-3681"><a href="#cb378-3681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3682"><a href="#cb378-3682" aria-hidden="true" tabindex="-1"></a>gam1ByRiver <span class="ot">&lt;-</span> <span class="fu">bam</span>(grWeight <span class="sc">~</span> (riverGG <span class="sc">+</span> seasonGG <span class="sc">+</span> observedWeight <span class="sc">+</span> tempSR <span class="sc">+</span> flowByRiverSR)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> cohortF <span class="sc">+</span>             </span>
<span id="cb378-3683"><a href="#cb378-3683" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb378-3684"><a href="#cb378-3684" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG) <span class="sc">+</span></span>
<span id="cb378-3685"><a href="#cb378-3685" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb378-3686"><a href="#cb378-3686" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG),</span>
<span id="cb378-3687"><a href="#cb378-3687" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>), <span class="at">method =</span> <span class="st">"REML"</span>)</span>
<span id="cb378-3688"><a href="#cb378-3688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3689"><a href="#cb378-3689" aria-hidden="true" tabindex="-1"></a><span class="co"># age matters, what about taking out length?</span></span>
<span id="cb378-3690"><a href="#cb378-3690" aria-hidden="true" tabindex="-1"></a>gam2ByRiver <span class="ot">&lt;-</span> <span class="fu">bam</span>(grWeight <span class="sc">~</span> (riverGG <span class="sc">+</span> seasonGG  <span class="sc">+</span> tempSR <span class="sc">+</span> flowByRiverSR)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> cohortF <span class="sc">*</span> ageF <span class="sc">+</span>             </span>
<span id="cb378-3691"><a href="#cb378-3691" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb378-3692"><a href="#cb378-3692" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG) <span class="sc">+</span></span>
<span id="cb378-3693"><a href="#cb378-3693" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb378-3694"><a href="#cb378-3694" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG),</span>
<span id="cb378-3695"><a href="#cb378-3695" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>), <span class="at">method =</span> <span class="st">"REML"</span>)</span>
<span id="cb378-3696"><a href="#cb378-3696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3697"><a href="#cb378-3697" aria-hidden="true" tabindex="-1"></a><span class="co">#nope, need to keep length</span></span>
<span id="cb378-3698"><a href="#cb378-3698" aria-hidden="true" tabindex="-1"></a><span class="co">#How about without the interactions?</span></span>
<span id="cb378-3699"><a href="#cb378-3699" aria-hidden="true" tabindex="-1"></a>gam3ByRiver <span class="ot">&lt;-</span> <span class="fu">bam</span>(grWeight <span class="sc">~</span> (riverGG <span class="sc">+</span> seasonGG <span class="sc">+</span> observedWeight <span class="sc">+</span> tempSR <span class="sc">+</span> flowByRiverSR) <span class="sc">+</span> cohortF <span class="sc">*</span> ageF <span class="sc">+</span>             </span>
<span id="cb378-3700"><a href="#cb378-3700" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb378-3701"><a href="#cb378-3701" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(flowByRiverSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG) <span class="sc">+</span></span>
<span id="cb378-3702"><a href="#cb378-3702" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> riverGG) <span class="sc">+</span></span>
<span id="cb378-3703"><a href="#cb378-3703" aria-hidden="true" tabindex="-1"></a>               <span class="fu">s</span>(tempSR, <span class="at">bs =</span> <span class="st">"cr"</span>, <span class="at">k =</span> kIn, <span class="at">by =</span> seasonGG),</span>
<span id="cb378-3704"><a href="#cb378-3704" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dGAM <span class="sc">|&gt;</span> <span class="fu">filter</span>(speciesGG <span class="sc">==</span> speciesIn, cohort <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>), <span class="at">method =</span> <span class="st">"REML"</span>)</span>
<span id="cb378-3705"><a href="#cb378-3705" aria-hidden="true" tabindex="-1"></a><span class="co">#nope, need the interactions</span></span>
<span id="cb378-3706"><a href="#cb378-3706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3707"><a href="#cb378-3707" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(gam0ByRiver, gam1ByRiver, gam2ByRiver, gam3ByRiver) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(AIC)</span>
<span id="cb378-3708"><a href="#cb378-3708" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3709"><a href="#cb378-3709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3710"><a href="#cb378-3710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3711"><a href="#cb378-3711" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Brook trout - compare flow and flow by river gams</span></span>
<span id="cb378-3714"><a href="#cb378-3714" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3715"><a href="#cb378-3715" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: gamModsCompare</span></span>
<span id="cb378-3716"><a href="#cb378-3716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3717"><a href="#cb378-3717" aria-hidden="true" tabindex="-1"></a>predictBKTgam <span class="ot">&lt;-</span> <span class="cf">function</span>(dIn, modInFlowByRiver){</span>
<span id="cb378-3718"><a href="#cb378-3718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3719"><a href="#cb378-3719" aria-hidden="true" tabindex="-1"></a>  <span class="co"># predMat0 &lt;- </span></span>
<span id="cb378-3720"><a href="#cb378-3720" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   expand.grid(</span></span>
<span id="cb378-3721"><a href="#cb378-3721" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     flowSR = seq(-1.5,1.5,0.25), </span></span>
<span id="cb378-3722"><a href="#cb378-3722" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     tempSR = seq(-1.5,1.5,0.25), </span></span>
<span id="cb378-3723"><a href="#cb378-3723" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     riverGG = unique(dIn$riverGG), </span></span>
<span id="cb378-3724"><a href="#cb378-3724" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     seasonGG= unique(dIn$seasonGG),</span></span>
<span id="cb378-3725"><a href="#cb378-3725" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     observedWeight = seq(2, max(dIn$observedWeight, na.rm = TRUE)/2, 20),</span></span>
<span id="cb378-3726"><a href="#cb378-3726" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     cohortF = 2000:2013,#uunique(dIn$cohortF),</span></span>
<span id="cb378-3727"><a href="#cb378-3727" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     ageF = 0:4,#unique(dIn$ageF),</span></span>
<span id="cb378-3728"><a href="#cb378-3728" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     byRiver = FALSE</span></span>
<span id="cb378-3729"><a href="#cb378-3729" aria-hidden="true" tabindex="-1"></a>  <span class="co"># )</span></span>
<span id="cb378-3730"><a href="#cb378-3730" aria-hidden="true" tabindex="-1"></a>  <span class="co"># predMat &lt;- </span></span>
<span id="cb378-3731"><a href="#cb378-3731" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   add_column(</span></span>
<span id="cb378-3732"><a href="#cb378-3732" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     pred = predict.bam(modInFlow, predMat0),</span></span>
<span id="cb378-3733"><a href="#cb378-3733" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     predMat0</span></span>
<span id="cb378-3734"><a href="#cb378-3734" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   ) |&gt; </span></span>
<span id="cb378-3735"><a href="#cb378-3735" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   rename(flow = flowSR, temp = tempSR)</span></span>
<span id="cb378-3736"><a href="#cb378-3736" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3737"><a href="#cb378-3737" aria-hidden="true" tabindex="-1"></a>  predMatByRiver0 <span class="ot">&lt;-</span> </span>
<span id="cb378-3738"><a href="#cb378-3738" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expand.grid</span>(</span>
<span id="cb378-3739"><a href="#cb378-3739" aria-hidden="true" tabindex="-1"></a>      <span class="at">flowByRiverSR =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb378-3740"><a href="#cb378-3740" aria-hidden="true" tabindex="-1"></a>      <span class="at">tempSR =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb378-3741"><a href="#cb378-3741" aria-hidden="true" tabindex="-1"></a>      <span class="at">riverGG =</span> <span class="fu">unique</span>(dIn<span class="sc">$</span>riverGG), </span>
<span id="cb378-3742"><a href="#cb378-3742" aria-hidden="true" tabindex="-1"></a>      <span class="at">seasonGG=</span> <span class="fu">unique</span>(dIn<span class="sc">$</span>seasonGG),</span>
<span id="cb378-3743"><a href="#cb378-3743" aria-hidden="true" tabindex="-1"></a>      <span class="at">observedWeight =</span> <span class="fu">seq</span>(<span class="dv">2</span>, <span class="fu">max</span>(dIn<span class="sc">$</span>observedWeight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="dv">2</span>, <span class="dv">20</span>),</span>
<span id="cb378-3744"><a href="#cb378-3744" aria-hidden="true" tabindex="-1"></a>      <span class="at">cohortF =</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2013</span>,<span class="co">#unique(dIn$cohortF),</span></span>
<span id="cb378-3745"><a href="#cb378-3745" aria-hidden="true" tabindex="-1"></a>      <span class="at">ageF =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>,<span class="co">#unique(dIn$ageF),</span></span>
<span id="cb378-3746"><a href="#cb378-3746" aria-hidden="true" tabindex="-1"></a>      <span class="at">byRiver =</span> <span class="cn">TRUE</span></span>
<span id="cb378-3747"><a href="#cb378-3747" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb378-3748"><a href="#cb378-3748" aria-hidden="true" tabindex="-1"></a>  predMatByRiver <span class="ot">&lt;-</span> </span>
<span id="cb378-3749"><a href="#cb378-3749" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_column</span>(</span>
<span id="cb378-3750"><a href="#cb378-3750" aria-hidden="true" tabindex="-1"></a>      <span class="at">pred =</span> <span class="fu">predict.bam</span>(modInFlowByRiver, predMatByRiver0),</span>
<span id="cb378-3751"><a href="#cb378-3751" aria-hidden="true" tabindex="-1"></a>      predMatByRiver0</span>
<span id="cb378-3752"><a href="#cb378-3752" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb378-3753"><a href="#cb378-3753" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">flow =</span> flowByRiverSR, <span class="at">temp =</span> tempSR)</span>
<span id="cb378-3754"><a href="#cb378-3754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3755"><a href="#cb378-3755" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(predMatByRiver)</span>
<span id="cb378-3756"><a href="#cb378-3756" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-3757"><a href="#cb378-3757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3758"><a href="#cb378-3758" aria-hidden="true" tabindex="-1"></a>gamBKTPredictions <span class="ot">&lt;-</span> <span class="fu">predictBKTgam</span>(dGAM, gam0ByRiver)</span>
<span id="cb378-3759"><a href="#cb378-3759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3760"><a href="#cb378-3760" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3761"><a href="#cb378-3761" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3762"><a href="#cb378-3762" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Graph predictions</span></span>
<span id="cb378-3765"><a href="#cb378-3765" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3766"><a href="#cb378-3766" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: graphGAMPredictions</span></span>
<span id="cb378-3767"><a href="#cb378-3767" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(gamBKTPredictions<span class="sc">$</span>observedWeight)</span>
<span id="cb378-3768"><a href="#cb378-3768" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3769"><a href="#cb378-3769" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb378-3770"><a href="#cb378-3770" aria-hidden="true" tabindex="-1"></a>  gamBKTPredictions <span class="sc">|&gt;</span> </span>
<span id="cb378-3771"><a href="#cb378-3771" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb378-3772"><a href="#cb378-3772" aria-hidden="true" tabindex="-1"></a>      observedWeight <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">22</span>), </span>
<span id="cb378-3773"><a href="#cb378-3773" aria-hidden="true" tabindex="-1"></a>      cohortF <span class="sc">==</span> <span class="dv">2012</span>, </span>
<span id="cb378-3774"><a href="#cb378-3774" aria-hidden="true" tabindex="-1"></a>      ageF <span class="sc">==</span> <span class="dv">0</span></span>
<span id="cb378-3775"><a href="#cb378-3775" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb378-3776"><a href="#cb378-3776" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(temp, pred, <span class="at">color =</span> (flow), <span class="at">group =</span> (flow))) <span class="sc">+</span></span>
<span id="cb378-3777"><a href="#cb378-3777" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb378-3778"><a href="#cb378-3778" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Stream temperature"</span>, <span class="at">y =</span> <span class="st">"Predicted growth rate"</span>) <span class="sc">+</span></span>
<span id="cb378-3779"><a href="#cb378-3779" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_smooth(se = FALSE) +</span></span>
<span id="cb378-3780"><a href="#cb378-3780" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb378-3781"><a href="#cb378-3781" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-3782"><a href="#cb378-3782" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>riverGG<span class="sc">+</span>byRiver, <span class="at">scales =</span> <span class="st">'free'</span>)</span>
<span id="cb378-3783"><a href="#cb378-3783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3784"><a href="#cb378-3784" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3785"><a href="#cb378-3785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3786"><a href="#cb378-3786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3787"><a href="#cb378-3787" aria-hidden="true" tabindex="-1"></a><span class="fu">## Logistic models for environmental effects on propNeg</span></span>
<span id="cb378-3788"><a href="#cb378-3788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3789"><a href="#cb378-3789" aria-hidden="true" tabindex="-1"></a><span class="fu">### Standardize flow and temperature</span></span>
<span id="cb378-3790"><a href="#cb378-3790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3793"><a href="#cb378-3793" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3794"><a href="#cb378-3794" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: flowTempZ</span></span>
<span id="cb378-3795"><a href="#cb378-3795" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-3796"><a href="#cb378-3796" aria-hidden="true" tabindex="-1"></a><span class="co"># getZ &lt;- function(d){</span></span>
<span id="cb378-3797"><a href="#cb378-3797" aria-hidden="true" tabindex="-1"></a><span class="co">#   list(</span></span>
<span id="cb378-3798"><a href="#cb378-3798" aria-hidden="true" tabindex="-1"></a><span class="co">#     mean = mean(d, na.rm = TRUE),</span></span>
<span id="cb378-3799"><a href="#cb378-3799" aria-hidden="true" tabindex="-1"></a><span class="co">#     sd = sd(d, na.rm = TRUE)</span></span>
<span id="cb378-3800"><a href="#cb378-3800" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb378-3801"><a href="#cb378-3801" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb378-3802"><a href="#cb378-3802" aria-hidden="true" tabindex="-1"></a><span class="co"># fZ &lt;- getZ(cd1$meanFlowByRiver)</span></span>
<span id="cb378-3803"><a href="#cb378-3803" aria-hidden="true" tabindex="-1"></a><span class="co"># fT &lt;- getZ(cd1$meanTemperature)</span></span>
<span id="cb378-3804"><a href="#cb378-3804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3805"><a href="#cb378-3805" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-3806"><a href="#cb378-3806" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season) <span class="sc">|&gt;</span> </span>
<span id="cb378-3807"><a href="#cb378-3807" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">fZMean =</span> <span class="fu">mean</span>(meanFlowByRiver, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb378-3808"><a href="#cb378-3808" aria-hidden="true" tabindex="-1"></a>            <span class="at">fZSd =</span> <span class="fu">sd</span>(meanFlowByRiver, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb378-3809"><a href="#cb378-3809" aria-hidden="true" tabindex="-1"></a>            <span class="at">fTMean =</span> <span class="fu">mean</span>(meanTemperature, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb378-3810"><a href="#cb378-3810" aria-hidden="true" tabindex="-1"></a>            <span class="at">fTSd =</span> <span class="fu">sd</span>(meanTemperature, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb378-3811"><a href="#cb378-3811" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb378-3812"><a href="#cb378-3812" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3813"><a href="#cb378-3813" aria-hidden="true" tabindex="-1"></a>cd1 <span class="ot">&lt;-</span> cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-3814"><a href="#cb378-3814" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(z) <span class="sc">|&gt;</span> </span>
<span id="cb378-3815"><a href="#cb378-3815" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">meanFlowByRiverZ =</span> (meanFlowByRiver <span class="sc">-</span> fZMean)<span class="sc">/</span>fZSd,</span>
<span id="cb378-3816"><a href="#cb378-3816" aria-hidden="true" tabindex="-1"></a>         <span class="at">meanTempZ =</span> (meanTemperature <span class="sc">-</span> fTMean)<span class="sc">/</span>fTSd)</span>
<span id="cb378-3817"><a href="#cb378-3817" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3818"><a href="#cb378-3818" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3819"><a href="#cb378-3819" aria-hidden="true" tabindex="-1"></a><span class="fu">### Raw data with logistic fit for flow effect</span></span>
<span id="cb378-3820"><a href="#cb378-3820" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3823"><a href="#cb378-3823" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3824"><a href="#cb378-3824" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: logisticFlow</span></span>
<span id="cb378-3825"><a href="#cb378-3825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3826"><a href="#cb378-3826" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)), <span class="fu">aes</span>(meanFlowByRiverZ, negGrowth <span class="sc">*</span> <span class="dv">1</span>, <span class="at">color =</span> river)) <span class="sc">+</span></span>
<span id="cb378-3827"><a href="#cb378-3827" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb378-3828"><a href="#cb378-3828" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"glm"</span>, </span>
<span id="cb378-3829"><a href="#cb378-3829" aria-hidden="true" tabindex="-1"></a>              <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"binomial"</span>),</span>
<span id="cb378-3830"><a href="#cb378-3830" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-3831"><a href="#cb378-3831" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Mean flow"</span>) <span class="sc">+</span></span>
<span id="cb378-3832"><a href="#cb378-3832" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-3833"><a href="#cb378-3833" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>species)</span>
<span id="cb378-3834"><a href="#cb378-3834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3835"><a href="#cb378-3835" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth)), <span class="fu">aes</span>(meanFlowByRiverZ, negGrowth <span class="sc">*</span> <span class="dv">1</span>, <span class="at">color =</span> river)) <span class="sc">+</span></span>
<span id="cb378-3836"><a href="#cb378-3836" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb378-3837"><a href="#cb378-3837" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"glm"</span>, </span>
<span id="cb378-3838"><a href="#cb378-3838" aria-hidden="true" tabindex="-1"></a>              <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"binomial"</span>),</span>
<span id="cb378-3839"><a href="#cb378-3839" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-3840"><a href="#cb378-3840" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Mean flow"</span>) <span class="sc">+</span></span>
<span id="cb378-3841"><a href="#cb378-3841" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-3842"><a href="#cb378-3842" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>species<span class="sc">+</span>river)</span>
<span id="cb378-3843"><a href="#cb378-3843" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3844"><a href="#cb378-3844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3845"><a href="#cb378-3845" aria-hidden="true" tabindex="-1"></a><span class="fu">### Raw data with logistic fit for temperature effect</span></span>
<span id="cb378-3846"><a href="#cb378-3846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3849"><a href="#cb378-3849" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3850"><a href="#cb378-3850" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: logisticTemp</span></span>
<span id="cb378-3851"><a href="#cb378-3851" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3852"><a href="#cb378-3852" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(negGrowth), meanTempZ <span class="sc">&gt;</span> <span class="sc">-</span><span class="dv">4</span>), <span class="fu">aes</span>(meanTempZ, negGrowth <span class="sc">*</span> <span class="dv">1</span>, <span class="at">color =</span> river)) <span class="sc">+</span></span>
<span id="cb378-3853"><a href="#cb378-3853" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb378-3854"><a href="#cb378-3854" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"glm"</span>, </span>
<span id="cb378-3855"><a href="#cb378-3855" aria-hidden="true" tabindex="-1"></a>              <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"binomial"</span>),</span>
<span id="cb378-3856"><a href="#cb378-3856" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-3857"><a href="#cb378-3857" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Mean temperature"</span>) <span class="sc">+</span></span>
<span id="cb378-3858"><a href="#cb378-3858" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-3859"><a href="#cb378-3859" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>species)</span>
<span id="cb378-3860"><a href="#cb378-3860" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3861"><a href="#cb378-3861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3862"><a href="#cb378-3862" aria-hidden="true" tabindex="-1"></a><span class="fu">## Logistic model for flow and temperature, one species at a time</span></span>
<span id="cb378-3863"><a href="#cb378-3863" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3864"><a href="#cb378-3864" aria-hidden="true" tabindex="-1"></a>Species occupy different rivers, so an all-species model will have</span>
<span id="cb378-3865"><a href="#cb378-3865" aria-hidden="true" tabindex="-1"></a>unequal river representation across species and don't need to predict</span>
<span id="cb378-3866"><a href="#cb378-3866" aria-hidden="true" tabindex="-1"></a>where species are not.</span>
<span id="cb378-3867"><a href="#cb378-3867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3868"><a href="#cb378-3868" aria-hidden="true" tabindex="-1"></a>Need to think through whether these models make sense...</span>
<span id="cb378-3869"><a href="#cb378-3869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3872"><a href="#cb378-3872" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3873"><a href="#cb378-3873" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: runLogisticModels</span></span>
<span id="cb378-3874"><a href="#cb378-3874" aria-hidden="true" tabindex="-1"></a>runSppModels <span class="ot">&lt;-</span> <span class="cf">function</span>(d, speciesIn) {</span>
<span id="cb378-3875"><a href="#cb378-3875" aria-hidden="true" tabindex="-1"></a>  models <span class="ot">=</span></span>
<span id="cb378-3876"><a href="#cb378-3876" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(<span class="at">model =</span> </span>
<span id="cb378-3877"><a href="#cb378-3877" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb378-3878"><a href="#cb378-3878" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ * meanTempZ * river'</span>,</span>
<span id="cb378-3879"><a href="#cb378-3879" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ * meanTempZ + river'</span>,</span>
<span id="cb378-3880"><a href="#cb378-3880" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ + meanTempZ + river'</span>, </span>
<span id="cb378-3881"><a href="#cb378-3881" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb378-3882"><a href="#cb378-3882" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ * meanTempZ'</span> , </span>
<span id="cb378-3883"><a href="#cb378-3883" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb378-3884"><a href="#cb378-3884" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ * meanTempZ * river * factor(season)'</span>,</span>
<span id="cb378-3885"><a href="#cb378-3885" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb378-3886"><a href="#cb378-3886" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ + meanTempZ * river * factor(season)'</span>, </span>
<span id="cb378-3887"><a href="#cb378-3887" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb378-3888"><a href="#cb378-3888" aria-hidden="true" tabindex="-1"></a>          <span class="st">'negGrowth ~ meanFlowByRiverZ * meanTempZ * river * factor(season) * observedWeight'</span> </span>
<span id="cb378-3889"><a href="#cb378-3889" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb378-3890"><a href="#cb378-3890" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb378-3891"><a href="#cb378-3891" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb378-3892"><a href="#cb378-3892" aria-hidden="true" tabindex="-1"></a>      <span class="at">fit =</span> <span class="fu">map</span>(model, <span class="sc">~</span><span class="fu">glm</span>(.x, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> d <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> speciesIn))),</span>
<span id="cb378-3893"><a href="#cb378-3893" aria-hidden="true" tabindex="-1"></a>      <span class="at">glanced =</span> <span class="fu">map</span>(fit, broom<span class="sc">::</span>glance),</span>
<span id="cb378-3894"><a href="#cb378-3894" aria-hidden="true" tabindex="-1"></a>      <span class="at">tidied =</span> <span class="fu">map</span>(fit, broom<span class="sc">::</span>tidy)</span>
<span id="cb378-3895"><a href="#cb378-3895" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb378-3896"><a href="#cb378-3896" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(models)</span>
<span id="cb378-3897"><a href="#cb378-3897" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb378-3898"><a href="#cb378-3898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3899"><a href="#cb378-3899" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3900"><a href="#cb378-3900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3901"><a href="#cb378-3901" aria-hidden="true" tabindex="-1"></a><span class="fu">### Predict p(neg growth in mass)</span></span>
<span id="cb378-3902"><a href="#cb378-3902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3905"><a href="#cb378-3905" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3906"><a href="#cb378-3906" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: predictLogistic</span></span>
<span id="cb378-3907"><a href="#cb378-3907" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3908"><a href="#cb378-3908" aria-hidden="true" tabindex="-1"></a>predictSpp <span class="ot">&lt;-</span> <span class="cf">function</span>(dIn, modIn, speciesIn){</span>
<span id="cb378-3909"><a href="#cb378-3909" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> dIn <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> speciesIn)</span>
<span id="cb378-3910"><a href="#cb378-3910" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3911"><a href="#cb378-3911" aria-hidden="true" tabindex="-1"></a>  byAIC <span class="ot">=</span> modIn <span class="sc">|&gt;</span> </span>
<span id="cb378-3912"><a href="#cb378-3912" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unnest</span>(glanced) <span class="sc">|&gt;</span></span>
<span id="cb378-3913"><a href="#cb378-3913" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(AIC) <span class="sc">|&gt;</span></span>
<span id="cb378-3914"><a href="#cb378-3914" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(model, AIC, df.residual, fit, tidied)</span>
<span id="cb378-3915"><a href="#cb378-3915" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3916"><a href="#cb378-3916" aria-hidden="true" tabindex="-1"></a>  predDSpp <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb378-3917"><a href="#cb378-3917" aria-hidden="true" tabindex="-1"></a>    <span class="at">meanFlowByRiverZ =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb378-3918"><a href="#cb378-3918" aria-hidden="true" tabindex="-1"></a>    <span class="at">meanTempZ =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb378-3919"><a href="#cb378-3919" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="fu">unique</span>(d<span class="sc">$</span>river), </span>
<span id="cb378-3920"><a href="#cb378-3920" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="fu">unique</span>(d<span class="sc">$</span>season),</span>
<span id="cb378-3921"><a href="#cb378-3921" aria-hidden="true" tabindex="-1"></a>    <span class="at">observedWeight =</span> <span class="fu">seq</span>(<span class="fu">min</span>(d<span class="sc">$</span>observedWeight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="fu">max</span>(d<span class="sc">$</span>observedWeight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">40</span>)</span>
<span id="cb378-3922"><a href="#cb378-3922" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb378-3923"><a href="#cb378-3923" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3924"><a href="#cb378-3924" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb378-3925"><a href="#cb378-3925" aria-hidden="true" tabindex="-1"></a>  pred <span class="ot">&lt;-</span> <span class="fu">add_column</span>(predDSpp, </span>
<span id="cb378-3926"><a href="#cb378-3926" aria-hidden="true" tabindex="-1"></a>                        <span class="at">pred =</span> <span class="fu">predict.glm</span>(byAIC[<span class="dv">1</span>,]<span class="sc">$</span>fit[[<span class="dv">1</span>]], predDSpp, <span class="at">type =</span> <span class="st">"response"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb378-3927"><a href="#cb378-3927" aria-hidden="true" tabindex="-1"></a>             <span class="fu">mutate</span>(<span class="at">groupT =</span> <span class="fu">paste</span>(river, season, meanTempZ, <span class="at">sep =</span> <span class="st">"_"</span>),</span>
<span id="cb378-3928"><a href="#cb378-3928" aria-hidden="true" tabindex="-1"></a>                    <span class="at">groupF =</span> <span class="fu">paste</span>(river, season, meanFlowByRiverZ, <span class="at">sep =</span> <span class="st">"_"</span>))</span>
<span id="cb378-3929"><a href="#cb378-3929" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(</span>
<span id="cb378-3930"><a href="#cb378-3930" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb378-3931"><a href="#cb378-3931" aria-hidden="true" tabindex="-1"></a>      <span class="at">pred =</span> pred,</span>
<span id="cb378-3932"><a href="#cb378-3932" aria-hidden="true" tabindex="-1"></a>      <span class="at">byAIC =</span> byAIC</span>
<span id="cb378-3933"><a href="#cb378-3933" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb378-3934"><a href="#cb378-3934" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb378-3935"><a href="#cb378-3935" aria-hidden="true" tabindex="-1"></a>}   </span>
<span id="cb378-3936"><a href="#cb378-3936" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3937"><a href="#cb378-3937" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3938"><a href="#cb378-3938" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3939"><a href="#cb378-3939" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3940"><a href="#cb378-3940" aria-hidden="true" tabindex="-1"></a><span class="fu">### Brook trout</span></span>
<span id="cb378-3941"><a href="#cb378-3941" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3944"><a href="#cb378-3944" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3945"><a href="#cb378-3945" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: modBKT</span></span>
<span id="cb378-3946"><a href="#cb378-3946" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"bkt"</span></span>
<span id="cb378-3947"><a href="#cb378-3947" aria-hidden="true" tabindex="-1"></a>modBKT <span class="ot">&lt;-</span> <span class="fu">runSppModels</span>(cd1, speciesIn)</span>
<span id="cb378-3948"><a href="#cb378-3948" aria-hidden="true" tabindex="-1"></a>predBKT <span class="ot">&lt;-</span> <span class="fu">predictSpp</span>(cd1, modBKT, speciesIn)</span>
<span id="cb378-3949"><a href="#cb378-3949" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3950"><a href="#cb378-3950" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3951"><a href="#cb378-3951" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(predBKT<span class="sc">$</span>pred <span class="sc">|&gt;</span> <span class="fu">filter</span>(meanTempZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>), meanFlowByRiverZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>)), <span class="fu">aes</span>(observedWeight, pred, <span class="at">group =</span> groupF)) <span class="sc">+</span></span>
<span id="cb378-3952"><a href="#cb378-3952" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(meanFlowByRiverZ))) <span class="sc">+</span></span>
<span id="cb378-3953"><a href="#cb378-3953" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Body mass (mg)"</span>) <span class="sc">+</span></span>
<span id="cb378-3954"><a href="#cb378-3954" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-3955"><a href="#cb378-3955" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>river<span class="sc">+</span>meanTempZ)</span>
<span id="cb378-3956"><a href="#cb378-3956" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3957"><a href="#cb378-3957" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3958"><a href="#cb378-3958" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3959"><a href="#cb378-3959" aria-hidden="true" tabindex="-1"></a><span class="fu">### Brown trout</span></span>
<span id="cb378-3960"><a href="#cb378-3960" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3963"><a href="#cb378-3963" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3964"><a href="#cb378-3964" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: modBnt</span></span>
<span id="cb378-3965"><a href="#cb378-3965" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-3966"><a href="#cb378-3966" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"bnt"</span></span>
<span id="cb378-3967"><a href="#cb378-3967" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3968"><a href="#cb378-3968" aria-hidden="true" tabindex="-1"></a>modBNT <span class="ot">&lt;-</span> <span class="fu">runSppModels</span>(cd1, speciesIn)</span>
<span id="cb378-3969"><a href="#cb378-3969" aria-hidden="true" tabindex="-1"></a>predBNT <span class="ot">&lt;-</span> <span class="fu">predictSpp</span>(cd1, modBNT, speciesIn)</span>
<span id="cb378-3970"><a href="#cb378-3970" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3971"><a href="#cb378-3971" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3972"><a href="#cb378-3972" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(predBNT<span class="sc">$</span>pred <span class="sc">|&gt;</span> <span class="fu">filter</span>(meanTempZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>), meanFlowByRiverZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>)), <span class="fu">aes</span>(observedWeight, pred, <span class="at">group =</span> groupF)) <span class="sc">+</span></span>
<span id="cb378-3973"><a href="#cb378-3973" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(meanFlowByRiverZ))) <span class="sc">+</span></span>
<span id="cb378-3974"><a href="#cb378-3974" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Body mass (mg)"</span>) <span class="sc">+</span></span>
<span id="cb378-3975"><a href="#cb378-3975" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-3976"><a href="#cb378-3976" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>river<span class="sc">+</span>meanTempZ)</span>
<span id="cb378-3977"><a href="#cb378-3977" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3978"><a href="#cb378-3978" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3979"><a href="#cb378-3979" aria-hidden="true" tabindex="-1"></a><span class="fu">### Atlantic salmon</span></span>
<span id="cb378-3980"><a href="#cb378-3980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3983"><a href="#cb378-3983" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-3984"><a href="#cb378-3984" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: modAts</span></span>
<span id="cb378-3985"><a href="#cb378-3985" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-3986"><a href="#cb378-3986" aria-hidden="true" tabindex="-1"></a>speciesIn <span class="ot">&lt;-</span> <span class="st">"ats"</span></span>
<span id="cb378-3987"><a href="#cb378-3987" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3988"><a href="#cb378-3988" aria-hidden="true" tabindex="-1"></a>modATS <span class="ot">&lt;-</span> <span class="fu">runSppModels</span>(cd1, speciesIn)</span>
<span id="cb378-3989"><a href="#cb378-3989" aria-hidden="true" tabindex="-1"></a>predATS <span class="ot">&lt;-</span> <span class="fu">predictSpp</span>(cd1, modATS, speciesIn)</span>
<span id="cb378-3990"><a href="#cb378-3990" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3991"><a href="#cb378-3991" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3992"><a href="#cb378-3992" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(predATS<span class="sc">$</span>pred <span class="sc">|&gt;</span> <span class="fu">filter</span>(meanTempZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>), meanFlowByRiverZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>)), <span class="fu">aes</span>(observedWeight, pred, <span class="at">group =</span> groupF)) <span class="sc">+</span></span>
<span id="cb378-3993"><a href="#cb378-3993" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(meanFlowByRiverZ))) <span class="sc">+</span></span>
<span id="cb378-3994"><a href="#cb378-3994" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Body mass (mg)"</span>) <span class="sc">+</span></span>
<span id="cb378-3995"><a href="#cb378-3995" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-3996"><a href="#cb378-3996" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>river<span class="sc">+</span>meanTempZ)</span>
<span id="cb378-3997"><a href="#cb378-3997" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-3998"><a href="#cb378-3998" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3999"><a href="#cb378-3999" aria-hidden="true" tabindex="-1"></a><span class="fu">## Two growth models</span></span>
<span id="cb378-4000"><a href="#cb378-4000" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4001"><a href="#cb378-4001" aria-hidden="true" tabindex="-1"></a><span class="fu">### Size-adjusted growth model</span></span>
<span id="cb378-4002"><a href="#cb378-4002" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4003"><a href="#cb378-4003" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Get l-w relationships for size-adjusted growth model</span></span>
<span id="cb378-4004"><a href="#cb378-4004" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4005"><a href="#cb378-4005" aria-hidden="true" tabindex="-1"></a>Here, we will explore size-independent growth in mass, see</span>
<span id="cb378-4006"><a href="#cb378-4006" aria-hidden="true" tabindex="-1"></a><span class="in">`Sigourney, D. B., B H Letcher, M. Obedzinski, and R. A. Cunjak. “Size-Independent Growth in Fishes: Patterns, Models and Metrics.” Journal of Fish Biology 72, no. 10 (2008): 2435–55. https://doi.org/10.1111/j.1095-8649.2008.01830.x.`</span></span>
<span id="cb378-4007"><a href="#cb378-4007" aria-hidden="true" tabindex="-1"></a>Size-independent growth (<span class="in">`grWeightS`</span>) is calculated in</span>
<span id="cb378-4008"><a href="#cb378-4008" aria-hidden="true" tabindex="-1"></a>getDataElectro_targets.R file using addSizeIndGrowthWeight().\</span>
<span id="cb378-4009"><a href="#cb378-4009" aria-hidden="true" tabindex="-1"></a><span class="in">`grWeightS`</span> uses the slope of <span class="in">`log(observedWeight)`</span> \~ <span class="in">`log(grWeight)`</span></span>
<span id="cb378-4010"><a href="#cb378-4010" aria-hidden="true" tabindex="-1"></a>for each river and season and species to adjust growth.\</span>
<span id="cb378-4011"><a href="#cb378-4011" aria-hidden="true" tabindex="-1"></a>A simple linear models shows we need to get separate slopes for each</span>
<span id="cb378-4012"><a href="#cb378-4012" aria-hidden="true" tabindex="-1"></a>river and season and species.</span>
<span id="cb378-4013"><a href="#cb378-4013" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4016"><a href="#cb378-4016" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-4017"><a href="#cb378-4017" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: grW_models</span></span>
<span id="cb378-4018"><a href="#cb378-4018" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>), </span>
<span id="cb378-4019"><a href="#cb378-4019" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="fu">log</span>(observedWeight), <span class="fu">log</span>(grWeight), <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-4020"><a href="#cb378-4020" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>)  <span class="sc">+</span></span>
<span id="cb378-4021"><a href="#cb378-4021" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-4022"><a href="#cb378-4022" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Log of mass (mg)"</span>, <span class="at">x =</span> <span class="st">"Log of growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-4023"><a href="#cb378-4023" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-4024"><a href="#cb378-4024" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-4025"><a href="#cb378-4025" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-4026"><a href="#cb378-4026" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4027"><a href="#cb378-4027" aria-hidden="true" tabindex="-1"></a>mod0 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(grWeight) <span class="sc">~</span> <span class="fu">log</span>(observedWeight), <span class="at">data =</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb378-4028"><a href="#cb378-4028" aria-hidden="true" tabindex="-1"></a>mod1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(grWeight) <span class="sc">~</span> <span class="fu">log</span>(observedWeight) <span class="sc">*</span> river, <span class="at">data =</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb378-4029"><a href="#cb378-4029" aria-hidden="true" tabindex="-1"></a>mod2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(grWeight) <span class="sc">~</span> <span class="fu">log</span>(observedWeight) <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season), <span class="at">data =</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb378-4030"><a href="#cb378-4030" aria-hidden="true" tabindex="-1"></a>mod3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(grWeight) <span class="sc">~</span> <span class="fu">log</span>(observedWeight) <span class="sc">*</span> <span class="fu">factor</span>(season), <span class="at">data =</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb378-4031"><a href="#cb378-4031" aria-hidden="true" tabindex="-1"></a>mod4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(grWeight) <span class="sc">~</span> <span class="fu">log</span>(observedWeight) <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">*</span> species, <span class="at">data =</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(grWeight <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb378-4032"><a href="#cb378-4032" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4033"><a href="#cb378-4033" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(mod0,mod1,mod2,mod3,mod4) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(AIC)</span>
<span id="cb378-4034"><a href="#cb378-4034" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-4035"><a href="#cb378-4035" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4036"><a href="#cb378-4036" aria-hidden="true" tabindex="-1"></a><span class="fu">### Compare size-adjusted and instantaneous growth</span></span>
<span id="cb378-4037"><a href="#cb378-4037" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4038"><a href="#cb378-4038" aria-hidden="true" tabindex="-1"></a>Differences don't seem big enough to warrant the extra complexity from</span>
<span id="cb378-4039"><a href="#cb378-4039" aria-hidden="true" tabindex="-1"></a>the s-adjusted growth metric</span>
<span id="cb378-4040"><a href="#cb378-4040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4043"><a href="#cb378-4043" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-4044"><a href="#cb378-4044" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: grWeight_v_grWeightS</span></span>
<span id="cb378-4045"><a href="#cb378-4045" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1, <span class="fu">aes</span>(grWeight, grWeightS, <span class="at">color =</span> riverGG)) <span class="sc">+</span></span>
<span id="cb378-4046"><a href="#cb378-4046" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>)  <span class="sc">+</span></span>
<span id="cb378-4047"><a href="#cb378-4047" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-4048"><a href="#cb378-4048" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb378-4049"><a href="#cb378-4049" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Gowth in mass"</span>, <span class="at">x =</span> <span class="st">"Size-adjusted growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-4050"><a href="#cb378-4050" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-4051"><a href="#cb378-4051" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-4052"><a href="#cb378-4052" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-4053"><a href="#cb378-4053" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4054"><a href="#cb378-4054" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1 <span class="sc">|&gt;</span> </span>
<span id="cb378-4055"><a href="#cb378-4055" aria-hidden="true" tabindex="-1"></a>         dplyr<span class="sc">::</span><span class="fu">select</span>(observedWeight, grWeight, grWeightS, seasonGG, speciesGG) <span class="sc">|&gt;</span> </span>
<span id="cb378-4056"><a href="#cb378-4056" aria-hidden="true" tabindex="-1"></a>         <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(grWeight, grWeightS)),</span>
<span id="cb378-4057"><a href="#cb378-4057" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb378-4058"><a href="#cb378-4058" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="fu">log</span>(observedWeight), value, <span class="at">color =</span> name)) <span class="sc">+</span></span>
<span id="cb378-4059"><a href="#cb378-4059" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span> )  <span class="sc">+</span></span>
<span id="cb378-4060"><a href="#cb378-4060" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb378-4061"><a href="#cb378-4061" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Log of mass (mg)"</span>, <span class="at">x =</span> <span class="st">"Growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-4062"><a href="#cb378-4062" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-4063"><a href="#cb378-4063" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-4064"><a href="#cb378-4064" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-4065"><a href="#cb378-4065" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-4066"><a href="#cb378-4066" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4067"><a href="#cb378-4067" aria-hidden="true" tabindex="-1"></a><span class="fu">## Compare growth in length and mass</span></span>
<span id="cb378-4068"><a href="#cb378-4068" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4069"><a href="#cb378-4069" aria-hidden="true" tabindex="-1"></a><span class="fu">### Growth rate in length vs size-independent growth rate in mass</span></span>
<span id="cb378-4070"><a href="#cb378-4070" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4073"><a href="#cb378-4073" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-4074"><a href="#cb378-4074" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: grLen_v_grWeightS</span></span>
<span id="cb378-4075"><a href="#cb378-4075" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cd1, <span class="fu">aes</span>(grLength, grWeightS)) <span class="sc">+</span></span>
<span id="cb378-4076"><a href="#cb378-4076" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> observedWeight), <span class="at">alpha =</span> <span class="fl">0.02</span>) <span class="sc">+</span></span>
<span id="cb378-4077"><a href="#cb378-4077" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb378-4078"><a href="#cb378-4078" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Growth in length"</span>, <span class="at">y =</span> <span class="st">"Size-adjusted growth in mass"</span>) <span class="sc">+</span></span>
<span id="cb378-4079"><a href="#cb378-4079" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>() <span class="sc">+</span></span>
<span id="cb378-4080"><a href="#cb378-4080" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-4081"><a href="#cb378-4081" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(seasonGG<span class="sc">~</span>speciesGG)</span>
<span id="cb378-4082"><a href="#cb378-4082" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-4083"><a href="#cb378-4083" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4084"><a href="#cb378-4084" aria-hidden="true" tabindex="-1"></a><span class="fu">## **Deprecated** logistic models below</span></span>
<span id="cb378-4085"><a href="#cb378-4085" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4086"><a href="#cb378-4086" aria-hidden="true" tabindex="-1"></a><span class="fu">### Logistic model for flow and temperature, all species</span></span>
<span id="cb378-4087"><a href="#cb378-4087" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4088"><a href="#cb378-4088" aria-hidden="true" tabindex="-1"></a><span class="fu">### Model selection</span></span>
<span id="cb378-4089"><a href="#cb378-4089" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4092"><a href="#cb378-4092" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-4093"><a href="#cb378-4093" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: logistic models all species</span></span>
<span id="cb378-4094"><a href="#cb378-4094" aria-hidden="true" tabindex="-1"></a>modSpecies <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"bkt"</span>, <span class="st">"ats"</span>, <span class="st">"bnt"</span>)</span>
<span id="cb378-4095"><a href="#cb378-4095" aria-hidden="true" tabindex="-1"></a>cd1Mod <span class="ot">&lt;-</span> cd1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> modSpecies)</span>
<span id="cb378-4096"><a href="#cb378-4096" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4097"><a href="#cb378-4097" aria-hidden="true" tabindex="-1"></a>modFT0 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4098"><a href="#cb378-4098" aria-hidden="true" tabindex="-1"></a>modFT1 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">+</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4099"><a href="#cb378-4099" aria-hidden="true" tabindex="-1"></a>modFT2 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">+</span> river <span class="sc">+</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4100"><a href="#cb378-4100" aria-hidden="true" tabindex="-1"></a>modFT3 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">+</span> meanTempZ <span class="sc">+</span> river <span class="sc">+</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4101"><a href="#cb378-4101" aria-hidden="true" tabindex="-1"></a>modFT4 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">+</span> river , <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4102"><a href="#cb378-4102" aria-hidden="true" tabindex="-1"></a>modFT5 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">+</span> river , <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4103"><a href="#cb378-4103" aria-hidden="true" tabindex="-1"></a>modFT6 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">+</span> species , <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4104"><a href="#cb378-4104" aria-hidden="true" tabindex="-1"></a>modFT7 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4105"><a href="#cb378-4105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4106"><a href="#cb378-4106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4107"><a href="#cb378-4107" aria-hidden="true" tabindex="-1"></a>modFT8 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">+</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4108"><a href="#cb378-4108" aria-hidden="true" tabindex="-1"></a>modFT9 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">*</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4109"><a href="#cb378-4109" aria-hidden="true" tabindex="-1"></a>modFT10 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">+</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">*</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4110"><a href="#cb378-4110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4111"><a href="#cb378-4111" aria-hidden="true" tabindex="-1"></a>modFT11 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">*</span> observedWeight <span class="sc">+</span> species, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4112"><a href="#cb378-4112" aria-hidden="true" tabindex="-1"></a>modFT12 <span class="ot">&lt;-</span> <span class="fu">glm</span>(negGrowth <span class="sc">~</span> meanFlowByRiverZ <span class="sc">*</span> meanTempZ <span class="sc">*</span> river <span class="sc">*</span> <span class="fu">factor</span>(season) <span class="sc">*</span> species <span class="sc">*</span> observedWeight, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> cd1Mod)</span>
<span id="cb378-4113"><a href="#cb378-4113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4114"><a href="#cb378-4114" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(modFT0, modFT1,modFT2, modFT3,modFT4,modFT5, modFT6,modFT7,modFT8,modFT9,modFT10, modFT11, modFT12) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(AIC)</span>
<span id="cb378-4115"><a href="#cb378-4115" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-4116"><a href="#cb378-4116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4117"><a href="#cb378-4117" aria-hidden="true" tabindex="-1"></a><span class="fu">### Model results for additive model (not very good)</span></span>
<span id="cb378-4118"><a href="#cb378-4118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4121"><a href="#cb378-4121" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-4122"><a href="#cb378-4122" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: badAdditiveModel</span></span>
<span id="cb378-4123"><a href="#cb378-4123" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.statology.org/logistic-regression-in-r/</span></span>
<span id="cb378-4124"><a href="#cb378-4124" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(modFT3)</span></span>
<span id="cb378-4125"><a href="#cb378-4125" aria-hidden="true" tabindex="-1"></a><span class="co">#anova(modFT3)</span></span>
<span id="cb378-4126"><a href="#cb378-4126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4127"><a href="#cb378-4127" aria-hidden="true" tabindex="-1"></a>pscl<span class="sc">::</span><span class="fu">pR2</span>(modFT3)[<span class="st">"McFadden"</span>]</span>
<span id="cb378-4128"><a href="#cb378-4128" aria-hidden="true" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">varImp</span>(modFT3) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(Overall))</span>
<span id="cb378-4129"><a href="#cb378-4129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4130"><a href="#cb378-4130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4131"><a href="#cb378-4131" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-4132"><a href="#cb378-4132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4133"><a href="#cb378-4133" aria-hidden="true" tabindex="-1"></a><span class="fu">### Model results for full interactive model (best model)</span></span>
<span id="cb378-4134"><a href="#cb378-4134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4137"><a href="#cb378-4137" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-4138"><a href="#cb378-4138" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fullModel</span></span>
<span id="cb378-4139"><a href="#cb378-4139" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.statology.org/logistic-regression-in-r/</span></span>
<span id="cb378-4140"><a href="#cb378-4140" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(modFT11)</span></span>
<span id="cb378-4141"><a href="#cb378-4141" aria-hidden="true" tabindex="-1"></a><span class="co">#anova(modFT11)</span></span>
<span id="cb378-4142"><a href="#cb378-4142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4143"><a href="#cb378-4143" aria-hidden="true" tabindex="-1"></a><span class="co"># full interaction</span></span>
<span id="cb378-4144"><a href="#cb378-4144" aria-hidden="true" tabindex="-1"></a>pscl<span class="sc">::</span><span class="fu">pR2</span>(modFT11)[<span class="st">"McFadden"</span>]</span>
<span id="cb378-4145"><a href="#cb378-4145" aria-hidden="true" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">varImp</span>(modFT11) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(Overall))</span>
<span id="cb378-4146"><a href="#cb378-4146" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-4147"><a href="#cb378-4147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4148"><a href="#cb378-4148" aria-hidden="true" tabindex="-1"></a><span class="fu">### Precict p(neg growth in mass)</span></span>
<span id="cb378-4149"><a href="#cb378-4149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4152"><a href="#cb378-4152" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-4153"><a href="#cb378-4153" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: predictFull</span></span>
<span id="cb378-4154"><a href="#cb378-4154" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb378-4155"><a href="#cb378-4155" aria-hidden="true" tabindex="-1"></a>predD <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb378-4156"><a href="#cb378-4156" aria-hidden="true" tabindex="-1"></a>  <span class="at">meanFlowByRiverZ =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb378-4157"><a href="#cb378-4157" aria-hidden="true" tabindex="-1"></a>  <span class="at">meanTempZ =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>,<span class="fl">0.25</span>), </span>
<span id="cb378-4158"><a href="#cb378-4158" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">unique</span>(cd1<span class="sc">$</span>river), </span>
<span id="cb378-4159"><a href="#cb378-4159" aria-hidden="true" tabindex="-1"></a>  <span class="at">species =</span> <span class="fu">unique</span>(cd1<span class="sc">$</span>species), </span>
<span id="cb378-4160"><a href="#cb378-4160" aria-hidden="true" tabindex="-1"></a>  <span class="at">season =</span> <span class="fu">unique</span>(cd1<span class="sc">$</span>season),</span>
<span id="cb378-4161"><a href="#cb378-4161" aria-hidden="true" tabindex="-1"></a>  <span class="at">observedWeight =</span> <span class="fu">seq</span>(<span class="fu">min</span>(cd1<span class="sc">$</span>observedWeight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="fu">max</span>(cd1<span class="sc">$</span>observedWeight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">40</span>)</span>
<span id="cb378-4162"><a href="#cb378-4162" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb378-4163"><a href="#cb378-4163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4164"><a href="#cb378-4164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4165"><a href="#cb378-4165" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">add_column</span>(predD, </span>
<span id="cb378-4166"><a href="#cb378-4166" aria-hidden="true" tabindex="-1"></a>                   <span class="at">pred =</span> <span class="fu">predict.glm</span>(modFT11, predD, <span class="at">type =</span> <span class="st">"response"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb378-4167"><a href="#cb378-4167" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">groupT =</span> <span class="fu">paste</span>(river, species, season, meanTempZ, <span class="at">sep =</span> <span class="st">"_"</span>),</span>
<span id="cb378-4168"><a href="#cb378-4168" aria-hidden="true" tabindex="-1"></a>               <span class="at">groupF =</span> <span class="fu">paste</span>(river, species, season, meanFlowByRiverZ, <span class="at">sep =</span> <span class="st">"_"</span>))</span>
<span id="cb378-4169"><a href="#cb378-4169" aria-hidden="true" tabindex="-1"></a>                   </span>
<span id="cb378-4170"><a href="#cb378-4170" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb378-4171"><a href="#cb378-4171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4172"><a href="#cb378-4172" aria-hidden="true" tabindex="-1"></a><span class="fu">### Plot predictions</span></span>
<span id="cb378-4173"><a href="#cb378-4173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4176"><a href="#cb378-4176" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb378-4177"><a href="#cb378-4177" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: plotPred</span></span>
<span id="cb378-4178"><a href="#cb378-4178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-4179"><a href="#cb378-4179" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pred <span class="sc">|&gt;</span> <span class="fu">filter</span>(meanTempZ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>,<span class="dv">0</span>,<span class="fl">1.5</span>), observedWeight <span class="sc">==</span> <span class="fl">161.3</span>), <span class="fu">aes</span>(meanFlowByRiverZ, pred, <span class="at">group=</span> groupT)) <span class="sc">+</span></span>
<span id="cb378-4180"><a href="#cb378-4180" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(meanTempZ))) <span class="sc">+</span></span>
<span id="cb378-4181"><a href="#cb378-4181" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Probability of negative growth in mass"</span>, <span class="at">x =</span> <span class="st">"Mean flow"</span>) <span class="sc">+</span></span>
<span id="cb378-4182"><a href="#cb378-4182" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_publication</span>() <span class="sc">+</span>    </span>
<span id="cb378-4183"><a href="#cb378-4183" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(season<span class="sc">~</span>species<span class="sc">+</span>river)</span>
<span id="cb378-4184"><a href="#cb378-4184" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>